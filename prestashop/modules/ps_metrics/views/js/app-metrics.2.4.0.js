var Ys=Object.defineProperty,Vs=Object.defineProperties;var Fs=Object.getOwnPropertyDescriptors;var dt=Object.getOwnPropertySymbols;var qs=Object.prototype.hasOwnProperty,Ks=Object.prototype.propertyIsEnumerable;var Ve=(e,s,r)=>s in e?Ys(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,A=(e,s)=>{for(var r in s||(s={}))qs.call(s,r)&&Ve(e,r,s[r]);if(dt)for(var r of dt(s))Ks.call(s,r)&&Ve(e,r,s[r]);return e},J=(e,s)=>Vs(e,Fs(s));var Ne=(e,s,r)=>(Ve(e,typeof s!="symbol"?s+"":s,r),r);import{a as Hs,l as zs,d as T,S as js,b as Qs,c as Ws,e as ut,I as pt,A as gt,W as Js,s as Xs,f as Zs,g as er,h as C,r as I,i as n,j as t,w,k,m as p,o as a,p as $e,n as tr,q as sr,t as ne,C as rr,u as ir,v as ee,x as X,y as or,z as Fe,B as Ee,D as pe,E as nr,F as _t,G as ht,R as ft,H as yt,J as ar,K as cr,L as lr,M as mr,N as fe,O as Z,P as me,Q as g,T as dr,U as Y,V as oe,X as ae,Y as L,Z as h,_ as ur,$ as pr,a0 as O,a1 as gr,a2 as vt,a3 as Ie,a4 as de,a5 as _r,a6 as bt,a7 as ye,a8 as se,a9 as q,aa as re,ab as qe,ac as hr,ad as $t,ae as Et,af as fr,ag as St,ah as yr,ai as vr,aj as br,ak as $r,al as Er}from"./chunk-vendor-metrics.2.4.0.js";/**
 * 2007-2021 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2021 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */class Sr{constructor(){Ne(this,"api");this.api=this.createApi()}createApi(){const s=Hs.create({baseURL:"/",timeout:3e4});return s.interceptors.response.use(r=>r.data.status>=400?Promise.reject(r.data.message):r.data,r=>{Promise.reject(r)}),s}}const Tr=new Sr;/**
 * 2007-2021 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2021 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */function Cr(e){const s=new FormData;return s.append("ajax","true"),s.append("action",e.action),s.append("controller",e.controller),zs.exports.forEach(e.data,(r,i)=>{s.append(i,r)}),s}function Dr(e){const r=Cr({action:"ToggleDashboardModules",controller:"AdminAjaxDashboard"});return Tr.api.post(e,r)}var Q;(function(e){e.SET_DARK_MODE="SET_DARK_MODE",e.SET_COMPARE_MODE_TYPE="SET_COMPARE_MODE_TYPE",e.SET_DATE_RANGE="SET_DATE_RANGE",e.SET_SLUG_BUTTON_DATE="SET_SLUG_BUTTON_DATE",e.SET_ADVANCED_PLAN="SET_ADVANCED_PLAN",e.SET_ACCOUNT="SET_ACCOUNT",e.SET_FIRST_SYNC="SET_FIRST_SYNC",e.SET_LAST_SYNC="SET_LAST_SYNC",e.SET_START_SYNC="SET_START_SYNC",e.SET_PLAN_MODAL_OPENED="SET_PLAN_MODAL_OPENED",e.SET_SHOP_ID="SET_SHOP_ID",e.SET_PLAN="SET_PLAN",e.SET_TODAY_ACCESSIBLE="SET_TODAY_ACCESSIBLE",e.RETRIEVE_TOKEN="RETRIEVE_TOKEN",e.TOGGLE_FULLSCREEN="TOGGLE_FULLSCREEN",e.SET_ERROR_ON_KPI="SET_ERROR_ON_KPI",e.SET_MODULES_IS_ENABLED="SET_MODULES_IS_ENABLED"})(Q||(Q={}));var M;(function(e){e.SET_DARK_MODE="SET_DARK_MODE",e.SET_COMPARE_MODE_TYPE="SET_COMPARE_MODE_TYPE",e.SET_DATE_RANGE="SET_DATE_RANGE",e.SET_SLUG_BUTTON_DATE="SET_SLUG_BUTTON_DATE",e.SET_ACCOUNT="SET_ACCOUNT",e.SET_FIRST_SYNC="SET_FIRST_SYNC",e.SET_LAST_SYNC="SET_LAST_SYNC",e.SET_START_SYNC="SET_START_SYNC",e.SET_PLAN_MODAL_OPENED="SET_PLAN_MODAL_OPENED",e.SET_SHOP_ID="SET_SHOP_ID",e.SET_PLAN="SET_PLAN",e.SET_TOKEN="SET_TOKEN",e.TOGGLE_FULLSCREEN="TOGGLE_FULLSCREEN",e.SET_TODAY_ACCESSIBLE="SET_TODAY_ACCESSIBLE",e.SET_ERROR_ON_KPI="SET_ERROR_ON_KPI",e.SET_MODULES_IS_ENABLED="SET_MODULES_IS_ENABLED"})(M||(M={}));const kr={[Q.SET_TODAY_ACCESSIBLE]({commit:e},s){e(M.SET_TODAY_ACCESSIBLE,s)},[Q.SET_DARK_MODE]({commit:e},s){e(M.SET_DARK_MODE,s)},[Q.SET_DATE_RANGE]({commit:e},s){e(M.SET_DATE_RANGE,s)},[Q.SET_SLUG_BUTTON_DATE]({commit:e},s){e(M.SET_SLUG_BUTTON_DATE,s)},[Q.SET_PLAN]({commit:e},s){e(M.SET_PLAN,s)},[Q.SET_ACCOUNT]({commit:e},s){const r={plan:s.plan,first_sync_asked_at:s.first_sync_asked_at,last_sync_at:s.last_sync_at,shopID:s.shop_id,shop_url:s.shop_url,start_sync_at:s.start_sync_at,email_account:s.email_account};e(M.SET_ACCOUNT,r)},[Q.SET_FIRST_SYNC]({commit:e},s){e(M.SET_FIRST_SYNC,s)},[Q.SET_LAST_SYNC]({commit:e},s){e(M.SET_LAST_SYNC,s)},[Q.SET_START_SYNC]({commit:e},s){e(M.SET_START_SYNC,s)},[Q.SET_PLAN_MODAL_OPENED]({commit:e},s){e(M.SET_PLAN_MODAL_OPENED,s)},[Q.SET_SHOP_ID]({commit:e},s){e(M.SET_SHOP_ID,s)},[Q.TOGGLE_FULLSCREEN]({commit:e},s){e(M.TOGGLE_FULLSCREEN,s)},async[Q.RETRIEVE_TOKEN]({commit:e},s){try{const i=await(await fetch(`${s}&action=GetOrRefreshToken`)).json();e(M.SET_TOKEN,i)}catch(r){console.error(r)}},[Q.SET_COMPARE_MODE_TYPE]({commit:e},s){e(M.SET_COMPARE_MODE_TYPE,s)},[Q.SET_ERROR_ON_KPI]({commit:e},s){e(M.SET_ERROR_ON_KPI,s)},[Q.SET_MODULES_IS_ENABLED]({commit:e,state:s},r){Dr(s.controllersLinks.dashboardAjax).then(c=>(c==null?void 0:c.success)===!0?(e(M.SET_MODULES_IS_ENABLED,r),Promise.resolve()):Promise.reject()).catch(()=>Promise.reject())}};var B;(function(e){e.GET_DARK_MODE="GET_DARK_MODE",e.GET_VARIABLES_QUERY="GET_VARIABLES_QUERY",e.GET_OPTIONS_QUERY="GET_OPTIONS_QUERY",e.GET_SLUG_BUTTON_DATE="GET_SLUG_BUTTON_DATE",e.GET_CURRENT_DATE_RANGE="GET_CURRENT_DATE_RANGE",e.GET_IS_ADVANCED="GET_IS_ADVANCED",e.GET_PREVIOUS_DATE_RANGE="GET_PREVIOUS_DATE_RANGE",e.GET_PLAN_MODAL_OPENED="GET_PLAN_MODAL_OPENED",e.GET_SYNC_STATUS="GET_SYNC_STATUS",e.PRODUCT_TOUR_DONE="PRODUCT_TOUR_DONE",e.IS_FIRST_SYNC="IS_FIRST_SYNC",e.IS_FIRST_ACCESS="IS_FIRST_ACCESS",e.HAS_GOOGLE_ACCOUNT="HAS_GOOGLE_ACCOUNT",e.TODAY_IS_ACCESSIBLE="TODAY_IS_ACCESSIBLE",e.GET_ERROR_ON_KPI="GET_ERROR_ON_KPI",e.GET_USER_EMAIL="GET_USER_EMAIL",e.PSX_IS_CONNECTED="PSX_IS_CONNECTED",e.GA_IS_CONNECTED="GA_IS_CONNECTED",e.GET_MODULES_IS_ENABLED="GET_MODULES_IS_ENABLED",e.IS_LEGACY_STATS_PAGE="IS_LEGACY_STATS_PAGE",e.GET_COMPARE_MODE_TYPE="GET_COMPARE_MODE_TYPE",e.IS_COMPARE_MODE_ENABLED="IS_COMPARE_MODE_ENABLED",e.PREVIOUS_PERIOD_IS_AVAILABLE="PREVIOUS_PERIOD_IS_AVAILABLE",e.LAST_YEAR_IS_AVAILABLE="LAST_YEAR_IS_AVAILABLE",e.IS_GA4_VERSION="IS_GA4_VERSION"})(B||(B={}));const Ar={[B.GET_DARK_MODE](e){return e.darkMode},[B.GET_VARIABLES_QUERY](e){return{inputData:{TimeDimension:{dateRange:e.dateRange},ShopId:e.accounts.shopID,compareMode:e.compareMode,compareModeType:e.compareModeType}}},[B.GET_OPTIONS_QUERY](e){return{fetchPolicy:"cache-and-network",clientId:e.accounts.plan!=="metrics-free"&&e.accounts.plan!==""&&e.accounts.last_sync_at!==-1&&e.slugButtonDate!=="today"?"paidClient":"default"}},[B.GET_SLUG_BUTTON_DATE](e){return e.slugButtonDate},[B.GET_SYNC_STATUS](e){return e.syncStatus},[B.GET_IS_ADVANCED](e){return e.accounts.plan!=="metrics-free"&&e.accounts.plan!==""},[B.GET_PLAN_MODAL_OPENED](e){return e.planModalOpened},[B.GET_COMPARE_MODE_TYPE](e){return e.compareModeType},[B.PREVIOUS_PERIOD_IS_AVAILABLE](e){return e.dateRangeTooLarge.previousPeriod===!1},[B.LAST_YEAR_IS_AVAILABLE](e){return e.dateRangeTooLarge.lastYear===!1},[B.IS_COMPARE_MODE_ENABLED](e){return e.compareMode},[B.GET_CURRENT_DATE_RANGE](e){return{startDate:T(e.dateRange.startDate).format("YYYY-MM-DD"),endDate:T(e.dateRange.endDate).format("YYYY-MM-DD")}},[B.GET_PREVIOUS_DATE_RANGE](e){const s=T(e.dateRange.startDate),i=T(e.dateRange.endDate).diff(s,"day"),c=s.subtract(1,"day");return{startDate:c.subtract(i,"day").format("YYYY-MM-DD"),endDate:c.format("YYYY-MM-DD")}},[B.PRODUCT_TOUR_DONE](e){return e.productTourAdvancedDone?"metrics-advanced":e.productTourFreeDone?"metrics-free":null},[B.GET_SYNC_STATUS](e){return e.syncStatus},[B.IS_FIRST_ACCESS](e){return e.accounts.first_sync_asked_at!==-1&&e.accounts.start_sync_at===-1&&e.accounts.last_sync_at===-1},[B.IS_FIRST_SYNC](e){return e.accounts.first_sync_asked_at!==-1&&e.accounts.start_sync_at!==-1&&e.accounts.last_sync_at===-1},[B.HAS_GOOGLE_ACCOUNT](e){return e.googleAccount&&e.googleAccount.selected},[B.TODAY_IS_ACCESSIBLE](e){return e.todayIsAccessible},[B.GET_ERROR_ON_KPI](e){return e.errorOnKpi},[B.GET_USER_EMAIL](e){return e.user.email},[B.PSX_IS_CONNECTED](e){return e.user.emailIsValidated&&e.user.email!==""},[B.GA_IS_CONNECTED](e){return e.user.gaIsOnboarded},[B.GET_MODULES_IS_ENABLED](e){return e.modulesIsEnabled},[B.IS_LEGACY_STATS_PAGE](e){return e.isLegacyStatsPage},[B.IS_GA4_VERSION](e){var s;return((s=e.googleAccount)==null?void 0:s.type_source)==="GA4"}};var ge;(function(e){e.NONE="NONE",e.PREVIOUS_PERIOD="PREVIOUS_PERIOD",e.LAST_YEAR="LAST_YEAR"})(ge||(ge={}));const wr={[M.SET_DARK_MODE](e,s){e.darkMode=s},[M.SET_COMPARE_MODE_TYPE](e,s){e.compareModeType=s},[M.SET_DATE_RANGE](e,s){const r=T(s.endDate).diff(s.startDate,"days"),i=T().diff(s.endDate,"days"),c=T().diff(s.startDate,"month");e.main.app!=="dashboard"&&(e.dateRangeTooLarge.previousPeriod=!1,e.dateRangeTooLarge.lastYear=!1),e.accounts.plan==="metrics-advanced"?(c>=12&&(e.dateRangeTooLarge.lastYear=!0),i+r*2>=730&&(e.dateRangeTooLarge.lastYear=!0,e.dateRangeTooLarge.previousPeriod=!0)):(e.dateRangeTooLarge.lastYear=!0,i+r*2>=91&&(e.dateRangeTooLarge.previousPeriod=!0)),e.dateRangeTooLarge.lastYear&&e.compareModeType===ge.LAST_YEAR&&(e.compareModeType=ge.PREVIOUS_PERIOD),e.compareMode=!e.dateRangeTooLarge.previousPeriod,e.dateRange=s},[M.SET_SLUG_BUTTON_DATE](e,s){e.slugButtonDate=s},[M.SET_ACCOUNT](e,s){e.accounts=Object.assign(e.accounts,s),s.first_sync_asked_at!==-1&&(e.syncStatus="scheduled"),s.last_sync_at!==-1&&(e.syncStatus="done"),s.start_sync_at!==-1&&(e.syncStatus="syncing")},[M.SET_PLAN](e,s){e.accounts.plan=s.plan},[M.SET_FIRST_SYNC](e,s){e.accounts.first_sync_asked_at=s,e.syncStatus="scheduled"},[M.SET_LAST_SYNC](e,s){e.accounts.last_sync_at=s,e.accounts.next_sync_at=T().add(1,"day").startOf("day").add(1,"hours").valueOf(),e.syncStatus="done"},[M.SET_START_SYNC](e,s){e.accounts.start_sync_at=s,e.syncStatus="syncing"},[M.SET_PLAN_MODAL_OPENED](e,s){e.planModalOpened=s},[M.SET_SHOP_ID](e,s){e.accounts.shopID=s},[M.SET_TOKEN](e,s){sessionStorage.setItem("metricsToken",s.token)},[M.TOGGLE_FULLSCREEN](e,s){e.fullscreen=s},[M.SET_TODAY_ACCESSIBLE](e,s){e.todayIsAccessible=s},[M.SET_ERROR_ON_KPI](e,s){e.errorOnKpi=s},[M.SET_MODULES_IS_ENABLED](e,s){e.modulesIsEnabled=s}},Rr={main:{},darkMode:!1,fullscreen:!1,todayIsAccessible:!1,isoCode:"en",dateRangeTooLarge:{previousPeriod:!1,lastYear:!1},dateRange:{startDate:T().subtract(7,"day").format("YYYY-MM-DD"),endDate:T().subtract(1,"day").format("YYYY-MM-DD")},compareMode:!0,compareModeType:ge.PREVIOUS_PERIOD,slugButtonDate:"7d",syncStatus:"scheduled",accounts:{shopID:"",url_shop:"",plan:"",first_sync_asked_at:1,start_sync_at:1,next_sync_at:1,last_sync_at:1},planModalOpened:!1,links:{},errorOnKpi:!1},{storePsMetrics:Se,contextPsAccounts:Tt}=window;var Ns;Object.assign((Ns=Se==null?void 0:Se.context)==null?void 0:Ns.user,Tt?Tt.user:{});const ie=Object.assign(Se?Se.context:{},A({},Rr));ie.shop.shopUuid&&(ie.accounts.shopID=ie.shop.shopUuid);ie.i18n.isoCode&&(ie.isoCode=ie.i18n.isoCode);ie.controllersLinks&&(ie.links.faq=ie.controllersLinks.faq,ie.links.settings=ie.controllersLinks.settings);const Nr={namespaced:!0,state:ie,mutations:wr,actions:kr,getters:Ar},Ir={menu:[{icon:"",pageName:"tab_overview",title:"menu.overview",isDisabledOnToday:!1},{icon:"DollarSgnIcon",pageName:"tab_business",title:"menu.business",isDisabledOnToday:!0},{icon:"",pageName:"tab_acquisition",title:"menu.acquisition",isDisabledOnToday:!0},{icon:"",pageName:"tab_customer_knowledge",title:"menu.customerKnowledge",isDisabledOnToday:!0}]},xr={menu:e=>e.menu},Mr={namespaced:!0,state:Ir,getters:xr},Ke=new js({encodingType:"aes"}),Or=[Qs({key:"metrics-vuex",storage:{getItem:e=>Ke.get(e),setItem:(e,s)=>Ke.set(e,s),removeItem:e=>Ke.remove(e)},paths:["main.accounts","main.syncStatus","main.darkMode","main.slugButtonDate","main.dateRange","main.fullscreen"]})],Ct=Ws({modules:{main:Nr,topMenu:Mr},plugins:Or});function U(){return Ct}const Br=U(),Pr=ut({uri:Br.state.main.controllersLinks.graphql}),Lr=new pt,Ur=new gt({link:Pr,cache:Lr}),xe=sessionStorage.getItem("metricsToken"),Gr=new Js({uri:"wss://analytics-api.psessentials.net/graphql",options:{reconnect:!0,connectionParams:{authorization:xe?`Bearer ${xe}`:""}}}),Yr=ut({uri:"https://analytics-api.psessentials.net/graphql",credentials:"same-origin",headers:{"Access-Control-Allow-Origin":"*"}}),Vr=Xs((e,{headers:s})=>({headers:J(A({},s),{authorization:xe?`Bearer ${xe}`:""})})),Fr=Vr.concat(Yr),qr=Zs(({query:e})=>{const s=er(e);return s.kind==="OperationDefinition"&&s.operation==="subscription"},Gr,Fr),Kr=new pt,Hr=new gt({link:qr,cache:Kr});var Dt=C({setup(){var l,_,d;const e=!1,s=(d=(_=(l=window.storePsMetrics)==null?void 0:l.context)==null?void 0:_.shop)==null?void 0:d.shopUuid,r=I(0);return{appMode:e,shopId:s,copyUuid:()=>{navigator.clipboard.writeText(s)},clearLocalStorage:()=>{localStorage.clear()},clearSessionStorage:()=>{sessionStorage.clear()},clearAllCookies:()=>{document.cookie.split(";").forEach(u=>{const f=u.indexOf("="),E=f>-1?u.substr(0,f):u;document.cookie=E+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"})},shopUuidInput:r}}});const zr={key:0,class:"metrics-flex metrics-flex-row metrics-items-center metrics-justify-between"},jr={class:"metrics-w-full metrics-inline-block"},Qr={class:"metrics-flex metrics-rounded-lg metrics-text-md metrics-my-5"},Wr=t("li",{class:"metrics-cursor-default metrics-button-date metrics-cursor metrics-border metrics-bg-red-500 metrics-text-white metrics-border-gray-400 metrics-rounded-l-lg"}," DEV MODE ROUTE ",-1),Jr=t("a",null,"preview page",-1),Xr=t("a",null,"metrics page",-1),Zr={class:"metrics-w-full metrics-flex metrics-flex-row metrics-items-center metrics-justify-center"},ei={class:"metrics-w-full metrics-flex metrics-flex-row metrics-items-center metrics-ml-auto"},ti=t("label",{for:"shop-uuid",class:"metrics-uppercase metrics-font-bold"},"Your shopId:",-1);function si(e,s,r,i,c,m){const o=p("router-link");return e.appMode?(a(),n("div",zr,[t("div",jr,[t("ul",Qr,[Wr,t(o,{tag:"li",to:"/preview",class:" metrics-button-date metrics-border metrics-bg-white metrics-border-gray-400 metrics-text-gray-700 metrics-zoom-in-no-shadow"},{default:w(()=>[Jr]),_:1}),t(o,{tag:"li",to:"/",class:" metrics-button-date metrics-border metrics-bg-white metrics-border-gray-400 metrics-text-gray-700 metrics-zoom-in-no-shadow metrics-rounded-r-lg"},{default:w(()=>[Xr]),_:1})])]),t("div",Zr,[t("input",{type:"button",id:"clear-cookies-button",value:"clear cookies",class:"metrics-bg-red-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:s[1]||(s[1]=(...l)=>e.clearAllCookies&&e.clearAllCookies(...l))}),t("input",{type:"button",id:"clear-local-storage-button",value:"clear local storage",class:"metrics-bg-red-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:s[2]||(s[2]=(...l)=>e.clearLocalStorage&&e.clearLocalStorage(...l))}),t("input",{type:"button",id:"clear-session-storage-button",value:"clear session storage",class:"metrics-bg-red-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:s[3]||(s[3]=(...l)=>e.clearSessionStorage&&e.clearSessionStorage(...l))})]),t("div",ei,[ti,t("input",{id:"shop-uuid",type:"text",ref:"shopUuidInput",class:"metrics-w-64 metrics-py-1 metrics-rounded metrics-mx-1 metrics-text-center",value:e.shopId,readonly:""},null,8,["value"]),t("input",{type:"button",value:"copy",class:"metrics-bg-blue-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:s[4]||(s[4]=(...l)=>e.copyUuid&&e.copyUuid(...l))})])])):k("",!0)}Dt.render=si;var kt=C({components:{debugBar:Dt},setup(){const e=U();e.dispatch("main/RETRIEVE_TOKEN",e.state.main.controllersLinks.accounts),$e(tr,{default:Ur,paidClient:Hr})}});const ri={id:"metrics"};function ii(e,s,r,i,c,m){const o=p("debug-bar"),l=p("router-view");return a(),n("div",ri,[t(o),t(l)])}kt.render=ii;T.extend(sr);const Te={cutText(e,s){if(e.split(" ").length>1){const i=e.substring(0,s).split(" ");return i.pop(),i.join(" ")+"..."}else return e},formatDate(e,s){return T(e).format(s)},capitalizeFirstLetter(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""},onlyNumber(e){return e?e.replace(/\D/g,""):""},formatCurrency(e){if(e){const s=e.toString().replace(/\D/g,""),r=s.length%3;let i=s.substr(0,r);const c=s.substr(r).match(/\d{3}/g);let m;return c&&(m=r?".":"",i+=m+c.join(".")),i}else return""},timeAgo(e){const s=new Date((e||"").replace(/-/g,"/").replace(/[TZ]/g," ")),r=(new Date().getTime()-s.getTime())/1e3,i=Math.floor(r/86400);return isNaN(i)||i<0||i>=31?T(e).format("MMMM DD, YYYY"):i===0&&(r<60&&"just now"||r<120&&"1 minute ago"||r<3600&&Math.floor(r/60)+" minutes ago"||r<7200&&"1 hour ago"||r<86400&&Math.floor(r/3600)+" hours ago")||i===1&&"Yesterday"||i<7&&i+" days ago"||i<31&&Math.ceil(i/7)+" weeks ago"},diffTimeByNow(e){const s=T(T().format("YYYY-MM-DD HH:mm:ss").toString()),r=T(T(e).format("YYYY-MM-DD HH:mm:ss").toString()),i=T.duration(r.diff(s)),c=Math.floor(i.asMilliseconds()),m=Math.round(c/864e5),o=Math.round(c%864e5/36e5);let l=Math.round(c%864e5%36e5/6e4);const _=Math.round(c%864e5%36e5%6e4/1e3);return _<30&&_>=0&&(l+=1),{days:m.toString().length<2?"0"+m:m,hours:o.toString().length<2?"0"+o:o,minutes:l.toString().length<2?"0"+l:l,seconds:_.toString().length<2?"0"+_:_}},isset(e){return e!=null?typeof e=="object"||Array.isArray(e)?Object.keys(e).length:e.toString().length:!1},toRaw(e){return JSON.parse(JSON.stringify(e))},randomNumbers(e,s,r){const i=[0];for(let c=1;c<r;c++)i.push(Math.ceil(Math.random()*(e-s)+s));return i}},oi=e=>{e.config.globalProperties.$h=Te};var At=C({name:"GlobalChart",props:{type:{type:String,required:!0,default:"line",validator:e=>["line","pie","doughnut","bar"].indexOf(e)!==-1},data:{type:Object,required:!0,default:()=>({})},options:{type:Object,default:()=>({})},width:{type:Number,default:0},height:{type:Number,default:0}},setup(e){const s=I(),r=()=>{var o;const c=(o=s.value)==null?void 0:o.getContext("2d"),m=new rr.exports.Chart(c,{plugins:[ir],type:e.type,data:Te.toRaw(e.data),options:e.options});ee(e,()=>{m.data=Te.toRaw(e.data),m.options=e.options,m.update()})},i=()=>{e.width&&X(s.value).attr({width:e.width}),e.height&&X(s.value).attr({height:e.height})};return ne(()=>{i(),r()}),{chartRef:s}}});const ni={ref:"chartRef"};function ai(e,s,r,i,c,m){return a(),n("canvas",ni,null,512)}At.render=ai;var wt=C({name:"GlobalLoadingIcon",props:{icon:{type:String,default:""},color:{type:String,default:"#2d3748"}}});const ci=t("g",{transform:"matrix(1 0 0 -1 0 80)"},[t("rect",{width:"10",height:"20",rx:"3"},[t("animate",{attributeName:"height",begin:"0s",dur:"4.3s",values:"20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20",calcMode:"linear",repeatCount:"indefinite"})]),t("rect",{x:"15",width:"10",height:"80",rx:"3"},[t("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"80;55;33;5;75;23;73;33;12;14;60;80",calcMode:"linear",repeatCount:"indefinite"})]),t("rect",{x:"30",width:"10",height:"50",rx:"3"},[t("animate",{attributeName:"height",begin:"0s",dur:"1.4s",values:"50;34;78;23;56;23;34;76;80;54;21;50",calcMode:"linear",repeatCount:"indefinite"})]),t("rect",{x:"45",width:"10",height:"30",rx:"3"},[t("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"30;45;13;80;56;72;45;76;34;23;67;30",calcMode:"linear",repeatCount:"indefinite"})])],-1),li={key:1,width:"20",viewBox:"0 0 57 57",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},mi={fill:"none","fill-rule":"evenodd"},di={transform:"translate(1 1)"},ui=t("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"},null,-1),pi=t("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"},null,-1),gi=t("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",from:"5",to:"5",values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"},null,-1),_i=t("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",from:"27",to:"27",values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"},null,-1),hi=t("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"},null,-1),fi=t("animate",{attributeName:"cx",from:"49",to:"49",begin:"0s",dur:"2.2s",values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"},null,-1),yi=t("rect",{y:"10",width:"15",height:"120",rx:"6"},[t("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),vi=t("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},[t("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),bi=t("rect",{x:"60",width:"15",height:"140",rx:"6"},[t("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),$i=t("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},[t("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),Ei=t("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},[t("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),Si=t("path",{d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z"},[t("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"-360 67 67",dur:"2.5s",repeatCount:"indefinite"})],-1),Ti=t("path",{d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z"},[t("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"360 67 67",dur:"8s",repeatCount:"indefinite"})],-1),Ci=t("circle",{cx:"12.5",cy:"12.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Di=t("circle",{cx:"12.5",cy:"52.5",r:"12.5","fill-opacity":".5"},[t("animate",{attributeName:"fill-opacity",begin:"100ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),ki=t("circle",{cx:"52.5",cy:"12.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"300ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Ai=t("circle",{cx:"52.5",cy:"52.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"600ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),wi=t("circle",{cx:"92.5",cy:"12.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"800ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Ri=t("circle",{cx:"92.5",cy:"52.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"400ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Ni=t("circle",{cx:"12.5",cy:"92.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"700ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Ii=t("circle",{cx:"52.5",cy:"92.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"500ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),xi=t("circle",{cx:"92.5",cy:"92.5",r:"12.5"},[t("animate",{attributeName:"fill-opacity",begin:"200ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Mi=t("path",{d:"M30.262 57.02L7.195 40.723c-5.84-3.976-7.56-12.06-3.842-18.063 3.715-6 11.467-7.65 17.306-3.68l4.52 3.76 2.6-5.274c3.717-6.002 11.47-7.65 17.305-3.68 5.84 3.97 7.56 12.054 3.842 18.062L34.49 56.118c-.897 1.512-2.793 1.915-4.228.9z","fill-opacity":".5"},[t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})],-1),Oi=t("path",{d:"M105.512 56.12l-14.44-24.272c-3.716-6.008-1.996-14.093 3.843-18.062 5.835-3.97 13.588-2.322 17.306 3.68l2.6 5.274 4.52-3.76c5.84-3.97 13.592-2.32 17.307 3.68 3.718 6.003 1.998 14.088-3.842 18.064L109.74 57.02c-1.434 1.014-3.33.61-4.228-.9z","fill-opacity":".5"},[t("animate",{attributeName:"fill-opacity",begin:"0.7s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})],-1),Bi=t("path",{d:"M67.408 57.834l-23.01-24.98c-5.864-6.15-5.864-16.108 0-22.248 5.86-6.14 15.37-6.14 21.234 0L70 16.168l4.368-5.562c5.863-6.14 15.375-6.14 21.235 0 5.863 6.14 5.863 16.098 0 22.247l-23.007 24.98c-1.43 1.556-3.757 1.556-5.188 0z"},null,-1),Pi=t("g",{fill:"none","fill-rule":"evenodd"},[t("g",{transform:"translate(1 1)","stroke-width":"4"},[t("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),t("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[t("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])])],-1),Li=t("g",{fill:"none","fill-rule":"evenodd","stroke-width":"4"},[t("circle",{cx:"22",cy:"22",r:"1"},[t("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),t("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]),t("circle",{cx:"22",cy:"22",r:"1"},[t("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),t("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})])],-1),Ui=t("g",{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)","stroke-width":"3"},[t("circle",{cx:"22",cy:"22",r:"6","stroke-opacity":"0"},[t("animate",{attributeName:"r",begin:"1.5s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"stroke-opacity",begin:"1.5s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"stroke-width",begin:"1.5s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]),t("circle",{cx:"22",cy:"22",r:"6","stroke-opacity":"0"},[t("animate",{attributeName:"r",begin:"3s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"stroke-opacity",begin:"3s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"stroke-width",begin:"3s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]),t("circle",{cx:"22",cy:"22",r:"8"},[t("animate",{attributeName:"r",begin:"0s",dur:"1.5s",values:"6;1;2;3;4;5;6",calcMode:"linear",repeatCount:"indefinite"})])],-1),Gi={key:9,width:"20",viewBox:"0 0 58 58",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},Yi={fill:"none","fill-rule":"evenodd"},Vi=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"1;0;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),Fi=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;1;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),qi=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;1;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),Ki=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;1;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),Hi=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;1;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),zi=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;1;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),ji=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;0;1;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),Qi=t("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;0;0;1",calcMode:"linear",repeatCount:"indefinite"},null,-1),Wi={key:10,width:"20",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},Ji={id:"a",x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%"},Xi={fill:"none","fill-rule":"evenodd"},Zi={transform:"translate(1 1)"},eo=t("path",{id:"Oval-2",d:"M36 18c0-9.94-8.06-18-18-18",stroke:"url(#a)","stroke-width":"3"},[t("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})],-1),to=t("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"},null,-1),so=t("circle",{cx:"15",cy:"15",r:"15"},[t("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})],-1),ro=t("circle",{cx:"60",cy:"15",r:"9","fill-opacity":"0.3"},[t("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})],-1),io=t("circle",{cx:"105",cy:"15",r:"15"},[t("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),t("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})],-1);function oo(e,s,r,i,c,m){return a(),n("span",null,[e.icon=="audio"?(a(),n("svg",{key:0,width:"15",viewBox:"0 0 55 80",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[ci],8,["fill"])):e.icon=="ball-triangle"?(a(),n("svg",li,[t("g",mi,[t("g",di,[t("circle",{cx:"5",cy:"50",r:"5",fill:e.color},[ui,pi],8,["fill"]),t("circle",{cx:"27",cy:"5",r:"5",fill:e.color},[gi,_i],8,["fill"]),t("circle",{cx:"49",cy:"50",r:"5",fill:e.color},[hi,fi],8,["fill"])])])])):e.icon=="bars"?(a(),n("svg",{key:2,width:"20",viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[yi,vi,bi,$i,Ei],8,["fill"])):e.icon=="circles"?(a(),n("svg",{key:3,width:"20",viewBox:"0 0 135 135",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[Si,Ti],8,["fill"])):e.icon=="grid"?(a(),n("svg",{key:4,width:"20",viewBox:"0 0 105 105",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[Ci,Di,ki,Ai,wi,Ri,Ni,Ii,xi],8,["fill"])):e.icon=="hearts"?(a(),n("svg",{key:5,width:"30",viewBox:"0 0 140 64",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[Mi,Oi,Bi],8,["fill"])):e.icon=="oval"?(a(),n("svg",{key:6,width:"25",viewBox:"-2 -2 42 42",xmlns:"http://www.w3.org/2000/svg",stroke:e.color,class:"w-full h-full"},[Pi],8,["stroke"])):e.icon=="puff"?(a(),n("svg",{key:7,width:"25",viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg",stroke:e.color,class:"w-full h-full"},[Li],8,["stroke"])):e.icon=="rings"?(a(),n("svg",{key:8,width:"30",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg",stroke:e.color,class:"w-full h-full"},[Ui],8,["stroke"])):e.icon=="spinning-circles"?(a(),n("svg",Gi,[t("g",Yi,[t("g",{transform:"translate(2 1)",stroke:e.color,"stroke-width":"1.5"},[t("circle",{cx:"42.601",cy:"11.462",r:"5","fill-opacity":"1",fill:e.color},[Vi],8,["fill"]),t("circle",{cx:"49.063",cy:"27.063",r:"5","fill-opacity":"0",fill:e.color},[Fi],8,["fill"]),t("circle",{cx:"42.601",cy:"42.663",r:"5","fill-opacity":"0",fill:e.color},[qi],8,["fill"]),t("circle",{cx:"27",cy:"49.125",r:"5","fill-opacity":"0",fill:e.color},[Ki],8,["fill"]),t("circle",{cx:"11.399",cy:"42.663",r:"5","fill-opacity":"0",fill:e.color},[Hi],8,["fill"]),t("circle",{cx:"4.938",cy:"27.063",r:"5","fill-opacity":"0",fill:e.color},[zi],8,["fill"]),t("circle",{cx:"11.399",cy:"11.462",r:"5","fill-opacity":"0",fill:e.color},[ji],8,["fill"]),t("circle",{cx:"27",cy:"5",r:"5","fill-opacity":"0",fill:e.color},[Qi],8,["fill"])],8,["stroke"])])])):e.icon=="tail-spin"?(a(),n("svg",Wi,[t("defs",null,[t("linearGradient",Ji,[t("stop",{"stop-color":e.color,"stop-opacity":"0",offset:"0%"},null,8,["stop-color"]),t("stop",{"stop-color":e.color,offset:"100%"},null,8,["stop-color"]),t("stop",{"stop-color":e.color,"stop-opacity":".631",offset:"63.146%"},null,8,["stop-color"])])]),t("g",Xi,[t("g",Zi,[eo,t("circle",{fill:e.color,cx:"36",cy:"18",r:"1"},[to],8,["fill"])])])])):e.icon=="three-dots"?(a(),n("svg",{key:11,width:"25",viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[so,ro,io],8,["fill"])):k("",!0)])}wt.render=oo;const no=(e,s)=>{e.tns=or(A({container:e,slideBy:"page",mouseDrag:!0,touch:!1,autoplay:!0,controls:!0,nav:!1,speed:500},s.options))},ao=e=>{e.tns.destroy(),e.tns.rebuild()};var Rt=C({name:"GlobalTinySlider",directives:{slider:{mounted(e,{value:s}){no(e,s.props)},updated(e){ao(e)}}},props:{options:{type:Object,default:()=>({})},refKey:{type:String,default:null}},setup(e,s){const r=I(),i=()=>{if(e.refKey){const c=Fe(`bind[${e.refKey}]`);c&&c(r.value)}};return ne(()=>{i()}),J(A({props:e},s),{sliderRef:r})}});const co={ref:"sliderRef",class:"tiny-slider"};function lo(e,s,r,i,c,m){const o=nr("slider");return Ee((a(),n("div",co,[pe(e.$slots,"default")],512)),[[o,{props:e.props,emit:e.emit}]])}Rt.render=lo;var Nt=C({name:"GlobalTippyContent",props:{to:{type:String,default:"span"},options:{type:Object,default:()=>({})},refKey:{type:String,default:null}},setup(e){const s=I(),r=()=>{_t(`[name="${e.to}"]`,A({plugins:[ht],content:s.value,allowHTML:!0,arrow:ft,popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport"}}]},animateFill:!1,animation:"shift-away",theme:"light",trigger:"click"},e.options))},i=()=>{if(e.refKey){const c=Fe(`bind[${e.refKey}]`);c&&c(s.value)}};return ne(()=>{r(),i()}),{tippyRef:s}}});const mo={ref:"tippyRef"};function uo(e,s,r,i,c,m){return a(),n("div",mo,[pe(e.$slots,"default")],512)}Nt.render=uo;var It=C({name:"GlobalTippy",props:{show:{type:Boolean,default:!0},content:{type:String,required:!0},tag:{type:String,default:"span"},options:{type:Object,default:()=>({})},refKey:{type:String,default:null}},setup(e){const s=I(),r=()=>{_t(s.value,A({plugins:[ht],content:e.content,arrow:ft,popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport"}}]},animateFill:!1,animation:"shift-away"},e.options))},i=()=>{if(e.refKey){const c=Fe(`bind[${e.refKey}]`);c&&c(s.value)}};return ee(()=>e.show,c=>{c&&(r(),i())}),ne(()=>{r(),i()}),{tippyRef:s}}});function po(e,s,r,i,c,m){return e.show?(a(),n(yt(e.tag),{key:0,ref:"tippyRef"},{default:w(()=>[pe(e.$slots,"default")]),_:3},512)):(a(),n(yt(e.tag),{key:1},{default:w(()=>[pe(e.$slots,"default")]),_:3}))}It.render=po;var go=e=>{e.component("Tippy",It),e.component("Chart",At),e.component("TippyContent",Nt),e.component("LoadingIcon",wt),e.component("TinySlider",Rt);for(const[s,r]of Object.entries(ar))r.props.size.default="24",e.component(s,r)};(function(e){e("body").on("click",".copy-code",function(){const s=e(this).data("target");e(s).find("textarea")[0].select(),e(s).find("textarea")[0].setSelectionRange(0,99999),document.execCommand("copy")})})(X);(function(e){function s(){e(".metrics-dropdown-box").each(async function(){if(e(this).attr("id")!==void 0&&e(`[data-dropdown-replacer="${e(this).attr("id")}"]`).length&&e(this).data("dropdown-programmatically")===void 0){const m=e(this).attr("id");e(this).removeClass("show"),await setTimeout(()=>{e(`[data-dropdown-replacer="${m}"]`).replaceWith(this),e(this).removeAttr("style"),e(this).removeAttr("data-popper-placement")},200)}else e(this).attr("id")!==void 0&&!e(`[data-dropdown-replacer="${e(this).attr("id")}"]`).length&&e(this).hasClass("show")&&e(this).data("dropdown-programmatically")===void 0?e(this).remove():e(this).data("dropdown-programmatically")==="initiate"?e(this).attr("data-dropdown-programmatically","showed"):e(this).data("dropdown-programmatically")==="showed"&&e(this).removeAttr("data-dropdown-programmatically")})}function r(m){const o=e(m).find(".metrics-dropdown-box").first(),l=e(m).find(".metrics-dropdown-toggle"),_=e(m).data("placement")?e(m).data("placement"):"bottom-end",d=`_${Math.random().toString(36).substr(2,9)}`;s(),e(o).length&&(e(m).css("position")==="static"&&e(m).css("position","relative"),e(o).css("width",e(o).css("width")),e(`<div data-dropdown-replacer="${d}"></div>`).insertAfter(o),e(o).attr("id",d).appendTo("body"),cr(l[0],o[0],{placement:_}),e(o).addClass("show"))}function i(m){const o=e(m).find(".metrics-dropdown-box").first();e(o).length?c(m):s()}function c(m){if(e(m).find(".metrics-dropdown-box").length)e(m).find(".metrics-dropdown-box").attr("data-dropdown-programmatically","initiate");else{const o=e("[data-dropdown-replacer]").data("dropdown-replacer");e(`#${o}`).attr("data-dropdown-programmatically","initiate")}r(m)}e("body").on("click",function(m){const o=e(m.target).closest(".metrics-dropdown"),l=e(o).find(".metrics-dropdown-toggle"),_=e(o).find(".metrics-dropdown-box").first(),d=e(m.target).closest(".metrics-dropdown-box").first(),u=e(m.target).data("dismiss");!e(o).length&&!e(d).length||e(l).length&&!e(_).length||u==="dropdown"?s():e(d).length||r(o)}),e.fn.dropdown=function(m){m==="show"?c(this):m==="hide"?s():m==="toggle"&&i(this)}})(X);(function(e){const s=[];function r(){let d=52;return e(".modal").each(function(){e(this).css("z-index")!=="auto"&&e(this).css("z-index")>d&&(d=parseInt(e(this).css("z-index")))}),d}function i(d){if(e(d)[0]!==void 0)return window.innerWidth-e(d)[0].clientWidth}function c(d){e(`<div data-modal-replacer="${e(d).attr("id")}"></div>`).insertAfter(d),e(d).css({"margin-top":0,"margin-left":0}),e(d).appendTo("body"),setTimeout(()=>{e(d).addClass("show").css("z-index",r()+1)},200),e("body").css("padding-right",`${parseInt(e("body").css("padding-right"))+i("html")}px`).addClass("overflow-y-hidden"),e(".metrics-modal").removeClass("overflow-y-auto").css("padding-left","0px"),e(d).addClass("overflow-y-auto").css("padding-left",`${i(d)}px`).addClass(e(".metrics-modal.show").length?"metrics-modal__overlap":""),s.forEach(function(u,f){e(d).attr("id")===e(u.el).attr("id")&&u.event==="on.show"&&(s[f].triggerCallback=!0)})}function m(d){e(d).hasClass("metrics-modal")&&e(d).hasClass("show")&&(e(d).removeClass("show"),setTimeout(()=>{e(d).removeAttr("style").removeClass("metrics-modal__overlap").removeClass("metrics-overflow-y-auto"),e(".metrics-modal").each(function(){parseInt(e(this).css("z-index"))===r()&&e(this).addClass("metrics-overflow-y-auto").css("padding-left",`${i(this)}px`)}),r()===52&&e("body").removeClass("metrics-overflow-y-hidden").css("padding-right",""),e(`[data-modal-replacer="${e(d).attr("id")}"]`).replaceWith(d)},200),s.forEach(function(u,f){e(d).attr("id")===e(u.el).attr("id")&&u.event==="on.hide"&&(s[f].triggerCallback=!0)}))}function o(d){e(d).hasClass("metrics-modal")&&e(d).hasClass("show")?m(d):c(d)}function l(d,u){s[s.length]={el:d,event:"on.show",triggerCallback:!1,callback:u}}function _(d,u){s[s.length]={el:d,event:"on.hide",triggerCallback:!1,callback:u}}e("body").on("click",'a[data-toggle="modal"]',function(){c(e(this).attr("data-target"))}),e("body").on("click",function(d){m(d.target)}),e("body").on("click",'[data-dismiss="modal"]',function(){const d=e(this).closest(".modal")[0];m(d)}),setInterval(function(){s.forEach(function(d,u){(d.event==="on.show"&&d.triggerCallback||d.event==="on.hide"&&d.triggerCallback)&&(d.callback(),s[u].triggerCallback=!1)})},300),e.fn.modal=function(d,u){d==="show"?c(this):d==="hide"?m(this):d==="toggle"?o(this):d==="on.show"?l(this,u):d==="on.hide"&&_(this,u)}})(X);(function(e){e("body").on("click",'a[data-toggle="tab"]',function(){e(this).closest(".nav-tabs").find('a[data-toggle="tab"]').removeClass("active"),e(this).addClass("active");const s=e(this).attr("data-target");e(s).closest(".tab-content").find(".tab-content__pane").removeClass("active"),e(s).addClass("active")})})(X);const{storePsMetrics:ce}=window,xt=ce.context.i18n.isoCode?ce.context.i18n.isoCode:"",_o=Object.assign(ce.context.app==="settings"&&ce.settings.translations?ce.settings.translations:{},A({},(ce.context.app==="dashboard"||ce.context.app==="metrics")&&ce.dashboard.translations?ce.dashboard.translations:{})),Mt={};Mt[xt]={currency:{style:"currency",currency:ce.context.i18n.currencyIsoCode}};const ho=lr({locale:xt,messages:_o,numberFormats:Mt,fallbackLocale:"en",globalInjection:!0});T.extend(mr);var He=C({name:"TopBarButtonDate",setup(){const e=U(),r=fe().name==="metrics_preview",{appContext:{config:{globalProperties:{$segment:i}}}}=Z(),{t:c}=me(),m=g(()=>e.state.main.slugButtonDate),o=g(()=>e.state.main.todayIsAccessible),l=g(()=>e.state.main.accounts.plan),_=g(()=>e.getters["main/IS_FIRST_ACCESS"]),d=g(()=>e.getters["main/IS_FIRST_SYNC"]),u=g(()=>e.getters["main/GET_IS_ADVANCED"]),f=g(()=>{const D=new Date;return u.value||D.setDate(D.getDate()-1),D}),E=g(()=>{const D=new Date;return u.value?(D.setMonth(D.getMonth()-24),D):(D.setMonth(D.getMonth()-3),D)}),$=I(null),y=g(()=>{const D=e.state.main.dateRange;return m.value!=="custom"||!(D==null?void 0:D.startDate)?c("dates.custom"):`${T(D.startDate).locale(e.state.main.isoCode).format("LL")} - ${T(D.endDate).locale(e.state.main.isoCode).format("LL")}`}),S=[{slug:"today",label:c("dates.today"),lessAccessible:"metrics-advanced",disableOnRoute:!0,displayedOnDashboard:!1,onPress:()=>R("today")},{slug:"yesterday",label:c("dates.yesterday"),lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!0,onPress:()=>R("yesterday")},{slug:"7d",label:c("dates.7days"),lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!0,onPress:()=>R("7d")},{slug:"30d",label:c("dates.30days"),lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!0,onPress:()=>R("30d")},{slug:"3m",label:c("dates.3months"),lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!1,onPress:()=>R("3m")},{slug:"6m",label:c("dates.6months"),lessAccessible:"metrics-advanced",disableOnRoute:!1,displayedOnDashboard:!1,onPress:()=>R("6m")},{slug:"custom",label:y,lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!1,onPress:()=>{e.dispatch("main/SET_SLUG_BUTTON_DATE","custom"),e.dispatch("main/SET_ERROR_ON_KPI",!1),$.value.show()}}];ne(()=>{const D=document.getElementById("metrics");R(e.getters["main/GET_SLUG_BUTTON_DATE"]),$.value=new dr({element:document.getElementById("top-bar-datepicker"),autoApply:!0,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,parentEl:D,maxDate:f.value,minDate:E.value,mobileFriendly:!0,lang:e.state.main.isoCode,dropdowns:{minYear:2010,maxYear:null,months:!0,years:!0},setup:P=>{P.on("selected",(te,V)=>{const W=T(te.dateInstance).locale(e.state.main.isoCode).format("YYYY-MM-DD"),F=T(V.dateInstance).locale(e.state.main.isoCode).format("YYYY-MM-DD");e.dispatch("main/SET_DATE_RANGE",{startDate:W,endDate:F})})}})});const R=D=>{i().track("[MTR] Overview Select Date",J(A({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]}),{slug:D}));const P=T();return{today:()=>{const V=P,W=P;e.dispatch("main/SET_SLUG_BUTTON_DATE",D),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:V.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:W.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},yesterday:()=>{const V=P.subtract(1,"day"),W=V;e.dispatch("main/SET_SLUG_BUTTON_DATE",D),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:V.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:W.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},"7d":()=>{const V=P.subtract(7,"day"),W=P.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE",D),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:V.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:W.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},"30d":()=>{const V=P.subtract(30,"day"),W=P.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE",D),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:V.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:W.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},"3m":()=>{const V=P.subtract(3,"month"),W=P.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE",D),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:V.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:W.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},"6m":()=>{const V=P.subtract(6,"month"),W=P.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE",D),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:V.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:W.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},custom:()=>{const V=e.getters["main/GET_CURRENT_DATE_RANGE"];e.dispatch("main/SET_SLUG_BUTTON_DATE",D),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:V.startDate,endDate:V.endDate})}}[D].call()},b=D=>D.lessAccessible!=="metrics-free"&&(_.value||d.value),v=D=>D.lessAccessible!=="metrics-free"&&_.value,G=D=>D.lessAccessible!=="metrics-free"&&d.value,K=D=>D.lessAccessible==="metrics-free"||l.value===D.lessAccessible,j=D=>D.disableOnRoute&&!o.value,ue=g(()=>{if(e.state.main.app==="metrics")return S;let D=[];return S.forEach(P=>{(!r||r&&P.displayedOnDashboard===!0)&&D.push(P)}),D});return{setDateRangeBySlugButton:R,slugButtonDate:m,plan:l,isAccessible:K,isFirst:b,isFirstAccess:_,isFirstSync:d,isAdvanded:u,isFirstAccessFn:v,isFirstSyncFn:G,isDisableOnRoute:j,getDisplayedButtons:ue,changeSelectDate:function(D){for(var P in S){const te=S[P];te.slug===D.target.value&&($.value.hide(),te.onPress())}},clickSelectDate:function(D){if(D.target.value==="custom")for(var P in S){const te=S[P];te.slug===D.target.value&&te.onPress()}}}}});const fo={class:"metrics-hidden md:metrics-flex metrics-rounded-lg metrics-text-md",role:"group"},yo={class:"metrics-flex metrics-items-center metrics-justify-center metrics-truncate"},vo=t("div",{id:"top-bar-datepicker",class:"metrics-w-0 metrics-p-0 metrics-border-none"},null,-1);function bo(e,s,r,i,c,m){const o=p("clock-icon"),l=p("tippy"),_=p("refresh-cw-icon"),d=p("lock-icon");return a(),n("div",null,[t("div",fo,[(a(!0),n(Y,null,oe(e.getDisplayedButtons,(u,f)=>(a(),n("button",{disabled:!e.isAccessible(u)||e.isFirst(u)||e.isDisableOnRoute(u),key:u.slug,type:"button",class:["metrics-button-date metrics-border metrics-text-white",{"active  metrics-text-white metrics-border-theme-43 metrics-bg-theme-43 metrics-cursor-default":e.slugButtonDate===u.slug,"metrics-bg-white metrics-border-gray-400 metrics-text-gray-700 metrics-zoom-in-no-shadow ":e.slugButtonDate!==u.slug,"metrics-rounded-l-lg":f===0,"metrics-rounded-r-lg":f===e.getDisplayedButtons.length-1,"metrics-cursor-not-allowed":!e.isAccessible(u)||e.isFirst(u)||e.isDisableOnRoute(u)}],onClick:ae(E=>u.onPress(),["prevent"])},[t("span",yo,[e.isFirstAccessFn(u)?(a(),n(l,{key:0,tag:"div",content:e.$t("advancedPlan.menuTooltipWait")},{default:w(()=>[t(o,{class:"metrics-w-4 metrics-h-4 metrics-mr-1"})]),_:1},8,["content"])):e.isFirstSyncFn(u)?(a(),n(l,{key:1,tag:"div",content:e.$t("advancedPlan.menuTooltipWait")},{default:w(()=>[t(_,{class:"metrics-w-4 metrics-h-4 metrics-mr-1"})]),_:1},8,["content"])):e.isAccessible(u)?e.isDisableOnRoute(u)?(a(),n(l,{key:3,tag:"div",content:e.$t("advancedPlan.menuTooltipTodayNotAccessible")},{default:w(()=>[t(d,{class:"metrics-w-4 metrics-h-4 metrics-mr-1"})]),_:1},8,["content"])):k("",!0):(a(),n(l,{key:2,tag:"div",content:e.$t("advancedPlan.menuTooltipLock")},{default:w(()=>[t(d,{class:"metrics-w-4 metrics-h-4 metrics-mr-1"})]),_:1},8,["content"])),L(" "+h(typeof u.label=="string"?u.label:u.label.value),1)])],10,["disabled","onClick"]))),128)),vo]),t("select",{onChange:s[1]||(s[1]=u=>e.changeSelectDate(u)),onClick:s[2]||(s[2]=u=>e.clickSelectDate(u)),class:"metrics-appearance-none metrics-block md:metrics-hidden metrics-mb-0 metrics-py-2 metrics-px-4 metrics-pr-12 metrics-border-gray-400 metrics-border metrics-box metrics-text-base metrics-select-custom"},[(a(!0),n(Y,null,oe(e.getDisplayedButtons,(u,f)=>(a(),n("option",{key:f,disabled:!e.isAccessible(u)||e.isFirst(u)||e.isDisableOnRoute(u),class:"metrics-button-date metrics-border metrics-text-black metrics-ml-auto",selected:e.slugButtonDate===u.slug,value:u.slug},h(typeof u.label=="string"?u.label:u.label.value),9,["disabled","selected","value"]))),128))],32)])}He.render=bo;var Ot=C({name:"CompareModeSwitcher",setup(){const e=U(),s=g(()=>e.getters["main/PREVIOUS_PERIOD_IS_AVAILABLE"]),r=g(()=>e.getters["main/LAST_YEAR_IS_AVAILABLE"]),i=g(()=>e.getters["main/GET_IS_ADVANCED"]),c=g({get(){return e.getters["main/GET_COMPARE_MODE_TYPE"]},set(l){o(),e.dispatch("main/SET_COMPARE_MODE_TYPE",l)}}),{appContext:{config:{globalProperties:{$segment:m}}}}=Z(),o=()=>{m().track("[MTR] Overview Compare Mode",J(A({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]}),{value:!c.value}))};return{CompareModeTypeEnum:ge,compareModeType:c,previousPeriodAvailable:s,lastYearAvailable:r,isAdvanced:i,setCompareMode:o}}});const $o={class:"metrics-relative metrics-z-10 metrics-mt-8 metrics-mb-8 sm:metrics-mb-0"},Eo={class:"metrics-flex metrics-items-center"},So={id:"metrics-tour-compare-mode",class:"metrics-w-auto metrics-flex metrics-items-center metrics-m-auto sm:metrics-mr-0 sm:metrics-ml-auto metrics-mt-0"},To={class:"metrics-mr-2 metrics-inline-flex"};function Co(e,s,r,i,c,m){const o=p("InfoIcon"),l=p("Tippy"),_=p("tippy");return a(),n("div",$o,[t("div",Eo,[t("div",So,[t("div",To,h(e.$t("compareMode.title")),1),Ee(t("select",{id:"metrics-tour-compare-mode",name:"compare-mode",class:"metrics-appearance-none metrics-block metrics-mb-0 metrics-py-2 metrics-px-4 metrics-pr-12 metrics-border-gray-400 metrics-border metrics-box metrics-text-base metrics-select-custom","onUpdate:modelValue":s[1]||(s[1]=d=>e.compareModeType=d),disabled:!e.previousPeriodAvailable},[t("option",{value:e.CompareModeTypeEnum.PREVIOUS_PERIOD},h(e.$t("compareMode.type.previousPeriod")),9,["value"]),t("option",{value:e.CompareModeTypeEnum.LAST_YEAR,disabled:!e.lastYearAvailable},h(e.$t("compareMode.type.lastYear")),9,["value","disabled"])],8,["disabled"]),[[ur,e.compareModeType]]),e.previousPeriodAvailable?e.isAdvanced&&!e.lastYearAvailable?(a(),n(_,{key:1,tag:"div",content:e.$t("compareMode.dateRangeTooLarge.lastYear"),class:"metrics-ml-3"},{default:w(()=>[t(o,{class:"metrics-w-5 lg:metrics-w-3 metrics-h-auto"})]),_:1},8,["content"])):e.isAdvanced?k("",!0):(a(),n(_,{key:2,tag:"div",content:e.$t("compareMode.dateRangeTooLarge.freeVersion"),class:"metrics-ml-3"},{default:w(()=>[t(o,{class:"metrics-w-5 lg:metrics-w-3 metrics-h-auto"})]),_:1},8,["content"])):(a(),n(l,{key:0,tag:"div",content:e.$t("compareMode.dateRangeTooLarge.previousPeriod"),class:"metrics-ml-3"},{default:w(()=>[t(o,{class:"metrics-w-5 lg:metrics-w-3 metrics-h-auto"})]),_:1},8,["content"]))])])])}Ot.render=Co;var Bt=C({name:"AlertConfigurationProblem",setup(){const e=U(),s=g(()=>e.getters["main/GET_IS_ADVANCED"]),r=g(()=>e.state.main.maxUserConnections<50&&!s.value),i=g(()=>e.state.main.links.faq),c=g(()=>e.state.main.errorOnKpi),m=()=>{window.location.href=`${i.value}`};return{errorConfiguration:g(()=>r).value,maxUserConnections:r,goToHelp:m,errorOnKpi:c}}});const Do={key:0,class:"metrics-relative metrics-pt-5 metrics-z-10"},ko={class:"metrics-bg-indigo-100 metrics-border-l-4 metrics-border-theme-43 metrics-text-theme-43 metrics-p-4",role:"alert"},Ao={class:"metrics-font-bold"};function wo(e,s,r,i,c,m){const o=p("i18n-t");return e.errorConfiguration&&e.errorOnKpi?(a(),n("div",Do,[t("div",ko,[t("p",Ao,h(e.$t("boxalert.title")),1),t(o,{keypath:"boxalert.text"},pr({linktext:w(()=>[t("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline",onClick:s[1]||(s[1]=ae((...l)=>e.goToHelp&&e.goToHelp(...l),["prevent"]))},h(e.$t("boxalert.link")),1)]),_:2},[e.maxUserConnections?{name:"typeerror",fn:w(()=>[L(h(e.$t("boxalert.maxUserConnections")),1)])}:void 0]),1024)])])):k("",!0)}Bt.render=wo;const Ro=e=>{const s={compareMode:{element:"#metrics-tour-compare-mode",popover:{title:e("tour.compareMode.title"),description:e("tour.compareMode.description")}},options:{element:"#metrics-tour-options",popover:{title:e("tour.options.title"),description:e("tour.options.description"),position:"left"}},panel:{element:".metrics-top-nav>ul",stageBackground:"white",popover:{title:e("tour.panels.title"),description:e("tour.panels.description")}},feedback:{element:"#metrics-tour-feedback",popover:{title:e("tour.feedback.title"),description:e("tour.feedback.description"),position:"top"}},tooltip:{element:"#metrics-tour-tips-card",popover:{title:e("tour.tips.title"),description:e("tour.tips.description"),position:"top"}}},r=[{element:"#subtab-AdminStats",popover:{title:e("tour.start.title"),description:e("tour.start.description"),position:"right"},stageBackground:"#202226"},{element:".metrics-search",popover:{title:e("tour.daterange.title"),description:e("tour.daterange.description")}},s.options,s.panel,s.compareMode,{element:"#metrics-tour-box-upgrade",popover:{title:e("tour.advanced.title"),description:e("tour.advanced.description")}},s.feedback,J(A({},s.tooltip),{beforeSelect:()=>{setTimeout(()=>{X(".driver-next-btn").addClass("metrics-bg-theme-44 metrics-border-theme-44")},500)}})],i=[{element:"#metrics-tour-start",popover:{title:e("tour.advanced_start.title"),description:e("tour.advanced_start.description")}},{element:".metrics-search",popover:{title:e("tour.advanced_daterange.title"),description:e("tour.advanced_daterange.description")}},s.panel,{element:"#metrics-tour-sync",popover:{title:e("tour.advanced_sync.title"),description:e("tour.advanced_sync.description")}},J(A(A({},s.feedback),s.compareMode),{beforeSelect:()=>{setTimeout(()=>{X(".driver-next-btn").addClass("metrics-bg-theme-44 metrics-border-theme-44")},500)}})];return{tourFree:r,tourAdvanced:i}},ze=(e,s)=>{let r=!1;return e.forEach(i=>{i.pageName===s.name&&!i.ignore?r=!0:!r&&i.subMenu&&(r=ze(i.subMenu,s))}),r},Pt=(e,s)=>(e.forEach((r,i)=>{if(typeof r!="string"){let c=e[i];c.active=(r.pageName===s.name||r.subMenu&&ze(r.subMenu,s))&&!r.ignore,r.subMenu&&(c.activeDropdown=ze(r.subMenu,s),c=A(A({},r),Pt(r.subMenu,s)))}}),e),Lt=(e,s,r=!1)=>{e.subMenu?e.activeDropdown=!e.activeDropdown:r||s.push({name:e.pageName})};I(!1);const je=O`query getRevenue($inputData: InputData!) {
  revenueGross(InputData: $inputData) {
    currentValue
    previousValue
  } 
}`,Qe=O`query getOrders($inputData: InputData!) {
  orderSum(InputData: $inputData) {
    currentValue
    previousValue
  }
}`,Ut=O`query getAbandonedCart($inputData: InputData!) {
  cartAbandonedAverage(InputData: $inputData) {
    currentValue
    previousValue
  } 
}`,Gt=O`query getAvgCartValue($inputData: InputData!) {
  orderAverage(InputData: $inputData) {
    currentValue
    previousValue
  } 
}`,We=O`query getSessions($inputData: InputData!) {
  sessions(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,Je=O`query getUniqueUsers($inputData: InputData!) {
  uniqueUsers(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,Yt=O`query getBounceRate($inputData: InputData!) {
  bounceRate(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,Vt=O`query getAvgSessions($inputData: InputData!) {
  avgSessions(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,Ft=O`query getRevenue($inputData: InputData!) {
  revenueGrossGroupByDate(InputData: $inputData) {
    currentPeriod {
      currentValue
      date
    }
    previousPeriod {
      currentValue
      date
    }
  } 
}`,Xe=O`
  query getSessions(
    $inputData: InputData!
    $granularity: String!
  ) {
    sessionsGroupByDate(
      InputData: $inputData,
      Granularity: $granularity
    ) {
      currentPeriod {
        currentValue
        date
      }
      previousPeriod {
        currentValue
        date
      }
    }
  }
`,No=O`
  # Your GraphQL query or mutation goes here
  query sessionsByCategories(
    $inputData: InputData!
    $limit: Float!
    $isoCode: String!
  ) {
    sessionsGroupByCategory(
      InputData: $inputData
      Limit: $limit
      IsoCode: $isoCode
    ) {
      categories {
        previousValue
        currentValue
        category
      }
      total {
        totalCurrent
        totalPrevious
      }
    }
  }
`,qt=O`query getOrderAverage($inputData: InputData!) {
  orderAverage(InputData: $inputData) {
    currentValue
    previousValue
  }
}`,Io=O`query getOrderAverageGroupByDate($inputData: InputData!) {
  orderAverageGroupByDate(InputData: $inputData) {
    currentPeriod {
      currentValue
      date
    }
    previousPeriod {
      currentValue
      date
    }
  }
}`,xo=O`query getOrderSumGroupBySource($inputData: InputData!) {
  orderSumGroupBySource(InputData: $inputData) {
    currentPeriod {
      currentValue
      source
    }
    previousPeriod {
      currentValue
      source
    }
  }
}`,Kt=O`
  query getTopProduct(
    $inputData: InputData!
    $limit: Float!
    $isoCode: String!
  ) {
    productTopSeller(InputData: $inputData, Limit: $limit, IsoCode: $isoCode) {
      currentPeriod {
        id
        name
        quantity
        amount
      }
      previousPeriod {
        id
        name
        quantity
        amount
      }
    }
  }
`,Mo=O`
  query getTopOneProduct(
    $inputData: InputData!
    $limit: Float!
    $isoCode: String!
  ) {
    productTopSeller(InputData: $inputData, Limit: $limit, IsoCode: $isoCode) {
      currentPeriod {
        name
        quantity
        amount
      }
      previousPeriod {
        name
        quantity
        amount
      }
    }
  }
`,Oo=O`query getOrderSumGroupByDate($inputData: InputData!) {
    orderSumGroupByDate(InputData: $inputData) {
        currentPeriod {
            currentValue
            date
        }
        previousPeriod {
            currentValue
            date
        }
    }
}`,Bo=O`
  query revenueByCategory($inputData: InputData!, $isoCode: String!) {
    revenueGrossByCategories(InputData: $inputData, IsoCode: $isoCode) {
      currentValue
      previousValue
      categoryId
      category
    }
  }
`,Po=O`
  # Your GraphQL query or mutation goes here
  query revenueDistribution($inputData: InputData!) {
    revenueDistribution(InputData: $inputData) {
      currentValue
      previousValue
      category
    }
  }
`,Lo=O`subscription getAccount($shopId: String!) {
  accountUpgraded(shopId: $shopId) {
    shop_id,
    plan
  } 
}`,Uo=O`
  subscription getAccount($shopId: String!) {
    accountFirstSync(shopId: $shopId) {
      shop_id
      first_sync_asked_at
    }
  }
`,Go=O`
  subscription getAccount($shopId: String!) {
    accountLastSync(shopId: $shopId) {
      shop_id
      last_sync_at
    }
  }
`,Yo=O`
  subscription getAccount($shopId: String!) {
    accountStartSync(shopId: $shopId) {
      shop_id
      start_sync_at
    }
  }
`,Ht=O`
  query getAccount($shopId: String!) {
    account(shopId: $shopId) {
      shop_id
      plan
      shop_url
      email_account
      last_sync_at
      first_sync_asked_at
      start_sync_at
    }
  }
`,zt=O`query getConversionRate($inputData: InputData!) {
  conversionRate(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,Vo=O`query getTipsCards($category: String, $language: String) {
  tipscards(category: $category, language: $language) {
    uuid
    default_language
    title
    description
    language
    label
    redirect_url
  }
}`,Fo=O`
  mutation setProductTourFreeDone($done: Boolean!) {
    setProductTourFreeDone(done: $done)
  }
`,qo=O`
  mutation setProductTourAdvancedDone($done: Boolean!) {
    setProductTourAdvancedDone(done: $done)
  }
`,Ko=O`
  query getOrders($inputData: InputData!) {
    orderCountPartNewCustomer(InputData: $inputData) {
      currentValue
      previousValue
    }
  }
`,Ho=O`
  query getOrders($inputData: InputData!) {
    orderCountPartReturningCustomer(InputData: $inputData) {
      currentValue
      previousValue
    }
  }
`,zo=O`
  query getOrders($inputData: InputData!) {
    orderCountPartByCustomerCategory(InputData: $inputData) {
      currentValue
      previousValue
      category
    }
  }
`,jo=O`
    query revenueGrossGroupByPaymentsMethods($inputData: InputData!) {
    revenueGrossGroupByPaymentsMethods(InputData: $inputData) {
      currentValue,
      paymentMethod
    }
  }
`,jt=O`query getEngagementRate($inputData: InputData!) {
  engagementRate(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`;var Qt=C({components:{TopBarButtonDate:He,CompareModeSwitcher:Ot,AlertConfigurationProblem:Bt},setup(){const{t:e}=me(),s=fe(),r=gr(),i=U(),{appContext:{config:{globalProperties:{$segment:c}}}}=Z(),m=I([]),o=g(()=>Pt(i.state.topMenu.menu,s)),l=I({shopId:i.state.main.accounts.shopID}),_=I({title:"",description:""}),d=g(()=>i.state.main.fullscreen),u=g(()=>i.getters["main/GET_IS_ADVANCED"]),f=g(()=>i.state.main.controllersLinks.metrics),E=g(()=>i.getters["main/PRODUCT_TOUR_DONE"]),{tourAdvanced:$,tourFree:y}=Ro(e),S=I(!1),R=X("#metrics")[0],b=I(0),v=g(()=>{const N="metrics-bg-gray-248 metrics-z-50 metrics-shadow-md metrics--mx-3 sm:metrics--mx-8 metrics-px-3 sm:metrics-px-8 metrics-pt-0 sm:metrics-pt-0 metrics-pt-0",x=S.value?"metrics-relative metrics-mt-0":"metrics-sticky",H=d.value?"metrics-top-0":"metrics-top-1";return`${N} ${x} ${H}`}),G=function(){for(var N="metrics_visits=",x=document.cookie.split(";"),H=0;H<x.length;H++){for(var z=x[H];z.charAt(0)===" ";)z=z.substring(1);if(z.indexOf(N)===0)return z.substring(N.length,z.length)}return""},K=function(N){var x=new Date;x.setTime(x.getTime()+60*24*60*60*1e3);var H="expires="+x.toUTCString();document.cookie="metrics_visits="+N+";"+H+";path=/"};let j=parseInt(G());j||(j=0),j=j+1,c().identify(i.state.main.accounts.shopID,{domain:i.state.main.shop.domain,name:i.state.main.user.email?i.state.main.user.email.split("@")[0]:"",email:i.state.main.user.email,language:i.state.main.isoCode,version_ps:i.state.main.version_ps,mtr_module_version:i.state.main.version_module,mtr_plan:i.state.main.accounts.plan,mtr_nb_visits:j,mtr_last_activity_date:T().format("YYYY-MM-DD"),mtr_connected:i.getters["main/PSX_IS_CONNECTED"],mtr_ga_connected:i.getters["main/GA_IS_CONNECTED"],mtr_product_tour_free:i.state.main.productTourFreeDone,mtr_product_tour_advanced:i.state.main.productTourAdvancedDone,mtr_product_tour_free_date:i.state.main.productTourFreeDoneDate,mtr_product_tour_advanced_date:i.state.main.productTourAdvancedDoneDate}),K(j);const{mutate:ue,error:le}=vt(Fo),{mutate:ve,error:D}=vt(qo);ee(()=>[le.value,D.value],([N,x])=>{if(b.value<3)N&&ue({done:!0}),x&&ve({done:!0}),b.value++;else throw N||x}),ee(()=>S.value,N=>{N?R.classList.add("noscroll"):R.classList.remove("noscroll")});const P=N=>{let x;N!==void 0?x=N:x=u.value?"metrics-advanced":"metrics-free",c().track("[MTR] Overview Metrics Start Tour",J(A({module:"ps_metrics"},i.getters["main/GET_USER_EMAIL"]&&{email:i.getters["main/GET_USER_EMAIL"]}),{tour:x}));const H={"metrics-free":y,"metrics-advanced":$},z=new _r({className:"metrics-box",stageBackground:"#f1f5f8",keyboardControl:!0,closeBtnText:e("tour.closeButton"),prevBtnText:e("tour.previousButton"),nextBtnText:e("tour.nextButton"),doneBtnText:e("tour.doneButton"),onHighlighted:be=>{var Re=bt(H[x],Ye=>X(Ye.element)[0]===be.getNode());Re&&Re.beforeSelect&&Re.beforeSelect()},onNext:be=>{bt(H[x],Ye=>X(Ye.element)[0]===be.getNode())&&c().track("[MTR] Overview Next Product Tour",J(A({module:"ps_metrics"},i.getters["main/GET_USER_EMAIL"]&&{email:i.getters["main/GET_USER_EMAIL"]}),{tour:x}))},onReset:()=>{S.value=!1,window.scrollTo(0,0),x==="metrics-advanced"?ve({done:!0}):ue({done:!0})}});if(S.value=!0,R.scroll(0,0),H[x])z.defineSteps(H[x]);else{S.value=!1;const be=e("tour.noTourForPlanAvailable",x);throw new Error(be)}setTimeout(()=>{z.start()},0)};ne(()=>{const N=E.value;(!N||N==="metrics-free"&&u.value===!0)&&setTimeout(()=>{P(u.value?"metrics-advanced":"metrics-free")},2e3)});const te=g(()=>i.state.main.todayIsAccessible),V=g(()=>i.getters["main/GET_SLUG_BUTTON_DATE"]),{result:W}=Ie(Lo,l,{fetchPolicy:"network-only",clientId:"paidClient"}),{result:F}=Ie(Uo,l,{fetchPolicy:"network-only",clientId:"paidClient"}),{result:Ge}=Ie(Go,l,{fetchPolicy:"network-only",clientId:"paidClient"}),{result:Is}=Ie(Yo,l,{fetchPolicy:"network-only",clientId:"paidClient"}),xs=g(()=>i.state.main.links.faq),Ms=g(()=>i.state.main.links.settings),Os=function(){for(var N="1f7f8a936d0bf02d1a36ae49bb4f010c=",x=document.cookie.split(";"),H=0;H<x.length;H++){for(var z=x[H];z.charAt(0)===" ";)z=z.substring(1);if(z.indexOf(N)===0)return z.substring(N.length,z.length)}return""},Bs=function(N){var x=new Date;x.setTime(x.getTime()+1*24*60*60*1e3);var H="expires="+x.toUTCString();document.cookie="1f7f8a936d0bf02d1a36ae49bb4f010c="+JSON.stringify(N)+";"+H+";path=/"},ct=Os();if(ct){const N=JSON.parse(ct);i.dispatch("main/SET_ACCOUNT",N)}else{localStorage.clear();const{result:N}=de(Ht,l,{fetchPolicy:"network-only",clientId:"paidClient"});ee(N,x=>{x.account&&(i.dispatch("main/SET_ACCOUNT",x.account),Bs(x.account))})}const Ps=function(N,x){for(var H in m.value){const z=m.value[H];z.title===N.target.value&&Lt(z,x,mt(z))}};ee(W,N=>{i.dispatch("main/SET_PLAN",N.accountUpgraded)}),ee(F,N=>{i.dispatch("main/SET_FIRST_SYNC",N.accountFirstSync.first_sync_asked_at)}),ee(Ge,N=>{i.dispatch("main/SET_LAST_SYNC",N.accountLastSync.last_sync_at)}),ee(Is,N=>{i.dispatch("main/SET_START_SYNC",N.accountStartSync.start_sync_at)}),ee(g(()=>s.path),()=>{m.value=Te.toRaw(o.value)}),ne(()=>{m.value=Te.toRaw(o.value)});const lt=I(!1),Ls=()=>{c().track("[MTR] Overview Full Screen",J(A({module:"ps_metrics"},i.getters["main/GET_USER_EMAIL"]&&{email:i.getters["main/GET_USER_EMAIL"]}),{fullScreen:!d.value})),lt.value||(lt.value=!0,i.dispatch("main/TOGGLE_FULLSCREEN",!d.value),window.location.href=`${f.value}&fullscreen=${d.value}`)},Us=()=>{c().track("[MTR] Overview Go To Settings",A({module:"ps_metrics"},i.getters["main/GET_USER_EMAIL"]&&{email:i.getters["main/GET_USER_EMAIL"]})),window.location.href=`${Ms.value}`},Gs=()=>{window.location.href=`${xs.value}`},mt=N=>te.value&&N.isDisabledOnToday&&V.value==="today";return{formattedMenu:m,router:r,linkTo:Lt,goToHelp:Gs,goToSettings:Us,toggleFullscreen:Ls,fullscreen:d,startTour:P,showTourText:_,topBarClasses:v,isDisabled:mt,changeSelectNav:Ps}}}),Wt="/modules/ps_metrics/views/img/logo-ps-metrics.png",Ze="/modules/ps_metrics/views/img/icon-ps-metrics.png";const Qo={class:"metrics-h-screen"},Wo={class:"metrics-top-bar-boxed metrics-flex metrics-items-center"},Jo=t("span",{id:"metrics-tour-start"},[t("img",{alt:"Prestashop Metrics",class:"metrics-h-7 metrics-hidden xl:metrics-flex",src:Wt}),t("img",{alt:"Prestashop Metrics",class:"metrics-h-7 metrics-flex xl:metrics-hidden",src:Ze})],-1),Xo={class:`
            metrics-intro-x metrics-relative metrics-ml-auto metrics-mr-auto
          `},Zo={class:"metrics-search metrics-block"},en={class:`
                sm:metrics-ml-auto
                metrics-mt-0 metrics-relative metrics-text-gray-700
                dark:metrics-text-gray-300
              `},tn={id:"metrics-tour-options",class:"metrics-flex metrics-items-center"},sn={class:`
              metrics-intro-x metrics-relative metrics-mr-2 metrics-ml-2
              lg:metrics-mr-1
              xl:metrics-mr-2
              lg:metrics-ml-1
              xl:metrics-ml-2
              metrics-cursor-pointer metrics-hidden
              lg:metrics-block
            `},rn={class:`
              metrics-intro-x metrics-relative metrics-mr-2 metrics-ml-2
              lg:metrics-mr-1
              xl:metrics-mr-2
              lg:metrics-ml-1
              xl:metrics-ml-2
              metrics-cursor-pointer metrics-hidden
              lg:metrics-block
            `},on={class:`
              metrics-intro-x metrics-relative metrics-mr-2 metrics-ml-2
              lg:metrics-mr-1
              xl:metrics-mr-2
              lg:metrics-ml-1
              xl:metrics-ml-2
              metrics-cursor-pointer
            `},nn={class:"metrics-pt-0 metrics-top-nav metrics-z-0"},an={class:"metrics-hidden md:metrics-flex"},cn={class:"metrics-top-menu__title"},ln={class:"metrics-top-menu__title"},mn={class:"metrics-content metrics-z-0"};function dn(e,s,r,i,c,m){const o=p("router-link"),l=p("top-bar-button-date"),_=p("maximize-icon"),d=p("minimize-icon"),u=p("tippy"),f=p("help-circle-icon"),E=p("settings-icon"),$=p("alert-configuration-problem"),y=p("compare-mode-switcher"),S=p("chevron-down-icon"),R=p("router-view");return a(),n("div",Qo,[t("div",{id:"metrics-tour-topbar",class:e.topBarClasses},[t("div",Wo,[t(o,{tag:"a",to:"/",class:"metrics--intro-x metrics-flex metrics-mr-0 xl:metrics-mr-5"},{default:w(()=>[Jo]),_:1}),t("div",Xo,[t("div",Zo,[t("div",en,[t(l)])])]),t("span",tn,[t("div",sn,[t(u,{tag:"span",content:e.$t("menuDropdown.fullscreen")},{default:w(()=>[e.fullscreen?(a(),n(d,{key:1,onClick:s[2]||(s[2]=ae(b=>e.toggleFullscreen(),["prevent"]))})):(a(),n(_,{key:0,onClick:s[1]||(s[1]=ae(b=>e.toggleFullscreen(),["prevent"]))}))]),_:1},8,["content"])]),t("div",rn,[t(u,{tag:"span",content:e.$t("menuDropdown.faq")},{default:w(()=>[t(f,{onClick:s[3]||(s[3]=ae(b=>e.startTour(),["prevent"]))})]),_:1},8,["content"])]),t("div",on,[t(u,{tag:"span",content:e.$t("menuDropdown.settings")},{default:w(()=>[t(E,{onClick:s[4]||(s[4]=ae(b=>e.goToSettings(),["prevent"]))})]),_:1},8,["content"])])])])],2),t($),t(y),t("nav",nn,[t("ul",an,[(a(!0),n(Y,null,oe(e.formattedMenu,(b,v)=>(a(),n("li",{key:v},[e.isDisabled(b)?(a(),n(u,{key:0,tag:"span",content:e.$t("advancedPlan.menuTooltipMenuOnTodayNotAccessible"),refKey:b.pageName},{default:w(()=>[t("a",{href:"javascript:;",class:["metrics-top-menu",{"metrics-top-menu--active":b.active,"metrics-cursor-not-allowed":e.isDisabled(b)}],onClick:G=>e.linkTo(b,e.router,e.isDisabled(b))},[t("div",cn,[L(h(e.$t(b.title))+" ",1),b.subMenu?(a(),n(S,{key:0,class:"metrics-top-menu__sub-icon"})):k("",!0)])],10,["onClick"])]),_:2},1032,["content","refKey"])):(a(),n("a",{key:1,href:"javascript:;",class:["metrics-top-menu",{"metrics-top-menu--active":b.active,"metrics-cursor-not-allowed":e.isDisabled(b)}],onClick:G=>e.linkTo(b,e.router,e.isDisabled(b))},[t("div",ln,[L(h(e.$t(b.title))+" ",1),b.subMenu?(a(),n(S,{key:0,class:"metrics-top-menu__sub-icon"})):k("",!0)])],10,["onClick"]))]))),128))]),t("select",{onChange:s[5]||(s[5]=b=>e.changeSelectNav(b,e.router)),class:"metrics-appearance-none metrics-bg-gray-248 metrics-block md:metrics-hidden metrics-py-2 metrics-px-4 metrics-pr-12 metrics-box metrics-border-none metrics-shadow-none metrics-rounded-b-none metrics-text-sm metrics-select-custom"},[(a(!0),n(Y,null,oe(e.formattedMenu,(b,v)=>(a(),n("option",{key:v,disabled:e.isDisabled(b),selected:b.active,value:b.title},h(e.$t(b.title)),9,["disabled","selected","value"]))),128))],32)]),t("div",mn,[t(R)])])}Qt.render=dn;var Jt=C({components:{},setup(){ne(()=>{X("body").removeClass("app").removeClass("login").addClass("error-page")})}});const un={class:"container"},pn={class:`
        error-page
        flex flex-col
        lg:flex-row
        items-center
        justify-center
        h-screen
        text-center
        lg:text-left
      `},gn={class:"-intro-x lg:mr-20"},_n=ye(`<div class="text-white mt-10 lg:mt-0"><div class="intro-x text-8xl font-medium">404</div><div class="intro-x text-xl lg:text-3xl font-medium mt-5"> Oops. This page has gone missing. </div><div class="intro-x text-lg mt-3"> You may have mistyped the address or the page may have moved. </div><button class="
            intro-x
            button button--lg
            border border-white
            dark:border-dark-5 dark:text-gray-300
            mt-10
          "> Back to Home </button></div>`,1);function hn(e,s,r,i,c,m){return a(),n("div",un,[t("div",pn,[t("div",gn,[t("img",{alt:"RxD Tailwind HTML Admin Template",class:"h-48 lg:h-auto",src:require("@/assets/images/error-illustration.svg")},null,8,["src"])]),_n])])}Jt.render=hn;var Xt=C({name:"LoaderBoxNumber"});const fn={class:"metrics-grid metrics-grid-cols-4 metrics-gap-1 metrics-h-full"},yn=ye('<div class="metrics-col-span-1 metrics-h-8 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-2 metrics-h-3"></div><div class="metrics-h-3 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse metrics-items-start"></div><div class="metrics-h-6 metrics-col-span-2 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse metrics-mt-3"></div><div class="metrics-col-span-3 metrics-h-1"></div><div class="metrics-col-span-3 metrics-h-3 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div>',6);function vn(e,s,r,i,c,m){return a(),n("div",fn,[yn])}Xt.render=vn;var Ce=C({name:"BoxAnalyticsMustBeLinked",props:{horizontal:{type:Boolean,default:!1},largeIcon:{type:Boolean,default:!1}},setup(){const e=se();return{linkToSettings:()=>{window.location=e.state.main.configurationLink}}}}),Me="/modules/ps_metrics/views/img/oh.svg";const bn={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-center metrics-justify-center"},$n={class:"metrics-w-full"},En={class:"metrics-justify-center metrics-flex metrics-mb-5"},Sn={class:"metrics-mt-3 metrics-intro-x"},Tn={class:"metrics-text-center metrics-text-gray-777 metrics-text-xs"};function Cn(e,s,r,i,c,m){const o=p("i18n-t");return a(),n("div",null,[t("div",bn,[t("div",$n,[t("div",{class:["metrics-intro-x",{"metrics-float-left metrics-pl-6":e.horizontal}]},[t("div",En,[t("img",{alt:"Prestashop Metrics",class:e.largeIcon?"metrics-w-20":"metrics-w-10",src:Me},null,2)])],2),t("div",Sn,[t("div",Tn,[t(o,{keypath:"error.analyticsSentence"},{linktext:w(()=>[t("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline",onClick:s[1]||(s[1]=(...l)=>e.linkToSettings&&e.linkToSettings(...l))},h(e.$t("error.analyticsSentenceLink")),1)]),_:1})])])])])])}Ce.render=Cn;var Zt=C({name:"ReportNumber",props:{result:{type:Object,default:()=>({})},isCurrency:{type:Boolean,default:!1},isPercent:{type:Boolean,default:!1},isTime:{type:Boolean,default:!1},tippyContentKey:{type:String,default:"boxNumber.revenueGross"},icon:{type:String,default:"ShoppingCartIcon"},title:{type:String,default:""},positiveIsLower:{type:Boolean,default:!1}},setup:function(e){const s=U(),r=g(()=>s.getters["main/IS_COMPARE_MODE_ENABLED"]),i=y=>{const S=~~(y/3600),R=~~(y%3600/60),b=~~y%60;let v="";return S>0&&(v+=""+S+":"+(R<10?"0":"")),v+=""+R+"'"+(b<10?"0":""),v+=""+b+"''",v},c=g(()=>e.result.currentValue),m=g(()=>e.result.previousValue),o=g(()=>Math.round((parseFloat(c.value)+Number.EPSILON)*100)/100),l=g(()=>c.value-m.value),_=g(()=>Math.round((l.value+Number.EPSILON)*100)/100),d=g(()=>{let y;return m.value>=1?e.isPercent?y=Number(c.value-m.value):y=Number((c.value-m.value)/m.value*100):y=Number(c.value*100),Math.round((y+Number.EPSILON)*100)/100}),u=g(()=>{const y=d.value;return(y<0?y*-1:y).toFixed(0)}),f=g(()=>{const y=Math.sign(d.value);return e.positiveIsLower?y<=0:y>=0}),{t:E}=me(),$=g(()=>{let y=u.value+"% ";return y+=f.value?E("boxNumber.higher"):E("boxNumber.lower"),y+=" "+E("boxNumber.thanLastPeriod"),y});return{formatTime:i,currentValue:c,previousValue:m,percentCompare:d,isPositive:f,compareModeEnabled:r,diffValue:l,diffValueClean:_,percentCompareAbsolute:u,currentValueClean:o,tippyContent:$}}}),es="/modules/ps_metrics/views/img/google-analytics.png";const Dn={class:"metrics-flex"},kn={key:0,class:"metrics-report-box__icon",src:es,alt:"logo google analytics"},An={key:1,class:"metrics-ml-auto metrics-flex metrics-items-center"},wn={class:"metrics-text-2xl metrics-font-bold dark:metrics-text-theme-white metrics-mt-3"},Rn={class:"metrics-text-gray-777 metrics-flex metrics-justify-between metrics-items-center metrics-relative metrics-h-5"},Nn={class:"metrics-truncate metrics-ellipsis metrics-bg-white metrics-top-0 metrics-pr-1.5 hover:metrics-overflow-visible hover:metrics-absolute"},In={class:"metrics-flex metrics-justify-self-end metrics-ml-auto "};function xn(e,s,r,i,c,m){const o=p("ArrowUpRightIcon"),l=p("ArrowDownRightIcon"),_=p("Tippy"),d=p("InfoIcon");return a(),n("div",null,[t("div",Dn,[e.icon==="AnalyticsIcon"?(a(),n("img",kn)):k("",!0),e.compareModeEnabled?(a(),n("div",An,[t(_,{tag:"div",class:[" metrics-report-box__indicator metrics-cursor-pointer metrics-m-0 metrics-p-0 sm:metrics-text-xs metrics-text-lg",e.isPositive?"metrics-text-theme-44":"metrics-text-theme-45"],content:e.tippyContent},{default:w(()=>[e.isTime?k("",!0):(a(),n(Y,{key:0},[L(h(e.diffValue>0?"+":" ")+" "+h(e.isCurrency?e.$n(e.diffValueClean,"currency"):e.isPercent?`${e.diffValueClean.toFixed(0)} pt`:e.diffValueClean),1)],64)),e.isPositive?(a(),n(o,{key:1,class:"metrics-w-4 metrics-h-4 metrics-ml-2"})):(a(),n(l,{key:2,class:"metrics-w-4 metrics-h-4 metrics-ml-2"})),e.isPercent?k("",!0):(a(),n(Y,{key:3},[L(h(e.percentCompareAbsolute)+"% ",1)],64))]),_:1},8,["class","content"])])):k("",!0)]),t("div",wn,h(e.isCurrency?e.$n(e.currentValue,"currency"):e.isPercent?`${e.currentValueClean} %`:e.isTime?e.formatTime(e.currentValue):e.currentValueClean),1),t("div",Rn,[t("span",Nn,h(e.title),1),t("div",In,[t(_,{tag:"div",content:e.$t(e.tippyContentKey)},{default:w(()=>[t(d,{class:"metrics-h-auto metrics-w-5 lg:metrics-w-3 "})]),_:1},8,["content"])])])])}Zt.render=xn;var ts=C({name:"ReportNumber",props:{isCurrency:{type:Boolean,default:!1},isPercent:{type:Boolean,default:!1},isTime:{type:Boolean,default:!1},tippyContentKey:{type:String,default:"boxNumber.revenueGross"},icon:{type:String,default:"ShoppingCartIcon"},title:{type:String,default:""},positiveIsLower:{type:Boolean,default:!1}},setup:function(e){const s=U(),r=g(()=>s.getters["main/IS_COMPARE_MODE_ENABLED"]),i=y=>{const S=~~(y/3600),R=~~(y%3600/60),b=~~y%60;let v="";return S>0&&(v+=""+S+":"+(R<10?"0":"")),v+=""+R+"''"+(b<10?"0":""),v+=""+b+"'",v},c=g(()=>q.datatype.number(1e4)),m=g(()=>q.datatype.number(5e3)),o=g(()=>Math.round((parseFloat(c.value)+Number.EPSILON)*100)/100),l=g(()=>c.value-m.value),_=g(()=>Math.round((l.value+Number.EPSILON)*100)/100),d=g(()=>{let y;return m.value>=1?e.isPercent?y=Number(c.value-m.value):y=Number((c.value-m.value)/m.value*100):y=Number(c.value*100),Math.round((y+Number.EPSILON)*100)/100}),u=g(()=>{const y=d.value;return(y<0?y*-1:y).toFixed(0)}),f=g(()=>{const y=Math.sign(d.value);return e.positiveIsLower?y<=0:y>=0}),{t:E}=me(),$=g(()=>{let y=u.value+"% ";return y+=f.value?E("boxNumber.higher"):E("boxNumber.lower"),y+=" "+E("boxNumber.thanLastPeriod"),y});return{formatTime:i,currentValue:c,previousValue:m,percentCompare:d,isPositive:f,compareModeEnabled:r,diffValue:l,diffValueClean:_,percentCompareAbsolute:u,currentValueClean:o,tippyContent:$}}});const Mn={class:"metrics-flex"},On={key:0,class:"metrics-report-box__icon",src:es,alt:"logo google analytics"},Bn={key:1,class:"metrics-ml-auto metrics-flex metrics-items-center"},Pn={key:0,class:"metrics-blur-md"},Ln={key:3,class:"metrics-blur-md"},Un={class:"metrics-text-2xl metrics-font-bold dark:metrics-text-theme-white metrics-mt-3 metrics-blur-md"},Gn={class:"metrics-text-gray-777 metrics-flex metrics-justify-between metrics-items-center metrics-relative metrics-h-5"},Yn={class:"metrics-truncate metrics-ellipsis metrics-bg-white metrics-top-0 metrics-pr-1.5 hover:metrics-overflow-visible hover:metrics-absolute"},Vn={class:"metrics-flex metrics-justify-self-end metrics-ml-auto "};function Fn(e,s,r,i,c,m){const o=p("ArrowUpRightIcon"),l=p("ArrowDownRightIcon"),_=p("InfoIcon"),d=p("Tippy");return a(),n("div",null,[t("div",Mn,[e.icon==="AnalyticsIcon"?(a(),n("img",On)):k("",!0),e.compareModeEnabled?(a(),n("div",Bn,[t("div",{class:["metrics-report-box__indicator metrics-cursor-pointer metrics-m-0 metrics-p-0",e.isPositive?"metrics-text-theme-44":"metrics-text-theme-45"]},[e.isTime?k("",!0):(a(),n("span",Pn,h(e.diffValue>0?"+":" ")+" "+h(e.isCurrency?e.$n(e.diffValueClean,"currency"):e.isPercent?`${e.diffValueClean.toFixed(0)} pt`:e.diffValueClean),1)),e.isPositive?(a(),n(o,{key:1,class:"metrics-w-4 metrics-h-4 metrics-ml-2"})):(a(),n(l,{key:2,class:"metrics-w-4 metrics-h-4 metrics-ml-2"})),e.isPercent?k("",!0):(a(),n("span",Ln,h(e.percentCompareAbsolute)+"%",1))],2)])):k("",!0)]),t("div",Un,h(e.isCurrency?e.$n(e.currentValue,"currency"):e.isPercent?`${e.currentValueClean} %`:e.isTime?e.formatTime(e.currentValue):e.currentValueClean),1),t("div",Gn,[t("span",Yn,h(e.title),1),t("div",Vn,[t(d,{tag:"div",content:e.$t(e.tippyContentKey)},{default:w(()=>[t(_,{class:"metrics-w-3 metrics-h-auto"})]),_:1},8,["content"])])])])}ts.render=Fn;var _e=C({name:"BoxError",props:{retry:{type:Function,default:()=>1},horizontal:{type:Boolean,default:!1},largeIcon:{type:Boolean,default:!1}},setup(e){return U().dispatch("main/SET_ERROR_ON_KPI",!0),{launchRetry:function(){e.retry()}}}});const qn={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-center metrics-justify-center"},Kn={class:"metrics-justify-center metrics-flex metrics-mb-5"},Hn={class:"metrics-mt-3 metrics-intro-x"},zn={class:"metrics-text-center metrics-text-gray-777"},jn={class:"metrics-text-xs"},Qn={class:"metrics-text-xs metrics-mt-1"};function Wn(e,s,r,i,c,m){return a(),n("div",null,[t("div",qn,[t("div",{class:["metrics-w-full",{"metrics-h-28 metrics-pt-4":e.horizontal}]},[t("div",{class:["metrics-intro-x",{"metrics-float-left metrics-pl-6":e.horizontal}]},[t("div",Kn,[t("img",{alt:"Prestashop Metrics",class:e.largeIcon?"metrics-w-20":"metrics-w-10",src:Me},null,2)])],2),t("div",Hn,[t("div",zn,[t("div",jn,h(e.$t("error.sentence")),1),t("div",Qn,[t("span",{class:" metrics-text-theme-43 metrics-cursor-pointer metrics-underline metrics-m-auto",onClick:s[1]||(s[1]=ae((...o)=>e.launchRetry&&e.launchRetry(...o),["prevent"]))},h(e.$t("error.button")),1)])])])],2)])])}_e.render=Wn;var De=C({name:"ReportBoxNumber",props:{title:{type:String,default:""},query:{type:Object,default:()=>({})},dimension:{type:String,default:"revenueGross"},isCurrency:{type:Boolean,default:!1},isPercent:{type:Boolean,default:!1},isTime:{type:Boolean,default:!1},faker:{type:Boolean,default:!1},tippyContentKey:{type:String,default:"boxNumber.revenueGross"},icon:{type:String,default:"ShoppingCartIcon"},mustBeGoogleLinked:{type:Boolean,default:!1},positiveIsLower:{type:Boolean,default:!1}},components:{LoaderBoxNumber:Xt,BoxAnalyticsMustBeLinked:Ce,BoxError:_e,ReportNumber:Zt,FakerReportNumber:ts},setup:function(e){const s=U(),r=g(()=>s.getters["main/GET_VARIABLES_QUERY"]),i=g(()=>s.getters["main/GET_OPTIONS_QUERY"]);if(e.faker)return{faker:!0,result:[!0]};const{result:c,loading:m,error:o,refetch:l}=de(e.query,r,i.value),_=g(()=>e.mustBeGoogleLinked&&!s.getters["main/HAS_GOOGLE_ACCOUNT"]);return{result:re(c,0,u=>u[e.dimension]),loading:m,error:o,refetch:l,showAnalyticsLinkBox:_}}});const Jn={key:0,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},Xn={key:1,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},Zn={key:2,class:"metrics-box metrics-p-5 metrics-h-full metrics-w-full metrics-border-theme-5 metrics-border"},ea={key:3,class:"metrics-box metrics-p-5 metrics-h-full metrics-border-theme-5 metrics-border"};function ta(e,s,r,i,c,m){const o=p("BoxAnalyticsMustBeLinked"),l=p("LoaderBoxNumber"),_=p("BoxError"),d=p("FakerReportNumber"),u=p("ReportNumber");return a(),n("div",{key:e.title,class:"metrics-report-box metrics-h-full"},[e.showAnalyticsLinkBox?(a(),n("div",Jn,[t(o)])):e.loading?(a(),n("div",Xn,[t(l)])):e.error?(a(),n("div",Zn,[t(_,{retry:e.refetch},null,8,["retry"])])):e.result?(a(),n("div",ea,[e.faker?(a(),n(d,{key:0,icon:e.icon,isCurrency:e.isCurrency,isPercent:e.isPercent,isTime:e.isTime,title:e.title,tippyContentKey:e.tippyContentKey,positiveIsLower:e.positiveIsLower},null,8,["icon","isCurrency","isPercent","isTime","title","tippyContentKey","positiveIsLower"])):(a(),n(u,{key:1,icon:e.icon,isCurrency:e.isCurrency,isPercent:e.isPercent,isTime:e.isTime,result:e.result,title:e.title,tippyContentKey:e.tippyContentKey,positiveIsLower:e.positiveIsLower},null,8,["icon","isCurrency","isPercent","isTime","result","title","tippyContentKey","positiveIsLower"]))])):k("",!0)])}De.render=ta;var Oe=C({name:"BoxUpgradePlanModal",props:{canBeClosed:{type:Boolean,default:!1}},setup(){const e=se(),s=g(()=>e.getters["main/IS_FIRST_ACCESS"]);return{isFirstSync:g(()=>e.getters["main/IS_FIRST_SYNC"]),isFirstAccess:s,closeModal:()=>{e.dispatch("main/SET_PLAN_MODAL_OPENED",!1)},registerAdvancedplan:()=>{window.location=e.state.main.configurationLink}}}});const sa={class:"metrics-bg-blur-md metrics-top-0 metrics-bottom-0 metrics-left-0 metrics-right-0 metrics-z-50 metrics-absolute metrics-col-span-12 md:metrics-col-span-6 xl:metrics-col-span-12 xxl:metrics-col-span-12 xl:metrics-col-start-1 xl:metrics-row-start-1 xxl:metrics-col-start-auto xxl:metrics-row-start-auto metrics-mt-3"},ra={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-start metrics-mt-20 metrics-justify-center"},ia={class:"metrics-box metrics-grid metrics-box-border-gradient metrics-p-8"},oa={class:"metrics-intro-x"},na={class:"metrics-justify-center metrics-flex metrics-mb-5"},aa={key:0,class:"metrics-flex metrics-items-center metrics-text-theme-43"},ca={class:"metrics-ml-3 metrics-font-bold metrics-text-center"},la={key:1,class:"metrics-flex metrics-items-center metrics-text-theme-43"},ma={class:"metrics-ml-3 metrics-font-bold metrics-text-center"},da={class:"metrics-mt-2 metrics-intro-x metrics-px-8"},ua={class:"metrics-my-2 metrics-text-center metrics-text-gray-777"},pa={class:"metrics-text-xs metrics-truncate"},ga={class:"metrics-text-xs metrics-truncate"};function _a(e,s,r,i,c,m){const o=p("xIcon"),l=p("ClockIcon"),_=p("RefreshCwIcon");return a(),n("div",sa,[t("div",ra,[t("div",ia,[t("div",oa,[e.canBeClosed?(a(),n("span",{key:0,onClick:s[1]||(s[1]=d=>e.closeModal())},[t(o,{class:"metrics-w-6 metrics-h-6 metrics-w-1 metrics-float-right metrics-top-0  metrics-cursor-pointer"})])):k("",!0),t("div",na,[e.isFirstAccess?(a(),n("div",aa,[t(l,{class:"metrics-w-5"}),t("h2",ca,h(e.$t("advancedPlan.sync.scheduled")),1)])):k("",!0),e.isFirstSync?(a(),n("div",la,[t(_,{class:"metrics-w-5"}),t("h2",ma,h(e.$t("advancedPlan.sync.syncing")),1)])):k("",!0)])]),t("div",da,[t("div",ua,[t("div",pa,h(e.$t("advancedPlan.sync.sentence1")),1),t("div",ga,h(e.$t("advancedPlan.sync.sentence2")),1)])])])])])}Oe.render=_a;var Be=C({name:"BoxUpgradePlanModal",props:{canBeClosed:{type:Boolean,default:!1}},setup(){const e=se(),{appContext:{config:{globalProperties:{$segment:s}}}}=Z();return{closeModal:()=>{e.dispatch("main/SET_PLAN_MODAL_OPENED",!1)},registerAdvancedplan:()=>{s().track("[MTR] Overview Upgrade Plan",A({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),window.location=e.state.main.controllersLinks.plans}}}});const ha={class:"metrics-bg-blur-md metrics-top-0 metrics-bottom-0 metrics-left-0 metrics-right-0 metrics-z-50 metrics-absolute metrics-col-span-12 md:metrics-col-span-6 xl:metrics-col-span-12 xxl:metrics-col-span-12 xl:metrics-col-start-1 xl:metrics-row-start-1 xxl:metrics-col-start-auto xxl:metrics-row-start-auto metrics-mt-3"},fa={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-start metrics-mt-20 metrics-justify-center"},ya={class:"metrics-box metrics-grid metrics-box-border-gradient md:metrics-p-8 metrics-p-2"},va={class:"metrics-intro-x"},ba={class:"metrics-justify-center metrics-flex metrics-mb-5 metrics-mx-5"},$a={key:1,class:"metrics-font-bold metrics-text-center"},Ea={key:2,class:"metrics-font-bold metrics-text-center"},Sa={class:"metrics-mt-2 metrics-intro-x metrics-px-8"},Ta={class:"metrics-my-2"},Ca={class:"metrics-font-medium metrics-truncate"},Da={class:"metrics-text-justify metrics-mt-1"},ka={class:"metrics-m-5 metrics-list-disc"},Aa={class:"metrics-font-medium metrics-flex metrics-mt-5"};function wa(e,s,r,i,c,m){const o=p("xIcon"),l=p("lockIcon");return a(),n("div",ha,[t("div",fa,[t("div",ya,[t("div",va,[e.canBeClosed?(a(),n("span",{key:0,onClick:s[1]||(s[1]=_=>e.closeModal())},[t(o,{class:"metrics-w-6 metrics-h-6 metrics-w-1 metrics-float-right metrics-top-0 metrics-cursor-pointer"})])):k("",!0),t("div",ba,[t(l,{class:"metrics-w-10 metrics-h-10 metrics-w-1"})]),e.canBeClosed?(a(),n("h2",Ea,h(e.$t("advancedPlan.upgradeModal.modalTitleUpgrade")),1)):(a(),n("h2",$a,h(e.$t("advancedPlan.upgradeModal.modalTitle")),1))]),t("div",Sa,[t("div",Ta,[t("div",Ca,h(e.$t("advancedPlan.upgradeModal.header")),1),t("div",Da,[t("ul",ka,[t("li",null,h(e.$t("advancedPlan.upgradeModal.listitem.1")),1),t("li",null,h(e.$t("advancedPlan.upgradeModal.listitem.2")),1),t("li",null,h(e.$t("advancedPlan.upgradeModal.listitem.3")),1)]),L(" "+h(e.$t("advancedPlan.upgradeModal.footer")),1)]),t("div",Aa,[t("button",{type:"button",class:"metrics-button metrics-zoom-in metrics-button--lg metrics-border metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-white metrics-m-auto",onClick:s[2]||(s[2]=(..._)=>e.registerAdvancedplan&&e.registerAdvancedplan(..._))},h(e.$t("advancedPlan.upgradeModal.button")),1)])])])])])])}Be.render=wa;var et=C({name:"BoxUpgradePlan",setup(){const e=se(),r=fe().name==="metrics_preview",i=g(()=>e.state.main.newVersionAvailable),{appContext:{config:{globalProperties:{$segment:c}}}}=Z();return{isOnDashboard:r,openUpgradePlanModal:()=>{c().track("[MTR] Overview Upgrade Plan",A({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),window.location=e.state.main.controllersLinks.plans},newVersionAvailable:i}}});const Ra={key:0,class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},Na={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto"},Ia={class:"metrics-mt-2 metrics-intro-x"},xa={class:"metrics-box metrics-bg-white metrics-box-border-gradient metrics-text-center"},Ma={class:"metrics-p-5"},Oa={class:"metrics-font-medium metrics-text-gray-777"},Ba={class:"metrics-text-center metrics-mt-1 metrics-flex metrics-justify-center"},Pa={class:"metrics-m-auto metrics-mt-5 metrics-text-gray-777 metrics-w-42"},La={class:"metrics-mb-3"},Ua={class:"metrics-mb-3"},Ga={class:"metrics-font-medium metrics-flex metrics-mt-5"};function Ya(e,s,r,i,c,m){return a(),n("div",{id:"metrics-tour-box-upgrade",class:["metrics-col-span-12 sm:metrics-col-span-6 md:metrics-col-span-4 xxl:metrics-col-start-auto xxl:metrics-row-start-auto sm:metrics-mt-0",e.isOnDashboard?"md:metrics-col-span-6":"xxl:metrics-col-span-12"]},[e.isOnDashboard?k("",!0):(a(),n("div",Ra,[t("h2",Na,h(e.$t("advancedPlan.advancedPlan")),1)])),t("div",Ia,[t("div",xa,[t("div",Ma,[t("div",Oa,h(e.$t("advancedPlan.upgrade.header")),1),t("div",Ba,[t("ul",Pa,[t("li",La,h(e.$t("advancedPlan.upgrade.listitem.1")),1),t("li",Ua,h(e.$t("advancedPlan.upgrade.listitem.2")),1),t("li",null,h(e.$t("advancedPlan.upgrade.listitem.3")),1)])]),t("div",Ga,[t("button",{type:"button",onClick:s[1]||(s[1]=(...o)=>e.openUpgradePlanModal&&e.openUpgradePlanModal(...o)),class:"metrics-button metrics-zoom-in metrics-button--lg metrics-border metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-white metrics-m-auto"},h(e.$t("advancedPlan.upgrade.button")),1)])])])])],2)}et.render=Ya;var tt=C({name:"BoxSynchronization",setup(){const e=U(),r=fe().name==="metrics_preview",{appContext:{config:{globalProperties:{$segment:i}}}}=Z(),{t:c}=me(),m=()=>{e.dispatch("main/SET_PLAN_MODAL_OPENED",!0)},o=f=>({scheduled:()=>(i().track("[MTR] Overview Status Sync Scheduled",A({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),{class:"metrics-text-theme-43",text:c("advancedPlan.sync.scheduled")}),done:()=>(i().track("[MTR] Overview Status Sync Done",A({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),{class:"metrics-text-green-500",text:c("advancedPlan.sync.done")}),syncing:()=>(i().track("[MTR] Overview Status Sync Syncing",A({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),{class:"metrics-text-theme-43",text:c("advancedPlan.sync.syncing")})})[f].call(),l=g(()=>e.getters["main/GET_SYNC_STATUS"]),_=g(()=>o(l.value)),d=g(()=>{const f=e.state.main.accounts.last_sync_at;if(e.state.main.accounts.last_sync_at===-1)return!1;const E=T(f).locale(e.state.main.isoCode).format("LL");return(T().isAfter(T(f),"day")||T().isSame(T(f),"day"))&&e.dispatch("main/SET_LAST_SYNC",f),E}),u=g(()=>!e.state.main.accounts.next_sync_at&&e.state.main.accounts.next_sync_at!==-1?T(e.state.main.accounts.next_sync_at).add(1,"day").startOf("day").locale(e.state.main.isoCode).format("LLLL"):e.state.main.accounts.next_sync_at===1?T().add(1,"day").startOf("day").locale(e.state.main.isoCode).format("LLLL"):T(e.state.main.accounts.next_sync_at).locale(e.state.main.isoCode).format("LLLL"));return{isOnDashboard:r,openUpgradePlanModal:m,statusClass:_,syncStatus:l,lastSync:d,nextSync:u}}});const Va={key:0,class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},Fa=t("h2",{class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto metrics-flex"},[t("span",null,"Plan"),t("div",{class:"metrics-ml-4 metrics-font-normal metrics-text-sm metrics-text-white metrics-box metrics-pt-1 metrics-pb-1 metrics-pl-4 metrics-pr-4 metrics-bg-gradient-to-r metrics-from-yellow-400 metrics-to-pink-500"}," ADVANCED ")],-1),qa={class:"metrics-mt-2 metrics-intro-x"},Ka={class:"metrics-box metrics-bg-white metrics-box-border-gradient metrics-text-center"},Ha={class:"metrics-p-5"},za={class:"metrics-pb-10 metrics-text-sm metrics-text-gray-777 metrics-flex metrics-justify-center metrics-items-center"},ja={class:"metrics-mt-1 metrics-pb-10"},Qa={class:"metrics-flex metrics-items-center metrics-justify-center"},Wa={class:"metrics-text-sm metrics-text-gray-777"},Ja={class:"metrics-pb-5 metrics-font-semibold metrics-text-sm"},Xa={class:"metrics-text-xs metrics-text-gray-777"};function Za(e,s,r,i,c,m){const o=p("InfoIcon"),l=p("Tippy"),_=p("CheckCircleIcon"),d=p("ClockIcon"),u=p("RefreshCwIcon");return a(),n("div",{id:"metrics-tour-sync",class:["metrics-col-span-12 sm:metrics-col-span-6 md:metrics-col-span-4 xl:metrics-col-start-auto xl:metrics-row-start-auto xxl:metrics-col-start-auto xxl:metrics-row-start-auto sm:metrics-mt-0 xxl:metrics-mt-2",e.isOnDashboard?"md:metrics-col-span-6":"xxl:metrics-col-span-12"]},[e.isOnDashboard?k("",!0):(a(),n("div",Va,[Fa])),t("div",qa,[t("div",Ka,[t("div",Ha,[t("div",za,[t("span",null,h(e.$t("advancedPlan.sync.statusTitle")),1),t(l,{tag:"div",class:"metrics-text-sm",content:e.$t("advancedPlan.sync.statusTooltip")},{default:w(()=>[t(o,{class:"metrics-w-5 lg:metrics-w-3 metrics-ml-1"})]),_:1},8,["content"])]),t("div",ja,[t("span",Qa,[t("span",{class:["metrics-text-base metrics-font-medium",e.statusClass.class]},[Ee(t(_,{key:"done",class:["metrics-m-auto metrics-mb-2 metrics-h-6",e.statusClass.class]},null,8,["class"]),[[qe,e.syncStatus==="done"]]),Ee(t(d,{key:"scheduled",class:["metrics-m-auto metrics-mb-2 metrics-h-6",e.statusClass.class]},null,8,["class"]),[[qe,e.syncStatus==="scheduled"]]),Ee(t(u,{key:"syncing",class:["metrics-m-auto metrics-mb-2 metrics-h-6",e.statusClass.class]},null,8,["class"]),[[qe,e.syncStatus==="syncing"]]),L(" "+h(e.statusClass.text),1)],2)])]),e.lastSync?(a(),n(Y,{key:0},[t("div",Wa,h(e.$t("advancedPlan.sync.lastSync")),1),t("div",Ja,h(e.lastSync),1)],64)):k("",!0),t("div",Xa,h(e.$t("advancedPlan.sync.nextSync"))+" "+h(e.nextSync),1)])])])],2)}tt.render=Za;var st=C({name:"BoxNextFeatures",setup(){const e=U(),r=fe().name==="metrics_preview",{appContext:{config:{globalProperties:{$segment:i}}}}=Z();return{isOnDashboard:r,goToFeedback:()=>{i().track("[MTR] Overview Open Next Features",A({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),window.open("https://portal.productboard.com/prestashop/1-prestashop-feedback-the-place-to-share-your-feedback-on-prestashop-s-next-features/tabs/11-prestashop-metrics","_blank")}}}});const ec={key:0,class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},tc={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto"},sc={class:"metrics-mt-2 metrics-intro-x"},rc={class:"metrics-box metrics-border-theme-5 metrics-border"},ic={class:"metrics-p-5"},oc={class:"metrics-flex metrics-justify-center metrics-text-sm metrics-m-0"},nc={class:"metrics-text-gray-777 metrics-flex"},ac={class:"metrics-m-auto metrics-mt-3 metrics-mb-0"},cc={class:"metrics-flex metrics-my-3 metrics-items-center"},lc={class:"metrics-flex metrics-my-3 metrics-items-center"},mc={class:"metrics-flex metrics-my-3 metrics-items-center"},dc={class:"metrics-font-medium metrics-flex metrics-mt-3"};function uc(e,s,r,i,c,m){const o=p("MailIcon"),l=p("UploadIcon"),_=p("ActivityIcon");return a(),n("div",{id:"metrics-tour-feedback",class:["metrics-col-span-12 sm:metrics-col-span-6 md:metrics-col-span-4 xxl:metrics-col-start-auto xxl:metrics-row-start-auto sm:metrics-mt-0",e.isOnDashboard?"md:metrics-col-span-6":"xxl:metrics-col-span-12"]},[e.isOnDashboard?k("",!0):(a(),n("div",ec,[t("h2",tc,h(e.$t("nextfeatures.title")),1)])),t("div",sc,[t("div",rc,[t("div",ic,[t("h2",oc,h(e.$t("nextfeatures.comingSoon")),1),t("div",nc,[t("ul",ac,[t("li",null,[t("span",cc,[t(o,{class:"metrics-mr-3 metrics-w-5"}),L(" "+h(e.$t("nextfeatures.weekly")),1)])]),t("li",null,[t("span",lc,[t(l,{class:"metrics-mr-3 metrics-w-5"}),L(h(e.$t("nextfeatures.export")),1)])]),t("li",null,[t("span",mc,[t(_,{name:"ActivityIcon",class:"metrics-mr-3 metrics-w-5"}),L(h(e.$t("nextfeatures.newKpi")),1)])])])]),t("div",dc,[t("button",{type:"button",class:"metrics-button metrics-button--md metrics-border metrics-bg-white hover:metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-theme-43 hover:metrics-text-white metrics-m-auto",onClick:s[1]||(s[1]=(...d)=>e.goToFeedback&&e.goToFeedback(...d))},h(e.$t("nextfeatures.feedbackButton")),1)])])])])],2)}st.render=uc;var ss=C({props:{canBeClosed:{type:Boolean,default:!0},canScrollBody:{type:Boolean,default:!0},name:{type:String,default:"modal-dialog"}},setup(e,{emit:s}){const r=I(null),i=()=>{s("ModalClose")};return hr(r,()=>{e.canBeClosed&&(i(),s("ModalClose"))}),{closeModal:i,modal:r}}});const pc={class:"metrics-flex metrics-h-full metrics-items-center metrics-justify-center metrics-shadow-xl metrics-overflow-auto"},gc={class:"metrics-box metrics-max-h-full lg:metrics-w-6/12 metrics-p-8 metrics-box-border metrics-overflow-auto metrics-w-11/12",ref:"modal"},_c={class:"metrics-intro-x"},hc={class:"metrics-justify-center metrics-flex metrics-mb-5 metrics-mx-5"},fc={class:"metrics-mt-2 metrics-intro-x lg:metrics-px-8 metrics-px-2"},yc={class:"metrics-my-2 metrics-text-center metrics-text-gray-777"},vc={class:"metrics-font-medium metrics-flex metrics-mt-5"};function bc(e,s,r,i,c,m){const o=p("xIcon");return a(),n("div",{id:e.name,class:"metrics-bg-blur-md metrics-modal metrics-top-0 metrics-bottom-0 metrics-left-0 metrics-right-0 metrics-z-50 metrics-fixed metrics-col-span-12 md:metrics-col-span-6 xl:metrics-col-span-12 xxl:metrics-col-span-12 xl:metrics-col-start-1 xl:metrics-row-start-1 xxl:metrics-col-start-auto xxl:metrics-row-start-auto metrics-mt-3"},[t("div",pc,[t("div",gc,[t("div",_c,[e.canBeClosed?(a(),n("span",{key:0,onClick:s[1]||(s[1]=l=>e.closeModal())},[t(o,{class:"metrics-w-6 metrics-h-6 metrics-w-1 metrics-float-right metrics-top-0 metrics-cursor-pointer"})])):k("",!0),t("div",hc,[pe(e.$slots,"header")]),t("div",fc,[t("div",yc,[pe(e.$slots,"default")]),t("div",vc,[pe(e.$slots,"footer")])])])],512)])],8,["id"])}ss.render=bc;var rs=C({name:"LoaderBoxTipscards"});const $c={class:"metrics-grid metrics-grid-cols-4 metrics-gap-1 metrics-h-full metrics-p-5"},Ec=ye('<div class="metrics-col-span-12 metrics-h-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-20 metrics-col-span-12 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse metrics-mt-4"></div><div class="metrics-col-span-1 metrics-h-4 metrics-bg-gray-400 metrics-animate-pulse metrics-mt-1"></div><div class="metrics-col-span-2 metrics-h-4 "></div><div class="metrics-col-span-9 metrics-h-4 metrics-bg-gray-400 metrics-animate-pulse metrics-mt-1"></div>',5);function Sc(e,s,r,i,c,m){return a(),n("div",$c,[Ec])}rs.render=Sc;var he=C({name:"BoxNoData",props:{retry:{type:Function,default:()=>1},horizontal:{type:Boolean,default:!1},tipscards:{type:Boolean,default:!1},largeIcon:{type:Boolean,default:!1}}});const Tc={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-center metrics-justify-center"},Cc={class:"metrics-justify-center metrics-flex metrics-mb-5"},Dc={class:"metrics-mt-3 metrics-intro-x"},kc={class:"metrics-text-xs"};function Ac(e,s,r,i,c,m){return a(),n("div",null,[t("div",Tc,[t("div",{class:["metrics-w-full",{"metrics-mt-4":e.horizontal}]},[t("div",{class:["metrics-intro-x",{"metrics-float-left metrics-pl-6":e.horizontal}]},[t("div",Cc,[t("img",{alt:"Prestashop Metrics",class:e.largeIcon?"metrics-w-20":"metrics-w-10",src:Me},null,2)])],2),t("div",Dc,[t("div",{class:["metrics-text-center metrics-text-gray-777",{"metrics-mt-8":e.horizontal}]},[t("div",kc,[e.tipscards?(a(),n(Y,{key:0},[L(h(e.$t("nodata.noTipscard")),1)],64)):(a(),n(Y,{key:1},[L(h(e.$t("nodata.sentence")),1)],64))])],2)])],2)])])}he.render=Ac;var is=C({components:{BoxNoData:he,ModalDialog:ss,LoaderBoxTipscards:rs,BoxError:_e},name:"BoxTipsCard",props:{query:{type:Object,default:()=>({})},dimension:{type:String,default:"tipscards"},label:{type:String,default:null},additionnalQueryParams:{type:Object,default:()=>({label:""})}},setup(e){const s=U(),r=g(()=>A({},e.additionnalQueryParams)),i=I(),c=I({title:"",description:"",label:"",redirect_url:""}),{appContext:{config:{globalProperties:{$segment:m}}}}=Z();$e("bind[importantNotesRef]",b=>{i.value=b});const o=b=>{m().track("[MTR] Overview Tips Go To Addons",A(A({module:"ps_metrics"},s.getters["main/GET_USER_EMAIL"]&&{email:s.getters["main/GET_USER_EMAIL"]}),b))},l=b=>{m().track("[MTR] Overview Selected Tips Cards",A(A({module:"ps_metrics"},b),s.getters["main/GET_USER_EMAIL"]&&{email:s.getters["main/GET_USER_EMAIL"]})),X("#modal-tipscard").modal("show"),c.value=A({},b)},_=b=>b.substring(0,150)+"...",d=()=>{X("#modal-tipscard").modal("hide")},u={prevButton:"#tipscardsprev",nextButton:"#tipscardsnext",autoHeight:!0,autoplayTimeout:1e4},{result:f,loading:E,error:$,refetch:y}=de(e.query,r,{fetchPolicy:"network-only",clientId:"paidClient"}),S=re(f,[],b=>b[e.dimension]);return{result:f,loading:E,error:$,refetch:y,tipscards:S,sliderOptions:u,description:_,selectedTipscard:c,selectTipsCard:l,goToAddons:o,closeModal:d,formatTipsCardNumber:function(b,v){return parseFloat(b)+1+"/"+v}}}});const wc={id:"metrics-tour-tips-card",class:`
      metrics-col-span-12
      sm:metrics-col-span-6
      md:metrics-col-span-4
      xxl:metrics-col-span-12
      xxl:metrics-col-start-auto
      xxl:metrics-row-start-auto
      sm:metrics-mt-0
    `},Rc={class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},Nc={class:`
          metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto
        `},Ic={class:`
            metrics-slick-navigator
            metrics-button
            metrics-px-2
            metrics-border
            metrics-border-gray-400
            dark:metrics-border-dark-5
            metrics-flex metrics-items-center metrics-text-gray-700
            dark:metrics-text-gray-600
            metrics-mr-2
          `,id:"tipscardsprev"},xc={class:`
            metrics-slick-navigator
            metrics-button
            metrics-px-2
            metrics-border
            metrics-border-gray-400
            dark:metrics-border-dark-5
            metrics-flex metrics-items-center metrics-text-gray-700
            dark:metrics-text-gray-600
          `,id:"tipscardsnext"},Mc={class:"metrics-mt-2 metrics-intro-x"},Oc={key:0,class:"metrics-box metrics-border-theme-5 metrics-border"},Bc={key:1,class:"metrics-box metrics-border-theme-5 metrics-border"},Pc={class:"metrics-p-5"},Lc={key:2,class:"metrics-box metrics-border-theme-5 metrics-border"},Uc={class:"metrics-p-5"},Gc={key:3,class:"metrics-box metrics-border-theme-5 metrics-border"},Yc={class:"metrics-text-small metrics-font-medium"},Vc={class:"metrics-font-medium metrics-flex metrics-mt-5"},Fc={class:"metrics-text-gray-777"},qc={class:"metrics-text-lg metrics-font-medium metrics-mb-3"},Kc={class:`
            metrics-flex metrics-items-center metrics-justify-end metrics-w-full
          `};function Hc(e,s,r,i,c,m){const o=p("ChevronLeftIcon"),l=p("ChevronRightIcon"),_=p("LoaderBoxTipscards"),d=p("BoxError"),u=p("BoxNoData"),f=p("TinySlider"),E=p("ModalDialog");return a(),n("div",wc,[t("div",Rc,[t("h2",Nc,h(e.$t("tipscards.boxTitle")),1),!e.loading&&e.tipscards.length>0?(a(),n(Y,{key:0},[t("button",Ic,[t(o,{class:"metrics-w-4 metrics-h-4"})]),t("button",xc,[t(l,{class:"metrics-w-4 metrics-h-4"})])],64)):k("",!0)]),t("div",Mc,[e.loading?(a(),n("div",Oc,[t(_)])):e.error?(a(),n("div",Bc,[t("div",Pc,[t(d)])])):e.tipscards.length==0?(a(),n("div",Lc,[t("div",Uc,[t(u,{tipscards:!0})])])):!e.loading&&e.tipscards.length>0?(a(),n("div",Gc,[t(f,{refKey:"importantNotesRef",options:e.sliderOptions},{default:w(()=>[(a(!0),n(Y,null,oe(e.tipscards,($,y,S)=>(a(),n("div",{class:"metrics-p-5",key:S},[t("div",Yc,h($.title),1),t("div",{class:"metrics-text-gray-777 metrics-text-justify metrics-mt-4",innerHTML:e.description($.description)},null,8,["innerHTML"]),t("div",Vc,[t("div",Fc,h(e.formatTipsCardNumber(y,e.tipscards.length)),1),t("button",{type:"button",onClick:R=>e.selectTipsCard($),class:`
                  metrics-button metrics-button--sm
                  metrics-border metrics-border-gray-300
                  dark:metrics-border-dark-5
                  metrics-text-gray-777 metrics-ml-auto
                `},h(e.$t("tipscards.viewTip")),9,["onClick"])])]))),128))]),_:1},8,["options"])])):k("",!0)]),t(E,{onModalClose:e.closeModal,name:"modal-tipscard"},{header:w(()=>[t("h2",qc,h(e.selectedTipscard.title),1)]),footer:w(()=>[t("div",Kc,[e.selectedTipscard.redirect_url?(a(),n("a",{key:0,href:e.selectedTipscard.redirect_url,onClick:s[1]||(s[1]=$=>e.goToAddons(e.selectedTipscard)),target:"_blank",class:`
              metrics-button
              metrics-zoom-in
              metrics-border
              metrics-bg-theme-43
              metrics-border-theme-43
              dark:metrics-border-dark-5
              metrics-text-white
            `},h(e.$t("tipscards.showModuleButton")),9,["href"])):k("",!0)])]),default:w(()=>[t("div",{class:"metrics-max-w-xl metrics-m-auto metrics-text-left",innerHTML:e.selectedTipscard.description},null,8,["innerHTML"])]),_:1},8,["onModalClose"])])}is.render=Hc;var rt=C({name:"BoxNewVersion",setup(){const e=U(),r=fe().name==="metrics_preview",i=I(!1),c=g(()=>e.state.main.newVersionAvailable);return{isOnDashboard:r,loading:i,goToUpgrade:()=>{i.value=!0,localStorage.clear(),window.location.href=e.state.main.controllersLinks.upgrade},newVersionAvailable:c}}});const zc={key:0,class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},jc={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto"},Qc={class:"metrics-mt-2 metrics-intro-x"},Wc={class:"metrics-box metrics-border-theme-5 metrics-border"},Jc={class:"metrics-p-5"},Xc={class:"metrics-text-dark metrics-text-center"},Zc={class:"metrics-relative metrics-h-9 metrics-w-9 metrics-m-auto metrics-mb-5 metrics-pt-2"},el=t("div",{class:"metrics-bg-theme-45 metrics-rounded-full metrics-h-2.5 metrics-w-2.5 metrics-absolute metrics-top-3.5 metrics-right-2"},null,-1),tl={class:"metrics-font-medium metrics-flex metrics-mt-5"};function sl(e,s,r,i,c,m){const o=p("BellIcon"),l=p("LoaderIcon");return e.newVersionAvailable?(a(),n("div",{key:0,class:["metrics-col-span-12 sm:metrics-col-span-6 md:metrics-col-span-4 xxl:metrics-col-start-auto xxl:metrics-row-start-auto sm:metrics-mt-0 xxl:metrics-mt-5",e.isOnDashboard?"md:metrics-col-span-6":"xxl:metrics-col-span-12"]},[e.isOnDashboard?k("",!0):(a(),n("div",zc,[t("h2",jc,h(e.$t("newversionavailable.title")),1)])),t("div",Qc,[t("div",Wc,[t("div",Jc,[t("div",Xc,[t("div",Zc,[el,t(o,{class:" metrics-text-theme-43 metrics-shake metrics-h-7 metrics-w-7 metrics-m-auto metrics-mt-2"})]),L(" "+h(e.$t("newversionavailable.description")),1)]),t("div",tl,[t("button",{type:"button",class:"metrics-m-auto metrics-button metrics-zoom-in metrics-border metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-white",onClick:s[1]||(s[1]=(..._)=>e.goToUpgrade&&e.goToUpgrade(..._))},[e.loading?(a(),n(l,{key:0,class:"metrics-w-5 metrics-spin-slow"})):(a(),n(Y,{key:1},[L(h(e.$t("newversionavailable.button")),1)],64))])])])])])],2)):k("",!0)}rt.render=sl;var os=C({name:"BoxModuleUpgraded",setup(){const e=U(),s=g(()=>e.state.main.moduleUpgraded),r=g(()=>e.state.main.version_module),i=I(!1);return{moduleUpgraded:s,currentVersion:r,CloseBox:()=>{i.value=!0},forceClose:i}}});const rl={key:0,class:"metrics-col-span-12 sm:metrics-col-span-6  md:metrics-col-span-4 xxl:metrics-col-span-12 sm:metrics-mt-0"},il=t("div",{class:"metrics-intro-x metrics-flex metrics-items-center"},null,-1),ol={class:"metrics-mt-5 metrics-intro-x"},nl={class:"metrics-box metrics-border metrics-border-theme-44"},al={class:"metrics-p-5"},cl={class:"metrics-text-dark metrics-text-center"},ll={class:"metrics-relative metrics-h-9 metrics-w-9 metrics-m-auto metrics-mb-5 metrics-pt-2"},ml={class:"metrics-font-bold metrics-mt-2"},dl=t("div",{class:"metrics-font-medium metrics-flex metrics-mt-5"},null,-1);function ul(e,s,r,i,c,m){const o=p("xIcon"),l=p("CheckCircleIcon");return e.moduleUpgraded&&!e.forceClose?(a(),n("div",rl,[il,t("div",ol,[t("div",nl,[t("div",al,[t("div",cl,[t(o,{class:"metrics-w-4 metrics-h-4 metrics-w-1 metrics-float-right metrics-top-0 metrics-cursor-pointer",onClick:e.CloseBox},null,8,["onClick"]),t("div",ll,[t(l,{class:" metrics-text-theme-44 metrics-bell-shake metrics-h-7 metrics-w-7 metrics-m-auto metrics-mt-2"})]),t("div",null,[L(h(e.$t("moduleUpgraded.title"))+" ",1),t("div",ml,h(e.currentVersion),1)])]),dl])])])])):k("",!0)}os.render=ul;var ke=C({name:"RightSection",props:{tipscardsLabel:{type:String,default:""}},components:{BoxUpgradePlan:et,BoxSynchronization:tt,BoxNextFeatures:st,BoxTipsCard:is,BoxNewVersionAvailable:rt,BoxModuleUpgraded:os},setup(e){const s=se(),r=g(()=>s.getters["main/GET_IS_ADVANCED"]),i=g(()=>s.getters["main/IS_FIRST_ACCESS"]),c=g(()=>s.getters["main/IS_FIRST_SYNC"]),m=g(()=>({category:e.tipscardsLabel,language:s.state.main.isoCode}));return{advancedPlan:r,tipsCards:Vo,additionnalQueryTipscards:m,isFirstAccess:i,isFirstSync:c}}});const pl={class:"xxl:metrics-pl-6 l:metrics-pl-3 metrics-grid metrics-grid-cols-12 metrics-gap-y-6 metrics-gap-x-6 xxl:metrics-gap-x-0 xxl:metrics-mt-5"};function gl(e,s,r,i,c,m){const o=p("BoxModuleUpgraded"),l=p("BoxNewVersionAvailable"),_=p("BoxUpgradePlan"),d=p("BoxSynchronization"),u=p("BoxNextFeatures"),f=p("BoxTipsCard");return a(),n("div",pl,[t(o),t(l),e.advancedPlan?(a(),n(d,{key:1})):(a(),n(_,{key:0})),t(u),t(f,{query:e.tipsCards,additionnalQueryParams:e.additionnalQueryTipscards},null,8,["query","additionnalQueryParams"])])}ke.render=gl;var ns=C({name:"LoaderBoxHighlight"});const _l={class:"metrics-grid metrics-grid-cols-4 metrics-gap-1 metrics-h-28"},hl=ye('<div class="metrics-col-span-3 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-2 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-2 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-1 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-2 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div>',6);function fl(e,s,r,i,c,m){return a(),n("div",_l,[hl])}ns.render=fl;var as=C({name:"HighlightText",components:{BoxNoData:he},props:{keyTranslate:{type:String,default:""},typeValue:{type:String,default:"percent"},typeKpi:{type:String,default:"evolution"},dimension:{type:String,default:"orderAverage"},result:{type:Object},isSession:{type:Boolean,default:!1},total:{type:Object,default:()=>({})}},setup:function(e){const s={percent_evolution:()=>{let o=e.result?e.result.currentValue:0,l=e.result?e.result.previousValue:0;if(e.isSession&&e.total&&e.total.totalCurrent&&(o=Number(o/e.total.totalCurrent*100).toFixed(0)),o===0&&l===0)return"NO_DATA";const _=g(()=>(l=l===0?1:l,((o-l)/l*100).toFixed(0))),d=g(()=>{const $=parseInt(_.value);return($<0?$*-1:$).toFixed(0)}),u=g(()=>Math.sign(Number.parseFloat(_.value))>=0),f=g(()=>u.value?"highlight.increased":"highlight.decreased"),E=g(()=>({"metrics-text-theme-44 metrics-font-bold":u.value,"metrics-text-theme-45 metrics-font-bold":!u.value}));return{valueKpi:_.value,valueKpiAbsolute:d.value,suffixSymbol:"%",highlight:f.value,classHighlightColor:E.value}},percent_best:()=>{const o=e.result&&e.result[0],{t:l}=me();if(!o)return"NO_DATA";const _=o.category;let d=0;if(e.isSession&&e.total&&e.total.totalCurrent){const u=parseInt(e.total.totalCurrent)||1;d=(parseInt(o.currentValue)/u*100).toFixed(0)}else d=o.currentValue;return{productKpi:l("graph.legend."+_.replace(" ","_")),valueKpi:d,valueKpiAbsolute:d,suffixSymbol:"%",highlight:"",classHighlightColor:""}},currency_best:()=>{var d;var o=(d=e==null?void 0:e.result)==null?void 0:d.currentPeriod[0];if(!o)return"NO_DATA";var l=o.name?o.name:o.category,_=o.amount?o.amount:o.currentValue;return{productKpi:l,valueKpi:_,suffixSymbol:"",highlight:"",classHighlightColor:""}},currency_top:()=>{var o=e.result&&e.result[0];if(!o)return"NO_DATA";var l=o.name?o.name:o.category,_=o.amount?o.amount:o.currentValue;return{productKpi:l,valueKpi:_,valueKpiAbsolute:_,suffixSymbol:"",highlight:"",classHighlightColor:""}}},r=`${e.typeValue}_${e.typeKpi}`;if(!s[r])throw new Error(`[HighlightText] Unable to calculate highlight strategy for ${e.typeValue}-${e.typeKpi} !`);let i;const c=I(""),m=I(!1);try{i=s[r](),i==="NO_DATA"&&(m.value=!0)}catch(o){c.value=o}return{finalResult:i,noData:m,errorDetected:c}}});const yl={class:"metrics-text-base metrics-m-auto metrics-w-full"},vl={key:0,class:"metrics-h-32"},bl={key:1},$l={key:0,class:"metrics-text-xl metrics-font-bold"},El={key:1,class:"metrics-text-2xl metrics-font-bold"},Sl={class:"metrics-font-bold"},Tl={class:"metrics-font-bold"};function Cl(e,s,r,i,c,m){const o=p("box-no-data"),l=p("i18n-t");return a(),n("span",yl,[e.noData?(a(),n("div",vl,[t(o)])):e.errorDetected!==""?(a(),n("div",bl," Unable to compute data : "+h(e.errorDetected),1)):(a(),n(l,{key:2,keypath:e.keyTranslate,tag:"span"},{highlight:w(()=>[t("span",{class:e.finalResult.classHighlightColor},h(e.$t(e.finalResult.highlight)),3)]),value:w(()=>[e.typeValue=="currency"?(a(),n("span",$l,h(e.$n(e.finalResult.valueKpi,"currency")),1)):(a(),n("span",El,h(e.finalResult.valueKpiAbsolute),1))]),product:w(()=>[t("span",Sl,h(e.finalResult.productKpi),1)]),symbol:w(()=>[t("span",Tl,h(e.finalResult.suffixSymbol),1)]),_:1},8,["keypath"]))])}as.render=Cl;var cs=C({name:"FakerHighlightText",props:{keyTranslate:{type:String,default:""},typeValue:{type:String,default:"percent"},typeKpi:{type:String,default:"evolution"},dimension:{type:String,default:"orderAverage"},isSession:{type:Boolean,default:!1}},setup:function(e){const s={percent_evolution:()=>{let o=q.datatype.number({min:1,max:2e3}),l=q.datatype.number({min:1,max:2e3});const _={totalCurrent:q.datatype.number({min:1,max:2e3}),totalPrevious:q.datatype.number({min:1,max:2e3})};e.isSession&&_&&_.totalCurrent&&(o=Number(o/_.totalCurrent*100).toFixed(0));const d=g(()=>(l=l===0?1:l,((o-l)/l*100).toFixed(0))),u=g(()=>{const y=parseInt(d.value);return(y<0?y*-1:y).toFixed(0)}),f=g(()=>Math.sign(Number.parseFloat(d.value))>=0),E=g(()=>f.value?"highlight.increased":"highlight.decreased"),$=g(()=>({"metrics-text-theme-44 metrics-font-bold":f.value,"metrics-text-theme-45 metrics-font-bold":!f.value}));return{valueKpi:d.value,valueKpiAbsolute:u.value,symbol:"%",highlight:E.value,classHighlightColor:$.value}},percent_best:()=>{const o=q.commerce.productName(),l=Math.floor(Math.random()*Math.floor(2e3));return{productKpi:o,valueKpi:l,valueKpiAbsolute:l,symbol:"%",highlight:"",classHighlightColor:""}},currency_best:()=>{const o=q.commerce.productName(),l=Math.floor(Math.random()*Math.floor(2e3));return{productKpi:o,valueKpi:l,symbol:"",highlight:"",classHighlightColor:""}},currency_top:()=>{var o=q.commerce.productName(),l=Math.floor(Math.random()*Math.floor(2e3));return{productKpi:o,valueKpi:l,valueKpiAbsolute:l,symbol:"",highlight:"",classHighlightColor:""}}},r=`${e.typeValue}_${e.typeKpi}`;if(!s[r])throw new Error(`[HighlightText] Unable to calculate highlight strategy for ${e.typeValue}-${e.typeKpi} !`);let i;const c=I(null),m=I(!1);try{i=s[r](),i==="NO_DATA"&&(m.value=!0)}catch(o){c.value=o}return{datas:i,noData:m,error:c}}});const Dl={class:"metrics-text-base metrics-m-auto metrics-w-full"},kl={key:0,class:"metrics-text-xl metrics-font-bold metrics-blur-md"},Al={key:1,class:"metrics-text-2xl metrics-font-bold metrics-blur-md"},wl={class:"metrics-font-bold metrics-blur-md"},Rl={class:"metrics-font-bold"};function Nl(e,s,r,i,c,m){const o=p("i18n-t");return a(),n("span",Dl,[t(o,{keypath:e.keyTranslate,tag:"span"},{highlight:w(()=>[t("span",{class:e.datas.classHighlightColor},h(e.$t(e.datas.highlight)),3)]),value:w(()=>[e.datas.typeValue=="currency"?(a(),n("span",kl,h(e.$n(e.datas.valueKpi,"currency")),1)):(a(),n("span",Al,h(e.datas.valueKpiAbsolute),1))]),product:w(()=>[t("span",wl,h(e.datas.productKpi),1)]),symbol:w(()=>[t("span",Rl,h(e.datas.symbol),1)]),_:1},8,["keypath"])])}cs.render=Nl;var Pe=C({name:"BoxHighlight",props:{keyTranslate:{type:String,default:""},isSession:{type:Boolean,default:!1},query:{type:Object,default:()=>({})},typeValue:{type:String,default:"percent"},typeKpi:{type:String,default:"evolution"},dimension:{type:String,default:"orderAverage"},additionnalQueryParams:{type:Object,default:()=>({})},faker:{type:Boolean,default:!1},tippyContentKey:{type:String,required:!1,default:""},mustBeGoogleLinked:{type:Boolean,default:!1},disabledNetworkRequest:{type:Boolean,default:!1}},components:{FakerHighlightText:cs,HighlightText:as,LoaderBoxHighlight:ns,BoxError:_e,BoxAnalyticsMustBeLinked:Ce},setup(e){const s=U();if(e.faker)return{faker:!0,result:[!0],showAnalyticsLinkBox:!1,loading:!1,error:!1,resultDimension:[!1],total:[!1]};const r=g(()=>A(A({},s.getters["main/GET_VARIABLES_QUERY"]),e.additionnalQueryParams)),i=g(()=>{const f=s.getters["main/GET_OPTIONS_QUERY"];return e.disabledNetworkRequest&&(f.fetchPolicy="no-cache"),f}),{result:c,loading:m,error:o,refetch:l}=de(e.query,r,i.value);let _={};e.isSession&&(_=re(c,0,f=>f[e.dimension].total));const d=re(c,0,f=>e.isSession?f[e.dimension].categories:f[e.dimension]),u=g(()=>e.mustBeGoogleLinked&&!s.getters["main/HAS_GOOGLE_ACCOUNT"]);return{total:_,result:c,loading:m,error:o,resultDimension:d,refetch:l,showAnalyticsLinkBox:u}}});const Il={class:"metrics-report-box"},xl={key:0,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},Ml={key:1,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},Ol={key:2,class:"metrics-box metrics-p-5 metrics-h-full metrics-w-full metrics-border-theme-5 metrics-border"},Bl={key:3,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},Pl={class:"metrics-text-xl metrics-flex dark:metrics-text-theme-white metrics-leading-8 sm:metrics-h-20 metrics-h-auto metrics-text-center"};function Ll(e,s,r,i,c,m){const o=p("BoxAnalyticsMustBeLinked"),l=p("LoaderBoxHighlight"),_=p("BoxError"),d=p("FakerHighlightText"),u=p("HighlightText");return a(),n("div",Il,[e.showAnalyticsLinkBox?(a(),n("div",xl,[t(o)])):e.loading?(a(),n("div",Ml,[t(l)])):e.error?(a(),n("div",Ol,[e.error?(a(),n(_,{key:0,retry:e.refetch},null,8,["retry"])):k("",!0)])):e.result?(a(),n("div",Bl,[t("div",Pl,[e.faker?(a(),n(d,{key:0,result:e.resultDimension,typeValue:e.typeValue,typeKpi:e.typeKpi,dimension:e.dimension,keyTranslate:e.keyTranslate,total:e.total,isSession:e.isSession},null,8,["result","typeValue","typeKpi","dimension","keyTranslate","total","isSession"])):(a(),n(u,{key:1,result:e.resultDimension,typeValue:e.typeValue,typeKpi:e.typeKpi,dimension:e.dimension,keyTranslate:e.keyTranslate,total:e.total,isSession:e.isSession},null,8,["result","typeValue","typeKpi","dimension","keyTranslate","total","isSession"]))])])):k("",!0)])}Pe.render=Ll;T.extend($t);T.extend(Et);T.extend(fr);var it=C({name:"ReportLineChart",props:{width:{type:Number,default:0},height:{type:Number,default:0},data:{type:Object,default:()=>({})},isCurrency:{type:Boolean,default:!1},isSession:{type:Boolean,default:!1},granularity:{type:String,default:"day"}},setup(e){const s=U(),{n:r,t:i}=me(),c=g(()=>s.getters["main/GET_PREVIOUS_DATE_RANGE"]),m=Z(),o=g(()=>e.data.currentPeriod),l=g(()=>e.data.previousPeriod),_=g(()=>s.state.main.darkMode),d=g(()=>s.getters["main/GET_COMPARE_MODE_TYPE"]),u=v=>({day:()=>T(v).format("YYYY-MM-DD"),week:()=>`${T(v).year()}-${T(v).format("ww")}`,month:()=>`${T(v).year()}-${T(v).format("MM")}`,hour:()=>T(v).format("YYYY-MM-DD HH:00:00")})[$.granularity].call(),f=v=>({day:()=>T(v).locale(s.state.main.isoCode).format("dd D MM "),week:()=>`${i("graph.legend.week")} ${T(v).locale(s.state.main.isoCode).format("ww")}`,month:()=>T(v).locale(s.state.main.isoCode).format("MMM YY"),hour:()=>T(v).locale(s.state.main.isoCode).format("dd D HH")})[$.granularity].call(),E=(v,G)=>{const K=[];for(let j=0;j<G.length;j++)K[j]=0;return v.map(j=>{const ue=u(j.date),le=G.indexOf(ue);K[le]!==0?K[le]=parseInt(K[le])+parseInt(j.currentValue):K[le]=parseInt(j.currentValue)}),K},$=St({granularity:e.granularity,dateCurrentLabels:m.appContext.config.globalProperties.$dr(s.state.main.dateRange.startDate,s.state.main.dateRange.endDate,e.granularity),datePreviousLabels:m.appContext.config.globalProperties.$dr(c.value.startDate,c.value.endDate,e.granularity)}),y={dataChartCurrentPeriod:E(o.value,$.dateCurrentLabels),dataChartPreviousPeriod:d.value?E(l.value,$.datePreviousLabels):null},S=St(y);ee(()=>e.granularity,v=>{$.granularity=v,$.dateCurrentLabels=m.appContext.config.globalProperties.$dr(s.state.main.dateRange.startDate,s.state.main.dateRange.endDate,v),$.datePreviousLabels=m.appContext.config.globalProperties.$dr(c.value.startDate,c.value.endDate,v),S.dataChartCurrentPeriod=E(o.value,$.dateCurrentLabels),S.dataChartPreviousPeriod=E(l.value,$.datePreviousLabels)});const R=g(()=>({labels:$.dateCurrentLabels,datasets:[{label:"Current period",borderColor:"#34219E",backgroundColor:"#34219E",fill:!1,labels:$.dateCurrentLabels,data:S.dataChartCurrentPeriod,borderWidth:2,pointRadius:0},{label:"Previous period",borderColor:"#525760",backgroundColor:"#525760",fill:!1,labels:$.datePreviousLabels,data:S.dataChartPreviousPeriod,borderWidth:2,borderDash:[2,2],pointRadius:0}]})),b=g(()=>({legend:{display:!1},hover:{mode:"index",intersect:!1},tooltips:!1,plugins:{datalabels:{formatter:function(v,G){const K=e.isCurrency?r(v,"currency"):v;return G.datasetIndex===1?G.active?K+`
`+f(G.dataset.labels[G.dataIndex]):"":G.active?K:""},display:function(v){return v.active},align:function(v){return v.datasetIndex===1?v.active&&v.dataIndex>=v.dataset.labels.length-5?"left":v.active&&v.dataIndex<=v.dataset.labels.length-5?"right":"center":v.active&&v.dataIndex<=1?"top":v.active&&v.dataIndex>=1?"left":"center"},backgroundColor(v){return v.active?v.dataset.backgroundColor:"white"},borderColor(v){return v.dataset.borderColor},borderRadius(v){return v.active?0:32},borderWidth:1,color(v){return v.active?"white":v.dataset.backgroundColor},font:{weight:"bold"},offset(v){return v.dataIndex>=v.dataset.labels.length-3&&v.datasetIndex===1,15},textAlign:"center"}},scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:15,fontSize:"12",fontColor:_.value?"#718096":"#777777",callback:function(v){return f(v)}},gridLines:{display:!1}}],yAxes:[{ticks:{min:0,fontSize:"12",fontColor:_.value?"#718096":"#777777",callback:function(v){return e.isCurrency?r(v,"currency"):v}},gridLines:{color:_.value?"#718096":"#D8D8D8",zeroLineColor:_.value?"#718096":"#D8D8D8",borderDash:[2,2],zeroLineBorderDash:[2,2],drawBorder:!1}}]}}));return{dataChart:R,options:b}}});function Ul(e,s,r,i,c,m){const o=p("Chart");return a(),n(o,{type:"line",width:e.width,height:e.height,data:e.dataChart,options:e.options},null,8,["width","height","data","options"])}it.render=Ul;var ls=C({name:"LineChart",components:{ReportLineChart:it},props:{isCurrency:{type:Boolean,default:!1},isSession:{type:Boolean,default:!1},granularity:{type:String,default:""},dataChart:{type:Array,default:()=>[]}}});function Gl(e,s,r,i,c,m){const o=p("ReportLineChart");return a(),n("div",null,[t(o,{granularity:e.granularity,"is-session":e.isSession,"is-currency":e.isCurrency,height:169,class:"metrics-mt-6",data:e.dataChart},null,8,["granularity","is-session","is-currency","data"])])}ls.render=Gl;var ms={name:"BarChartLoader",components:{}};const Yl={style:{width:"517px",height:"210px"}},Vl={class:"metrics-mt-2 metrics-flex metrics-h-full metrics-content-around metrics-justify-around metrics-items-end metrics-pl-5 metrics-pr-5 metrics-border-l-2 metrics-border-b-2 metrics-border-gray-300 metrics-animate-pulse"};function Fl(e,s,r,i,c,m){return a(),n("div",Yl,[t("div",Vl,[(a(),n(Y,null,oe([60,90,130,150,160,170,60,120,140,10],(o,l)=>t("div",{key:l,style:[`height: ${o}px`,{width:"35px"}],class:"metrics-bg-gray-300 metrics-rounded-sm metrics-rounded-b-none"},null,4)),64))])])}ms.render=Fl;var ds=C({name:"ReportEvolutionNumber",props:{isCurrency:{type:Boolean,default:!1},total:{type:Object,default:()=>({})},type:{type:String,default:"current"}},setup(e){return{value:e.type==="current"?e.total.currentValue:e.total.previousValue}}});function ql(e,s,r,i,c,m){return a(),n("div",null,h(e.isCurrency?e.$n(e.value,"currency"):e.value),1)}ds.render=ql;var us=C({name:"FakerReportEvolutionNumber",props:{isCurrency:{type:Boolean,default:!1}},setup(){return{value:q.datatype.number({min:1,max:2e3})}}});const Kl={class:"metrics-blur-md"};function Hl(e,s,r,i,c,m){return a(),n("div",Kl,h(e.isCurrency?e.$n(e.value,"currency"):e.value),1)}us.render=Hl;var ps=C({name:"FakerLineChart",components:{ReportLineChart:it},props:{isCurrency:{type:Boolean,default:!1},isSession:{type:Boolean,default:!1},granularity:{type:String,default:""}},setup(e){const s=e.granularity==="month"||e.granularity==="week"?100:10,r=()=>({date:T(q.date.recent(s)).format("YYYY-MM-DD HH:MM:ss"),currentValue:q.datatype.number(2e3)}),i=()=>({date:T(q.date.recent(s*3)).format("YYYY-MM-DD HH:MM:ss"),currentValue:q.datatype.number(2e3)}),c=new Array(24).fill(null).map(r),m=new Array(24).fill(null).map(i);return{dataChart:{currentPeriod:c,previousPeriod:m}}}});const zl={class:"metrics-blur-md"};function jl(e,s,r,i,c,m){const o=p("ReportLineChart");return a(),n("div",zl,[t(o,{granularity:e.granularity,"is-session":e.isSession,"is-currency":e.isCurrency,height:169,class:"metrics-mt-6",data:e.dataChart},null,8,["granularity","is-session","is-currency","data"])])}ps.render=jl;var Ae=C({name:"BoxEvolution",components:{BarChartLoader:ms,BoxError:_e,BoxNoData:he,BoxAnalyticsMustBeLinked:Ce,ReportEvolutionNumber:ds,FakerReportEvolutionNumber:us,LineChart:ls,FakerLineChart:ps},props:{isCurrency:{type:Boolean,default:!1},title:{type:String,default:"Evolution"},queries:{type:Object,default:()=>({})},dimensions:{type:Object,default:()=>({})},isSession:{type:Boolean,default:!1},faker:{type:Boolean,default:!1},showAllGranularity:{type:Boolean,default:!1},tippyContentKey:{type:String,default:"graph.sessionsEvolution"},mustBeGoogleLinked:{type:Boolean,default:!1}},setup(e){const s=U(),{appContext:{config:{globalProperties:{$segment:r}}}}=Z(),i=g(()=>{const F=e.isSession&&$?{granularity:$.value}:{};return A(A({},s.getters["main/GET_VARIABLES_QUERY"]),F)}),c=g(()=>s.getters["main/GET_OPTIONS_QUERY"]),m=g(()=>s.getters["main/IS_COMPARE_MODE_ENABLED"]),o=I(e.queries),l=I(e.dimensions),{t:_}=me(),d=g(()=>s.getters["main/GET_PREVIOUS_DATE_RANGE"]),u=g(()=>T(d.value.endDate).diff(T(d.value.startDate),"days")),f=[{slug:"hour",label:_("tabsBody.dates.hour"),onPress:()=>y("hour"),dateRangeMinMax:{min:0,max:2}},{slug:"day",label:_("tabsBody.dates.day"),onPress:()=>y("day"),dateRangeMinMax:{min:2,max:60}},{slug:"week",label:_("tabsBody.dates.week"),onPress:()=>y("week"),dateRangeMinMax:{min:21,max:180}},{slug:"month",label:_("tabsBody.dates.month"),onPress:()=>y("month"),dateRangeMinMax:{min:60,max:1/0}}],E=g(()=>e.showAllGranularity?f:f.filter(F=>u.value>=F.dateRangeMinMax.min&&u.value<=F.dateRangeMinMax.max)),$=I(E.value[0].slug);ee(()=>s.getters["main/GET_PREVIOUS_DATE_RANGE"],()=>{yr(E.value,{slug:$.value})===-1&&y(E.value[0].slug)});const y=F=>{r().track("[MTR] Overview Select Granularity",J(A({module:"ps_metrics"},s.getters["main/GET_USER_EMAIL"]&&{email:s.getters["main/GET_USER_EMAIL"]}),{slug:F})),$.value=F};if(e.faker)return{faker:!0,TotalValues:[!0],resultTotal:[!0],resultEvolution:[!0],compareModeEnabled:m,granularity:$,buttonStateAvailable:E};const{result:S,loading:R,error:b,refetch:v}=de(o.value[0],i,c.value),{result:G,loading:K,error:j,refetch:ue}=de(o.value[1],i,c.value),le=re(S,0,F=>parseInt(Number(F[l.value[0]].currentValue).toFixed(0))),ve=re(S,0,F=>parseInt(Number(F[l.value[0]].previousValue).toFixed(0))),D=re(S,0,F=>F[l.value[0]]),P=re(G,[],F=>F[l.value[1]]),te=g(()=>e.mustBeGoogleLinked&&!s.getters["main/HAS_GOOGLE_ACCOUNT"]),V=g(()=>{const F=le.value,Ge=ve.value;return parseInt(F)===0&&parseInt(Ge)===0});return{compareModeEnabled:m,granularity:$,buttonStateAvailable:E,resultTotal:S,resultEvolution:G,loadingTotal:R,loadingEvolution:K,TotalValues:D,dataChart:P,error:b||j,refetch:()=>{v(),ue()},noData:V,showAnalyticsLinkBox:te}}});const Ql={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},Wl={class:" metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5 hover:metrics-overflow-visible hover:metrics-absolute metrics-overflow-hidden metrics-z-10 metrics-bg-gray-248"},Jl={class:" metrics-ml-auto metrics-mt-0 metrics-flex metrics-text-gray-700 dark:metrics-text-gray-300"},Xl={id:"metrics-evolution-datepickers",class:"metrics-flex metrics-rounded-lg metrics-text-md",role:"group"},Zl={class:"metrics-flex",style:{"align-items":"center","justify-content":"center"}},em={class:" metrics-intro-y metrics-box metrics-p-5 metrics-mt-2 metrics-border-theme-5 metrics-border"},tm={class:"metrics-flex metrics-flex-row xl:metrics-items-center"},sm={class:"metrics-flex"},rm={key:0,class:"metrics-h-7 metrics-flex metrics-items-center"},im={key:1,class:" metrics-text-theme-43 dark:metrics-text-gray-300 metrics-text-lg xl:metrics-text-xl metrics-font-bold"},om={key:2,class:" metrics-text-theme-43 dark:metrics-text-gray-300 metrics-text-lg xl:metrics-text-xl metrics-font-bold"},nm={class:"metrics-mt-0.5 metrics-text-theme-43"},am=t("div",{class:" metrics-w-px metrics-h-12 metrics-border metrics-border-r metrics-border-dashed metrics-border-gray-300 dark:metrics-border-dark-5 metrics-mx-4 xl:metrics-mx-6"},null,-1),cm={key:0,class:"metrics-h-7 metrics-flex metrics-items-center"},lm={key:1,class:" metrics-text-theme-43 dark:metrics-text-gray-300 metrics-text-lg xl:metrics-text-xl metrics-font-bold"},mm={key:2,class:" metrics-text-gray-777 metrics-text-lg xl:metrics-text-xl metrics-font-medium"},dm={key:3,class:"metrics-mt-0.5 metrics-text-gray-777"},um={class:"metrics-self-start metrics-ml-auto"},pm={key:0,class:"metrics-p-5 metrics-mt-10"},gm={key:1,class:"metrics-flex metrics-justify-center"},_m={key:2,class:"metrics-mt-4 metrics-h-full metrics-w-full metrics-mt-10"},hm={key:3,class:" metrics-mt-4 metrics-h-full metrics-w-full metrics-mt-16 metrics-pb-16"},fm={key:4,class:"metrics-report-chart"};function ym(e,s,r,i,c,m){const o=p("LoadingIcon"),l=p("FakerReportEvolutionNumber"),_=p("ReportEvolutionNumber"),d=p("InfoIcon"),u=p("Tippy"),f=p("BoxAnalyticsMustBeLinked"),E=p("BarChartLoader"),$=p("BoxError"),y=p("BoxNoData"),S=p("FakerLineChart"),R=p("LineChart");return a(),n("div",null,[t("div",Ql,[t("h2",Wl,h(e.title),1),t("div",Jl,[t("div",Xl,[(a(!0),n(Y,null,oe(e.buttonStateAvailable,(b,v)=>(a(),n("button",{key:b.slug,type:"button",class:[" metrics-button-date metrics-border metrics-text-white metrics-ml-auto",{" metrics-text-white metrics-border-theme-43 metrics-bg-theme-43 metrics-cursor-default":e.granularity===b.slug,"metrics-bg-white metrics-border-gray-400 metrics-text-gray-700 metrics-zoom-in-no-shadow":e.granularity!==b.slug,"metrics-rounded-l-lg":v===0,"metrics-rounded-r-lg":v===e.buttonStateAvailable.length-1}],onClick:ae(G=>b.onPress(),["prevent"])},[t("span",Zl,h(b.label),1)],10,["onClick"]))),128))])])]),t("div",em,[t("div",tm,[t("div",sm,[t("div",null,[e.loadingTotal?(a(),n("div",rm,[t(o,{icon:"three-dots",class:"metrics-w-8"})])):e.error?(a(),n("div",im," - ")):e.TotalValues?(a(),n("div",om,[e.faker?(a(),n(l,{key:0,isCurrency:e.isCurrency},null,8,["isCurrency"])):(a(),n(_,{key:1,isCurrency:e.isCurrency,total:e.TotalValues},null,8,["isCurrency","total"]))])):k("",!0),t("div",nm,h(e.$t("graph.currentPeriod")),1)]),am,t("div",null,[e.loadingTotal?(a(),n("div",cm,[t(o,{icon:"three-dots",class:"metrics-w-8"})])):e.error?(a(),n("div",lm," - ")):e.TotalValues&&e.compareModeEnabled?(a(),n("div",mm,[e.faker?(a(),n(l,{key:0,isCurrency:e.isCurrency},null,8,["isCurrency"])):(a(),n(_,{key:1,isCurrency:e.isCurrency,total:e.TotalValues,type:"previous"},null,8,["isCurrency","total"]))])):k("",!0),e.compareModeEnabled?(a(),n("div",dm,h(e.$t("graph.lastPeriod")),1)):k("",!0)])]),t("div",um,[t(u,{tag:"div",content:e.$t(e.tippyContentKey)},{default:w(()=>[t(d,{class:" metrics-w-5 lg:metrics-w-3 metrics-h-auto metrics-text-gray-777"})]),_:1},8,["content"])])]),e.showAnalyticsLinkBox?(a(),n("div",pm,[t(f,{"large-icon":""})])):e.loadingEvolution?(a(),n("div",gm,[t(E)])):e.error?(a(),n("div",_m,[t($,{retry:e.refetch,"large-icon":""},null,8,["retry"])])):e.noData?(a(),n("div",hm,[t(y,{"large-icon":""})])):e.resultEvolution?(a(),n("div",fm,[e.faker?(a(),n(S,{key:0,granularity:e.granularity,"is-session":e.isSession,"is-currency":e.isCurrency,dataChart:e.dataChart},null,8,["granularity","is-session","is-currency","dataChart"])):(a(),n(R,{key:1,granularity:e.granularity,"is-session":e.isSession,"is-currency":e.isCurrency,dataChart:e.dataChart},null,8,["granularity","is-session","is-currency","dataChart"]))])):k("",!0)])])}Ae.render=ym;var ot=C({name:"ReportDonutChart",props:{width:{type:Number,default:0},height:{type:Number,default:0},data:{type:Object,default:()=>({})}},emits:["hover:chartElement"],setup(e,{emit:s}){const r=U(),i=g(()=>r.state.main.darkMode),c=g(()=>{const l={data:[],dataPrevious:[],labels:[],colors:[]};return e.data.map(_=>{l.labels.push(_.category),l.data.push(_.currentValue),l.colors.push(_.color)}),l}),m=g(()=>({labels:c.value.labels,datasets:[{data:c.value.data,backgroundColor:c.value.colors,hoverBackgroundColor:c.value.colors,borderWidth:5,borderColor:i.value?"#303953":"#fff"}]})),o=g(()=>({plugins:{datalabels:{display:!1}},legend:{display:!1},cutoutPercentage:80,tooltips:{enabled:!1},hover:{index:"index",intersect:!1,onHover:function(l,_){s("hover:chartElement",_[0])}}}));return{dataChart:m,options:o}}});function vm(e,s,r,i,c,m){const o=p("Chart");return a(),n(o,{type:"doughnut",width:e.width,height:e.height,data:e.dataChart,options:e.options},null,8,["width","height","data","options"])}ot.render=vm;var gs=C({name:"BoxDistribution",components:{ReportDonutChart:ot,BoxNoData:he},props:{isSession:{type:Boolean,default:!1},total:{type:String,default:"0"},result:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]}},setup(e){const s=Z(),r=g(()=>s.appContext.config.globalProperties.$c(e.data.length)),i=g(()=>e.data.map((f,E)=>{const $=parseInt(e.total)||1,y=parseFloat(f.currentValue)/$*100,S=parseFloat(f.currentValue).toFixed(2);return J(A({},f),{percentage:y.toFixed(2),currentValue:S,color:r.value[E]})})),c=I(0),{t:m}=me(),o=g(()=>{var f;return(f=i.value[c.value])==null?void 0:f.percentage}),l=g(()=>{var E,$,y;if((E=i.value[c.value])==null?void 0:E.paymentMethod)return($=i.value[c.value])==null?void 0:$.paymentMethod;const f=(y=i.value[c.value])==null?void 0:y.category;return f?m("graph.legend."+f.replace(" ","_")):""}),_=f=>{if(!f){c.value=0;return}c.value=f._index},d=f=>f.paymentMethod?f.paymentMethod:m("graph.legend."+f.category.replace(" ","_")),u=g(()=>parseInt(e.total)===0);return{dataChart:i,getHoveredChartIndex:_,hoveredDataName:l,hoveredDataPercentage:o,itemName:d,noData:u}}});const bm={key:0,class:"metrics-mt-16 metrics-pb-16"},$m={class:"metrics-relative"},Em={class:"metrics-absolute metrics-w-full metrics-h-full metrics-flex metrics-flex-col metrics-items-center metrics-justify-center metrics-top-0 metrics-left-0 metrics--z-10"},Sm={class:"metrics-text-sm sm:metrics-text-base md:metrics-text-base lg:metrics-text-base xl:metrics-text-sm metrics-truncated metrics-w-9/12 metrics-text-center"},Tm={class:"metrics-text-xl sm:metrics-text-base md:metrics-text-base lg:metrics-text-base xl:metrics-text-xl metrics-font-medium"},Cm={class:"metrics-mt-5"},Dm={class:"metrics-truncate metrics-text-sm"},km=t("div",{class:"metrics-h-px metrics-flex-1 metrics-border metrics-border-r metrics-border-dashed metrics-border-gray-300 metrics-mx-3 xl:metrics-hidden"},null,-1),Am={class:"metrics-font-medium xl:metrics-ml-auto"};function wm(e,s,r,i,c,m){const o=p("BoxNoData"),l=p("ReportDonutChart"),_=p("Tippy");return a(),n("div",null,[e.noData?(a(),n("div",bm,[t(o,{"large-icon":""})])):(a(),n(Y,{key:1},[t("div",$m,[t(l,{height:300,data:e.dataChart,class:"metrics-mt-3 metrics-z-50","onHover:chartElement":s[1]||(s[1]=d=>e.getHoveredChartIndex(d))},null,8,["data"]),t("div",Em,[t("div",Sm,h(e.hoveredDataName),1),t("div",Tm,h(e.hoveredDataPercentage)+"% ",1)])]),t("div",Cm,[(a(!0),n(Y,null,oe(e.dataChart.slice(0,4),d=>(a(),n("div",{key:d.currentValue,class:"metrics-flex metrics-items-center metrics-mb-3"},[t("div",{class:"metrics-w-2 metrics-h-2 metrics-rounded-full metrics-mr-3",style:"background-color:"+d.color},null,4),t("span",Dm,h(e.itemName(d)),1),km,t("span",Am,[t(_,{tag:"div",content:`${d.currentValue}`},{default:w(()=>[L(h(d.percentage)+"% ",1)]),_:2},1032,["content"])])]))),128))])],64))])}gs.render=wm;var _s=C({name:"FakerBoxDistribution",components:{ReportDonutChart:ot},props:{limit:{type:Number,default:4},category:{type:Array,default:()=>[]}},setup(e){const s=(f,E)=>({id:q.datatype.number({min:100,max:999}),currentValue:q.datatype.number({min:0,max:500}),previousValue:q.datatype.number({min:0,max:500}),category:e.category[E],percentage:25}),r=new Array(e.limit).fill(null).map(s),i=q.datatype.number({min:1,max:2e3}),c=Z(),m=g(()=>c.appContext.config.globalProperties.$c(r.length)),o=g(()=>r.map((f,E)=>{const $=f.currentValue/i*100,y=parseFloat(f.currentValue).toFixed(2);return J(A({},f),{percentage:$.toFixed(2),currentValue:y,color:m.value[E]})})),l=I(0),_=g(()=>{var f;return(f=o.value[l.value])==null?void 0:f.percentage}),d=g(()=>{var f;return(f=o.value[l.value])==null?void 0:f.category});return{dataChart:o,getHoveredChartIndex:f=>{if(!f){l.value=0;return}l.value=f._index},hoveredDataName:d,hoveredDataPercentage:_}}});const Rm={class:"metrics-relative"},Nm={class:"metrics-absolute metrics-w-full metrics-h-full metrics-flex metrics-flex-col metrics-items-center metrics-justify-center metrics-top-0 metrics-left-0 metrics--z-10 "},Im={class:"metrics-text-sm sm:metrics-text-base md:metrics-text-base lg:metrics-text-base xl:metrics-text-sm metrics-truncated metrics-w-9/12 metrics-text-center "},xm={class:"metrics-text-xl sm:metrics-text-base md:metrics-text-base lg:metrics-text-base xl:metrics-text-xl metrics-font-medium metrics-blur-md"},Mm={class:"metrics-mt-5"},Om={class:"metrics-truncate metrics-text-sm"},Bm=t("div",{class:"metrics-h-px metrics-flex-1 metrics-border metrics-border-r metrics-border-dashed metrics-border-gray-300 metrics-mx-3 xl:metrics-hidden"},null,-1),Pm={class:"metrics-font-medium xl:metrics-ml-auto metrics-blur-md"};function Lm(e,s,r,i,c,m){const o=p("ReportDonutChart");return a(),n("div",null,[t("div",Rm,[t(o,{height:300,data:e.dataChart,class:"metrics-mt-3 metrics-z-50","onHover:chartElement":s[1]||(s[1]=l=>e.getHoveredChartIndex(l))},null,8,["data"]),t("div",Nm,[t("div",Im,h(e.$t(`graph.legend.${e.hoveredDataName.replace(" ","_")}`)),1),t("div",xm,h(e.hoveredDataPercentage)+"% ",1)])]),t("div",Mm,[(a(!0),n(Y,null,oe(e.dataChart.slice(0,4),l=>(a(),n("div",{key:l.currentValue,class:"metrics-flex metrics-items-center metrics-mb-3"},[t("div",{class:"metrics-w-2 metrics-h-2 metrics-rounded-full metrics-mr-3",style:"background-color:"+l.color},null,4),t("span",Om,h(e.$t(`graph.legend.${l.category.replace(" ","_")}`)),1),Bm,t("span",Pm,h(l.percentage)+"% ",1)]))),128))])])}_s.render=Lm;var hs=C({name:"LoaderBoxHighlight"});const Um=ye('<div class="metrics-relative metrics-rounded-full metrics-h-36 metrics-w-36 metrics-animate-pulse metrics-m-auto"><div class="metrics-rounded-full metrics-w-full metrics-h-full metrics-bg-gray-400 metrics-mt-2"></div><div class="metrics-top-0 metrics-left-0 metrics-right-0 metrics-bottom-0 metrics-m-auto metrics-h-24 metrics-w-24 metrics-absolute metrics-bg-white metrics-rounded-full"><div class="metrics-w-full metrics-h-full metrics-m-auto"></div></div></div><div class="metrics-grid metrics-grid-cols-1 metrics-gap-1 metrics-mt-5"><div class="metrics-col-span-1 metrics-flex metrics-my-1.5"><div class="metrics-h-4 metrics-w-6 metrics-rounded-full metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-4 metrics-w-full metrics-ml-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div></div><div class="metrics-col-span-1 metrics-flex metrics-my-1.5"><div class="metrics-h-4 metrics-w-6 metrics-rounded-full metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-4 metrics-w-full metrics-ml-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div></div><div class="metrics-col-span-1 metrics-flex metrics-my-1.5"><div class="metrics-h-4 metrics-w-6 metrics-rounded-full metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-4 metrics-w-full metrics-ml-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div></div><div class="metrics-col-span-1 metrics-flex metrics-my-1.5"><div class="metrics-h-4 metrics-w-6 metrics-rounded-full metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-4 metrics-w-full metrics-ml-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div></div></div>',2);function Gm(e,s,r,i,c,m){return a(),n("div",null,[Um])}hs.render=Gm;var Le=C({name:"BoxDistribution",components:{BoxError:_e,FakerDonutChart:_s,DonutChart:gs,LoaderBoxDistribution:hs,BoxNoData:he,BoxAnalyticsMustBeLinked:Ce},props:{title:{type:String,default:"Distribution"},query:{type:Object,default:()=>({})},dimension:{type:String,default:"sessionsGroupByCategory"},additionnalQueryParams:{type:Object,default:()=>({limit:20,isoCode:"fr"})},faker:{type:Boolean,default:!1},fakerLimit:{type:Number,default:4},fakerLabels:{type:Array,default:()=>[]},isSession:{type:Boolean,default:!1},tippyContentKey:{type:String,default:""},mustBeGoogleLinked:{type:Boolean,default:!1}},setup(e){if(e.faker)return{faker:!0,result:[!0]};const s=U(),r=Z(),i=g(()=>A(A({},s.getters["main/GET_VARIABLES_QUERY"]),e.additionnalQueryParams)),c=s.getters["main/GET_OPTIONS_QUERY"],{result:m,loading:o,error:l,refetch:_}=de(e.query,i,c),d=re(m,[],S=>e.isSession?S[e.dimension].categories:S[e.dimension]),u=g(()=>e.isSession?re(m,[],S=>S[e.dimension].total.totalCurrent).value:d.value.reduce((S,R)=>parseInt(S+=R.currentValue),0)),f=g(()=>u.value===0),E=g(()=>r.appContext.config.globalProperties.$c(d.value.length)),$=g(()=>d.value.map((S,R)=>{const b=S.currentValue/parseInt(u.value)*100,v=parseFloat(S.currentValue).toFixed(2);return J(A({},S),{percentage:b.toFixed(2),currentValue:v,color:E.value[R]})})),y=g(()=>e.mustBeGoogleLinked&&!s.getters["main/HAS_GOOGLE_ACCOUNT"]);return{total:u,dataChart:$,result:m,loading:o,error:l,refetch:_,noData:f,showAnalyticsLinkBox:y}}});const Ym={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},Vm={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5 hover:metrics-overflow-visible metrics-overflow-hidden"},Fm=t("div",{class:"sm:ml-auto mt-3 sm:mt-0 relative text-gray-700 dark:text-gray-300"},null,-1),qm={class:"metrics-intro-y metrics-box metrics-p-5 metrics-pt-2 metrics-mt-2 metrics-border-theme-5 metrics-border"},Km={class:"metrics-absolute metrics-top-5 metrics-right-5 metrics-z-50"},Hm={key:0,class:"metrics-mt-16"},zm={key:2,class:"metrics-mt-16"},jm={key:3,class:"metrics-mt-16 metrics-pb-16"};function Qm(e,s,r,i,c,m){const o=p("InfoIcon"),l=p("Tippy"),_=p("BoxAnalyticsMustBeLinked"),d=p("LoaderBoxDistribution"),u=p("BoxError"),f=p("BoxNoData"),E=p("FakerDonutChart"),$=p("DonutChart");return a(),n("div",null,[t("div",Ym,[t("h2",Vm,h(e.title),1),Fm]),t("div",qm,[t("div",Km,[t(l,{tag:"div",content:e.$t(e.tippyContentKey)},{default:w(()=>[t(o,{class:"metrics-w-5 lg:metrics-w-3 metrics-h-auto"})]),_:1},8,["content"])]),e.showAnalyticsLinkBox?(a(),n("div",Hm,[t(_,{"large-icon":""})])):e.loading?(a(),n(d,{key:1})):e.error?(a(),n("div",zm,[t(u,{retry:e.refetch,"large-icon":""},null,8,["retry"])])):e.noData?(a(),n("div",jm,[t(f,{"large-icon":""})])):e.result?(a(),n(Y,{key:4},[e.faker?(a(),n(E,{key:0,category:e.fakerLabels,limit:e.fakerLimit},null,8,["category","limit"])):(a(),n($,{key:1,data:e.dataChart,result:e.result,total:e.total},null,8,["data","result","total"]))],64)):k("",!0)])])}Le.render=Qm;var fs=C({name:"Acquisition",components:{BoxUpgradePlanModal:Be,ReportBoxNumber:De,RightSection:ke,BoxHighlight:Pe,BoxEvolution:Ae,BoxDistribution:Le,BoxSyncStatusModal:Oe},setup(){const e=I(""),s=I(),r=se(),i=g(()=>r.getters["main/GET_IS_ADVANCED"]),c=g(()=>r.getters["main/IS_FIRST_ACCESS"]),m=g(()=>r.getters["main/IS_FIRST_SYNC"]),o=g(()=>r.state.main.isoCode),l=["Direct","Social","Email","Affiliates"],_=[We,Xe],d=["sessions","sessionsGroupByDate"];$e("bind[importantNotesRef]",$=>{s.value=$});const u=g(()=>r.getters["main/GET_PLAN_MODAL_OPENED"]);return i.value||setTimeout(function(){r.dispatch("main/SET_PLAN_MODAL_OPENED",!0)},5e3),{advancedPlan:i,upgradePlanModalOpened:u,isFirstAccess:c,isFirstSync:m,sessions:We,uniqueUsers:Je,salesReportFilter:e,prevImportantNotes:()=>{s.value.tns.goTo("prev")},nextImportantNotes:()=>{s.value.tns.goTo("next")},sessionsByDate:Xe,arrayQuerySessions:_,sessionsByCategories:No,arrayDimensionsSessions:d,isoCode:o,fakerLabels:l}}});const Wm={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},Jm={class:"metrics-relative metrics-col-span-12 xxl:metrics-col-span-9 metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-content-start"},Xm={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-mt-5 metrics-z-0"},Zm={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10 "},ed={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},td={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},sd={class:"metrics-col-span-12 sm:metrics-col-span-12 xl:metrics-col-span-12 metrics-intro-y metrics-mt-2"},rd={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-z-0 md:metrics-mt-5  metrics-mt-2"},id={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},od={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},nd={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2 "},ad={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},cd={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},ld={class:"metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},md={class:"metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3  lg:metrics-mt-8 sm:metrics-mt-0"},dd={class:"metrics-z-0 metrics-col-span-12 xxl:metrics-col-span-3 xxl:metrics-border-l metrics-border-theme-5 metrics--mb-10 metrics-pb-10"};function ud(e,s,r,i,c,m){const o=p("BoxSyncStatusModal"),l=p("BoxUpgradePlanModal"),_=p("BoxHighlight"),d=p("ReportBoxNumber"),u=p("BoxEvolution"),f=p("BoxDistribution"),E=p("RightSection");return a(),n("div",Wm,[t("div",Jm,[e.isFirstAccess||e.isFirstSync?(a(),n(o,{key:0})):e.upgradePlanModalOpened?(a(),n(l,{key:1,canBeClosed:""})):k("",!0),t("div",Xm,[t("div",Zm,[t("h2",ed,h(e.$t("tabs.highlights")),1)]),t("div",td,[t("div",sd,[t(_,{"key-translate":"highlight.topSourceTraffic",query:e.sessionsByCategories,typeValue:"percent",typeKpi:"best",isSession:"",dimension:"sessionsGroupByCategory",additionnalQueryParams:{isoCode:e.isoCode,limit:1},faker:!e.advancedPlan,"must-be-google-linked":!0,tippyContentKey:"highlight.topSourceTrafficTooltip"},null,8,["query","additionnalQueryParams","faker"])])])]),t("div",rd,[t("div",id,[t("h2",od,h(e.$t("tabs.report")),1)]),t("div",nd,[t("div",ad,[t(d,{title:e.$t("boxNumber.sessions"),query:e.sessions,dimension:"sessions",faker:!e.advancedPlan,"tippy-content-key":e.$t("boxNumber.sessionsTooltip"),"must-be-google-linked":!0,icon:"AnalyticsIcon"},null,8,["title","query","faker","tippy-content-key"])]),t("div",cd,[t(d,{title:e.$t("boxNumber.uniqueVisits"),query:e.uniqueUsers,dimension:"uniqueUsers",faker:!e.advancedPlan,"tippy-content-key":e.$t("boxNumber.uniqueVisitsTooltip"),"must-be-google-linked":!0,icon:"AnalyticsIcon"},null,8,["title","query","faker","tippy-content-key"])])])]),t("div",ld,[t(u,{title:e.$t("graph.sessionsEvolution"),queries:e.arrayQuerySessions,dimensions:e.arrayDimensionsSessions,"is-session":!0,faker:!e.advancedPlan,tippyContentKey:"graph.sessionsEvolutionTooltip","must-be-google-linked":!0},null,8,["title","queries","dimensions","faker"])]),t("div",md,[t(f,{title:e.$t("graph.trafficDistribution"),query:e.sessionsByCategories,dimension:"sessionsGroupByCategory",isSession:!0,faker:!e.advancedPlan,tippyContentKey:"graph.trafficDistributionTooltip","must-be-google-linked":!0,fakerLabels:e.fakerLabels},null,8,["title","query","faker","fakerLabels"])])]),t("div",dd,[t(E,{tipscardsLabel:""})])])}fs.render=ud;var ys=C({name:"ReportTable",components:{BoxNoData:he},props:{products:{type:Array,default:()=>[]},previousProducts:{type:Array,default:()=>[]}},setup(e){const s=I(e.products),r=I(e.previousProducts),i=U(),c=g(()=>i.getters["main/IS_COMPARE_MODE_ENABLED"]);return{topProductsWithPerf:g(()=>{let o=[];for(const l in s.value){let _="up";if(r.value.length){for(const u in r.value)if(r.value[u].id===s.value[l].id){if(l===u){_="equal";break}else if(l<u){_="down";break}}}const d=JSON.parse(JSON.stringify(s.value[l]));d.progress=_,o.push(d)}return o}),compareModeEnabled:c}}});const pd={key:0,class:"metrics-table metrics-table-fixed metrics-w-full"},gd={key:0,class:" metrics-w-6 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1"},_d={class:"metrics-w-3/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1"},hd={class:"metrics-w-1/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1 metrics-text-right"},fd={class:"metrics-w-1/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1 metrics-text-right"},yd={key:0,class:"metrics-relative"},vd={key:2,class:"metrics-w-4 metrics-text-theme-43 metrics-absolute metrics-top-1 metrics-left-0 metrics-text-center"},bd={class:"metrics-w-3/5 metrics-p-1.5 metrics-relative"},$d={class:"metrics-bg-white metrics-truncate hover:metrics-absolute metrics-top-1.5 metrics-pr-1"},Ed={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right"},Sd={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right"},Td={key:1};function Cd(e,s,r,i,c,m){const o=p("Tippy"),l=p("arrowUpIcon"),_=p("arrowDownIcon"),d=p("BoxNoData");return a(),n("div",null,[e.topProductsWithPerf.length>0?(a(),n("table",pd,[t("thead",null,[t("tr",null,[e.compareModeEnabled?(a(),n("th",gd)):k("",!0),t("th",_d,[t(o,{tag:"div",content:e.$t("business.top10.tippy.product")},{default:w(()=>[L(h(e.$t("business.top10.product")),1)]),_:1},8,["content"])]),t("th",hd,[t(o,{tag:"div",content:e.$t("business.top10.tippy.orders")},{default:w(()=>[L(h(e.$t("business.top10.orders")),1)]),_:1},8,["content"])]),t("th",fd,h(e.$t("business.top10.amount")),1)])]),t("tbody",null,[(a(!0),n(Y,null,oe(e.topProductsWithPerf,(u,f,E)=>(a(),n("tr",{key:E,class:"metrics-border-b last:metrics-b-0 dark:metrics-border-dark-5"},[e.compareModeEnabled?(a(),n("td",yd,[u.progress==="up"?(a(),n(l,{key:0,class:"metrics-w-4 metrics-text-theme-44 metrics-absolute metrics-top-1 metrics-left-0"})):u.progress==="down"?(a(),n(_,{key:1,class:"metrics-w-4 metrics-text-theme-45 metrics-absolute metrics-top-1 metrics-left-0"})):(a(),n("div",vd," = "))])):k("",!0),t("td",bd,[t("div",$d,h(u.name),1)]),t("td",Ed,h(u.quantity),1),t("td",Sd,h(e.$n(u.amount,"currency")),1)]))),128))])])):(a(),n("div",Td,[t(d,{"large-icon":""})]))])}ys.render=Cd;var vs=C({name:"FakerReportTable",setup(){const e=(i,c)=>({id:c,name:q.commerce.productName(),quantity:q.datatype.number(2e3),amount:q.datatype.number(2e3)}),s=(i,c)=>i.amount-c.amount;return{products:new Array(10).fill(null).map(e).sort(s)}}});const Dd={key:0,class:"metrics-table metrics-table-fixed metrics-w-full"},kd={class:"metrics-w-3/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1"},Ad={class:"metrics-w-1/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1 metrics-text-right"},wd={class:"metrics-w-1/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1 metrics-text-right"},Rd={class:"metrics-w-3/5 metrics-p-1.5 metrics-relative"},Nd={class:"metrics-bg-white metrics-truncate hover:metrics-absolute metrics-top-1.5 metrics-pr-1 metrics-blur-md"},Id={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right metrics-blur-md"},xd={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right metrics-blur-md"};function Md(e,s,r,i,c,m){const o=p("Tippy");return a(),n("div",null,[e.products.length>0?(a(),n("table",Dd,[t("thead",null,[t("tr",null,[t("th",kd,[t(o,{tag:"div",content:e.$t("business.top10.tippy.product")},{default:w(()=>[L(h(e.$t("business.top10.product")),1)]),_:1},8,["content"])]),t("th",Ad,[t(o,{tag:"div",content:e.$t("business.top10.tippy.orders")},{default:w(()=>[L(h(e.$t("business.top10.orders")),1)]),_:1},8,["content"])]),t("th",wd,h(e.$t("business.top10.amount")),1)])]),t("tbody",null,[(a(!0),n(Y,null,oe(e.products,l=>(a(),n("tr",{key:l.id,class:"metrics-border-b last:metrics-b-0 dark:metrics-border-dark-5"},[t("td",Rd,[t("div",Nd,h(l.name),1)]),t("td",Id,h(l.quantity),1),t("td",xd,h(e.$n(l.amount,"currency")),1)]))),128))])])):k("",!0)])}vs.render=Md;var bs=C({name:"LoaderBoxTable"});const Od={class:"metrics-grid metrics-grid-cols-4 metrics-gap-2 metrics-h-full metrics-p-5"},Bd=ye('<div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div>',32);function Pd(e,s,r,i,c,m){return a(),n("div",Od,[Bd])}bs.render=Pd;var nt=C({name:"BoxReportTable",props:{title:{type:String,default:""},query:{type:Object,default:()=>({})},dimension:{type:String,default:"productTopSeller"},faker:{type:Boolean,default:!1},additionnalQueryParams:{type:Object,default:()=>({})},tippyContentKey:{type:String,default:""},disabledNetworkRequest:{type:Boolean,default:!1}},components:{FakerReportTable:vs,ReportTable:ys,BoxError:_e,LoaderBoxTable:bs},setup(e){if(e.faker)return{faker:!0,resultTop10Product:!0};const s=U(),r=g(()=>A(A({},s.getters["main/GET_VARIABLES_QUERY"]),e.additionnalQueryParams)),i=g(()=>{const u=s.getters["main/GET_OPTIONS_QUERY"];return e.disabledNetworkRequest&&(u.fetchPolicy="no-cache"),u}),{result:c,loading:m,error:o,refetch:l}=de(e.query,r,i.value),_=re(c,[],u=>u[e.dimension].currentPeriod),d=re(c,[],u=>u[e.dimension].previousPeriod);return{resultTop10Product:c,loading:m,error:o,products:_,previousProducts:d,refetch:l}}});const Ld={class:"metrics-intro-y metrics-block sm:metrics-flex metrics-items-center metrics-h-10"},Ud={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},Gd={class:"metrics-intro-y metrics-box metrics-p-5 metrics-mt-2 metrics-border-theme-5 metrics-border"},Yd={key:0,class:"metrics-absolute metrics-top-5 metrics-right-5 metrics-z-50"},Vd={key:2,class:"metrics-mt-20 metrics-pb-20"};function Fd(e,s,r,i,c,m){const o=p("InfoIcon"),l=p("Tippy"),_=p("LoaderBoxTable"),d=p("BoxError"),u=p("FakerReportTable"),f=p("ReportTable");return a(),n("div",null,[t("div",Ld,[t("h2",Ud,h(e.title),1)]),t("div",Gd,[e.tippyContentKey?(a(),n("div",Yd,[t(l,{tag:"div",content:e.$t(e.tippyContentKey)},{default:w(()=>[t(o,{class:"metrics-w-5 lg:metrics-w-3 metrics-h-auto"})]),_:1},8,["content"])])):k("",!0),e.loading?(a(),n(_,{key:1})):e.error?(a(),n("div",Vd,[t(d,{retry:e.refetch},null,8,["retry"])])):e.resultTop10Product?(a(),n(Y,{key:3},[e.faker?(a(),n(u,{key:0})):(a(),n(f,{key:1,products:e.products,previousProducts:e.previousProducts},null,8,["products","previousProducts"]))],64)):k("",!0)])])}nt.render=Fd;var $s=C({name:"Business",components:{BoxUpgradePlanModal:Be,BoxReportTable:nt,BoxEvolution:Ae,BoxHighlight:Pe,BoxDistribution:Le,RightSection:ke,BoxSyncStatusModal:Oe},setup(){const e=se(),s=g(()=>e.state.main.isoCode),r=g(()=>e.getters["main/GET_IS_ADVANCED"]),i=g(()=>e.getters["main/IS_FIRST_ACCESS"]),c=g(()=>e.getters["main/IS_FIRST_SYNC"]),m=[Qe,Oo],o=["orderSum","orderSumGroupByDate"],l=["revenuenet","refund","shipping","tax"],_=["Credit card","E-Transaction","Paypal","Bank transfer"],d=g(()=>e.getters["main/GET_PLAN_MODAL_OPENED"]);return r.value||setTimeout(function(){e.dispatch("main/SET_PLAN_MODAL_OPENED",!0)},5e3),{advancedPlan:r,upgradePlanModalOpened:d,getTopProduct:Kt,getTopOneProduct:Mo,arrayQueryOrder:m,revenueByCategory:Bo,revenueGrossGroupByDistribution:Po,revenueGrossGroupByPaymentsMethods:jo,ArrayDimensionOrderAverage:o,isFirstSync:c,isFirstAccess:i,isoCode:s,fakerLabels:l,fakerLabelsPaymentsMethods:_}}});const qd={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},Kd={class:"metrics-relative metrics-col-span-12 xxl:metrics-col-span-9 metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-content-start"},Hd={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-mt-5 metrics-z-0"},zd={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},jd={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},Qd={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},Wd={class:"metrics-col-span-12 sm:metrics-col-span-12 metrics-intro-y metrics-mt-2"},Jd={class:"metrics-col-span-12 sm:metrics-col-span-12 xl:metrics-col-span-12 metrics-intro-y"},Xd={class:"md:metrics-col-span-6 metrics-col-span-12 lg:metrics-mt-5  metrics-mt-2"},Zd={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},eu={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},tu={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},su={class:"metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},ru={class:"metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 metrics-mt-2"},iu={class:"metrics-z-0 metrics-col-span-12 xxl:metrics-col-span-3 xxl:metrics-border-l metrics-border-theme-5 metrics--mb-10 metrics-pb-10"};function ou(e,s,r,i,c,m){const o=p("BoxSyncStatusModal"),l=p("BoxUpgradePlanModal"),_=p("BoxHighlight"),d=p("BoxDistribution"),u=p("BoxEvolution"),f=p("BoxReportTable"),E=p("RightSection");return a(),n("div",qd,[t("div",Kd,[e.isFirstAccess||e.isFirstSync?(a(),n(o,{key:0})):e.upgradePlanModalOpened?(a(),n(l,{key:1,canBeClosed:""})):k("",!0),t("div",Hd,[t("div",zd,[t("h2",jd,h(e.$t("tabs.highlights")),1)]),t("div",Qd,[t("div",Wd,[t(_,{"key-translate":"highlight.topCategory",query:e.revenueByCategory,typeValue:"currency",typeKpi:"top",dimension:"revenueGrossByCategories",additionnalQueryParams:{isoCode:e.isoCode},faker:!e.advancedPlan},null,8,["query","additionnalQueryParams","faker"])]),t("div",Jd,[t(_,{"key-translate":"highlight.topProduct",query:e.getTopOneProduct,typeValue:"currency",typeKpi:"best",dimension:"productTopSeller",additionnalQueryParams:{limit:1,isoCode:e.isoCode},"disabled-network-request":"",faker:!e.advancedPlan},null,8,["query","additionnalQueryParams","faker"])])])]),t("div",Xd,[t("div",Zd,[t("div",eu,[t(d,{title:e.$t("graph.grossRevenueDistribution"),query:e.revenueGrossGroupByDistribution,dimension:"revenueDistribution",faker:!e.advancedPlan,fakerLabels:e.fakerLabels,tippyContentKey:e.$t("graph.grossRevenueDistributionTooltip")},null,8,["title","query","faker","fakerLabels","tippyContentKey"])]),t("div",tu,[t(d,{title:e.$t("graph.revenueGrossByPaymentsMethods"),query:e.revenueGrossGroupByPaymentsMethods,dimension:"revenueGrossGroupByPaymentsMethods",faker:!e.advancedPlan,"faker-labels":e.fakerLabelsPaymentsMethods,"tippy-content-key":e.$t("graph.revenueGrossByPaymentsMethodsTooltip")},null,8,["title","query","faker","faker-labels","tippy-content-key"])])])]),t("div",su,[t(u,{title:e.$t("graph.ordersEvolution"),queries:e.arrayQueryOrder,dimensions:e.ArrayDimensionOrderAverage,faker:!e.advancedPlan,tippyContentKey:"graph.ordersEvolutionTooltip"},null,8,["title","queries","dimensions","faker"])]),t("div",ru,[t(f,{title:e.$t("graph.top10Products"),query:e.getTopProduct,faker:!e.advancedPlan,dimension:"productTopSeller",additionnalQueryParams:{limit:10,isoCode:e.isoCode},"disabled-network-request":""},null,8,["title","query","faker","additionnalQueryParams"])])]),t("div",iu,[t(E)])])}$s.render=ou;var Es=C({name:"CustomerKnowledge",components:{ReportBoxNumber:De,BoxHighlight:Pe,BoxDistribution:Le,BoxEvolution:Ae,BoxUpgradePlanModal:Be,RightSection:ke,BoxSyncStatusModal:Oe},setup(){const e=I(""),s=I(),r=se(),i=g(()=>r.getters["main/GET_IS_ADVANCED"]),c=g(()=>r.getters["main/IS_FIRST_ACCESS"]),m=g(()=>r.getters["main/IS_FIRST_SYNC"]),o=["new_customer","returning_customer"],l=2,_=[qt,Io],d=["orderAverage","orderAverageGroupByDate"],u=g(()=>r.getters["main/GET_PLAN_MODAL_OPENED"]);i.value||setTimeout(function(){r.dispatch("main/SET_PLAN_MODAL_OPENED",!0)},5e3),$e("bind[importantNotesRef]",y=>{s.value=y});const f=()=>{s.value.tns.goTo("prev")},E=()=>{s.value.tns.goTo("next")},$=g(()=>r.getters["main/IS_GA4_VERSION"]);return{orderSumGroupBySource:xo,orderAverage:qt,isFirstAccess:c,orderCountPartNewCustomer:Ko,orderCountPartByCustomerCategory:zo,orderCountPartReturningCustomer:Ho,isFirstSync:m,ArrayQueryOrderAverage:_,ArrayDimensionOrderAverage:d,bounceRate:Yt,avgSessions:Vt,cartAbandonedAverage:Ut,avgCartValue:Gt,salesReportFilter:e,upgradePlanModalOpened:u,advancedPlan:i,prevImportantNotes:f,nextImportantNotes:E,fakerLimit:l,fakerLabels:o,isGa4Version:$,engagementRate:jt}}});const nu={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},au={class:"metrics-relative metrics-col-span-12 xxl:metrics-col-span-9 metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-content-start"},cu={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-mt-5 metrics-z-0"},lu={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},mu={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},du={class:"metrics-grid metrics-grid-cols-12"},uu={class:"metrics-col-span-12 sm:metrics-col-span-12 xl:metrics-col-span-12 metrics-intro-y metrics-mt-2 metrics-mb-5"},pu={class:"metrics-col-span-12 sm:metrics-col-span-12 xl:metrics-col-span-12 metrics-intro-y"},gu={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-z-0 md:metrics-mt-5  metrics-mt-2"},_u={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},hu={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},fu={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2 metrics-mb-5"},yu={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},vu={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},bu={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2"},$u={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},Eu={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},Su={class:"metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},Tu={class:"metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3  lg:metrics-mt-8 sm:metrics-mt-0 "},Cu={class:"metrics-z-0 metrics-col-span-12 xxl:metrics-col-span-3 xxl:metrics-border-l metrics-border-theme-5 metrics--mb-10 metrics-pb-10"};function Du(e,s,r,i,c,m){const o=p("BoxSyncStatusModal"),l=p("BoxUpgradePlanModal"),_=p("BoxHighlight"),d=p("ReportBoxNumber"),u=p("BoxEvolution"),f=p("BoxDistribution"),E=p("RightSection");return a(),n("div",nu,[t("div",au,[e.isFirstAccess||e.isFirstSync?(a(),n(o,{key:0})):e.upgradePlanModalOpened?(a(),n(l,{key:1,canBeClosed:""})):k("",!0),t("div",cu,[t("div",lu,[t("h2",mu,h(e.$t("tabs.highlights")),1)]),t("div",du,[t("div",uu,[t(_,{"key-translate":"highlight.averageCart",query:e.orderAverage,typeValue:"percent",typeKpi:"evolution",dimension:"orderAverage",faker:!e.advancedPlan},null,8,["query","faker"])]),t("div",pu,[t(_,{"key-translate":"highlight.repeatCustomer",query:e.orderCountPartReturningCustomer,typeValue:"percent",typeKpi:"evolution",dimension:"orderCountPartReturningCustomer",faker:!e.advancedPlan,tippyContentKey:"highlight.repeatCustomerTooltip"},null,8,["query","faker"])])])]),t("div",gu,[t("div",_u,[t("h2",hu,h(e.$t("tabs.report")),1)]),t("div",fu,[t("div",yu,[t(d,{title:e.$t("boxNumber.averageCartValue"),query:e.avgCartValue,dimension:"orderAverage","is-currency":!0,faker:!e.advancedPlan,"tippy-content-key":e.$t("boxNumber.averageCartValueTooltip")},null,8,["title","query","faker","tippy-content-key"])]),t("div",vu,[t(d,{title:e.$t("boxNumber.cartAbandonedRate"),query:e.cartAbandonedAverage,dimension:"cartAbandonedAverage","is-percent":!0,faker:!e.advancedPlan,"tippy-content-key":e.$t("boxNumber.cartAbandonedRateTooltip"),"positive-is-lower":!0},null,8,["title","query","faker","tippy-content-key"])])]),t("div",bu,[t("div",$u,[e.isGa4Version?(a(),n(d,{key:0,title:e.$t("boxNumber.engagementRate"),query:e.engagementRate,dimension:"engagementRate","is-percent":!0,faker:!e.advancedPlan,icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.engagementRateTooltip"),"must-be-google-linked":!0,"positive-is-lower":!0},null,8,["title","query","faker","tippy-content-key"])):(a(),n(d,{key:1,title:e.$t("boxNumber.bounceRate"),query:e.bounceRate,dimension:"bounceRate","is-percent":!0,faker:!e.advancedPlan,icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.bounceRateTooltip"),"must-be-google-linked":!0,"positive-is-lower":!0},null,8,["title","query","faker","tippy-content-key"]))]),t("div",Eu,[e.isGa4Version?k("",!0):(a(),n(d,{key:0,title:e.$t("boxNumber.averageSessionDuration"),query:e.avgSessions,dimension:"avgSessions","is-time":!0,faker:!e.advancedPlan,icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.averageSessionDurationTooltip"),"must-be-google-linked":!0},null,8,["title","query","faker","tippy-content-key"]))])])]),t("div",Su,[t(u,{title:e.$t("graph.averageCartEvolution"),queries:e.ArrayQueryOrderAverage,dimensions:e.ArrayDimensionOrderAverage,"is-currency":!0,faker:!e.advancedPlan,tippyContentKey:"graph.averageCartEvolutionTooltip"},null,8,["title","queries","dimensions","faker"])]),t("div",Tu,[t(f,{title:e.$t("graph.customerDistribution"),query:e.orderCountPartByCustomerCategory,dimension:"orderCountPartByCustomerCategory",faker:!e.advancedPlan,tippyContentKey:"graph.customerDistributionTooltip",fakerLabels:e.fakerLabels,fakerLimit:e.fakerLimit},null,8,["title","query","faker","fakerLabels","fakerLimit"])])]),t("div",Cu,[t(E)])])}Es.render=Du;var Ss=C({name:"BoxAnalyticsMustBeLinked",props:{horizontal:{type:Boolean,default:!1}},setup(){const e=se();return{linkToSettings:()=>{window.location=e.state.main.configurationLink}}}});const ku={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-center metrics-justify-center metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},Au={class:"metrics-w-full "},wu=t("div",{class:"metrics-intro-x"},[t("div",{class:"metrics-justify-center metrics-flex metrics-mb-2"},[t("img",{alt:"Prestashop Metrics",class:"metrics-w-10",src:Me})])],-1),Ru={class:"metrics-mt-3 metrics-intro-x"},Nu={class:"metrics-text-center metrics-text-gray-777 metrics-text-xs"};function Iu(e,s,r,i,c,m){const o=p("i18n-t");return a(),n("div",null,[t("div",ku,[t("div",Au,[wu,t("div",Ru,[t("div",Nu,[t(o,{keypath:"error.analyticsSentence"},{linktext:w(()=>[t("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline",onClick:s[1]||(s[1]=(...l)=>e.linkToSettings&&e.linkToSettings(...l))},h(e.$t("error.analyticsSentenceLink")),1)]),_:1})])])])])])}Ss.render=Iu;var Ts=C({name:"Dashboard",components:{BoxAnalyticsMustBeLinkedLarge:Ss,ReportBoxNumber:De,BoxEvolution:Ae,RightSection:ke,BoxReportTable:nt},setup(){const e=I(""),s=I(),r=g(()=>m.state.main.isoCode),i=["revenueGross","revenueGrossGroupByDate"],c=[je,Ft],m=se();$e("bind[importantNotesRef]",_=>{s.value=_});const o=g(()=>m.getters["main/HAS_GOOGLE_ACCOUNT"]),l=g(()=>m.getters["main/IS_GA4_VERSION"]);return{conversionRate:zt,sessions:We,uniqueUsers:Je,bounceRate:Yt,avgSessions:Vt,revenueGross:je,orderSum:Qe,cartAbandonedAverage:Ut,avgCartValue:Gt,salesReportFilter:e,revenueByDate:Ft,sessionsByDate:Xe,arrayQueryRevenue:c,arrayDimensionsRevenue:i,showAnalyticsLinkBox:o,getTopProduct:Kt,isoCode:r,isGa4Version:l,engagementRate:jt}}});const xu={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},Mu={class:" metrics-relative metrics-col-span-12 xxl:metrics-col-span-9 metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-content-start"},Ou={class:"metrics-col-span-12 metrics-mt-5 metrics-z-0"},Bu={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},Pu={class:" metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},Lu={class:" metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2 metrics-mb-5"},Uu={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},Gu={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},Yu={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},Vu={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},Fu={key:0,class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2"},qu={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},Ku={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},Hu={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},zu={class:" metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3 metrics-intro-y"},ju={key:1,class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2"},Qu={class:"metrics-col-span-12 metrics-intro-y"},Wu={class:" metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},Ju={class:" metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},Xu={class:" metrics-z-0 metrics-col-span-12 xxl:metrics-col-span-3 xxl:metrics-border-l metrics-border-theme-5 metrics--mb-10 metrics-pb-10"};function Zu(e,s,r,i,c,m){const o=p("ReportBoxNumber"),l=p("BoxAnalyticsMustBeLinkedLarge"),_=p("BoxEvolution"),d=p("BoxReportTable"),u=p("RightSection");return a(),n("div",xu,[t("div",Mu,[t("div",Ou,[t("div",Bu,[t("h2",Pu,h(e.$t("tabs.overviewTitle")),1)]),t("div",Lu,[t("div",Uu,[t(o,{"is-currency":!0,title:e.$t("boxNumber.revenueGross"),query:e.revenueGross,dimension:"revenueGross","tippy-content-key":e.$t("boxNumber.revenueGrossTooltip")},null,8,["title","query","tippy-content-key"])]),t("div",Gu,[t(o,{title:e.$t("boxNumber.orderSum"),query:e.orderSum,dimension:"orderSum","tippy-content-key":e.$t("boxNumber.orderSumTooltip")},null,8,["title","query","tippy-content-key"])]),t("div",Yu,[t(o,{"is-currency":!0,title:e.$t("boxNumber.orderAverage"),query:e.avgCartValue,dimension:"orderAverage","tippy-content-key":e.$t("boxNumber.orderAverageTooltip")},null,8,["title","query","tippy-content-key"])]),t("div",Vu,[t(o,{"is-percent":!0,title:e.$t("boxNumber.cartAbandonedRate"),query:e.cartAbandonedAverage,dimension:"cartAbandonedAverage","tippy-content-key":e.$t("boxNumber.cartAbandonedRateTooltip"),"positive-is-lower":!0},null,8,["title","query","tippy-content-key"])])]),e.showAnalyticsLinkBox?(a(),n("div",Fu,[t("div",qu,[t(o,{"is-percent":!0,title:e.$t("boxNumber.conversionRate"),query:e.conversionRate,dimension:"conversionRate",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.conversionRateTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"])]),t("div",Ku,[t(o,{title:e.$t("boxNumber.uniqueSession"),query:e.uniqueUsers,dimension:"uniqueUsers",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.uniqueSessionTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"])]),t("div",Hu,[e.isGa4Version?(a(),n(o,{key:0,"is-percent":!0,title:e.$t("boxNumber.engagementRate"),query:e.engagementRate,dimension:"engagementRate",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.engagementRateTooltip"),"must-be-google-linked":!0,"positive-is-lower":!0},null,8,["title","query","tippy-content-key"])):(a(),n(o,{key:1,"is-percent":!0,title:e.$t("boxNumber.bounceRate"),query:e.bounceRate,dimension:"bounceRate",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.bounceRateTooltip"),"must-be-google-linked":!0,"positive-is-lower":!0},null,8,["title","query","tippy-content-key"]))]),t("div",zu,[e.isGa4Version?k("",!0):(a(),n(o,{key:0,"is-time":!0,title:e.$t("boxNumber.averageSessionDuration"),query:e.avgSessions,dimension:"avgSessions",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.averageSessionDurationTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"]))])])):(a(),n("div",ju,[t("div",Qu,[t(l)])]))]),t("div",Wu,[t(_,{"is-currency":!0,title:e.$t("graph.salesEvolution"),dimensions:e.arrayDimensionsRevenue,queries:e.arrayQueryRevenue,tippyContentKey:e.$t("graph.salesEvolutionTooltip")},null,8,["title","dimensions","queries","tippyContentKey"])]),t("div",Ju,[t(d,{title:e.$t("graph.top10Products"),query:e.getTopProduct,faker:!1,dimension:"productTopSeller",additionnalQueryParams:{limit:10,isoCode:e.isoCode}},null,8,["title","query","additionnalQueryParams"])])]),t("div",Xu,[t(u)])])}Ts.render=Zu;var Cs=C({setup(){return{}}});function ep(e,s,r,i,c,m){const o=p("router-view");return a(),n(o)}Cs.render=ep;class tp{constructor(){Ne(this,"get",s=>{let r=localStorage.getItem(s);return r===null?null:(r=JSON.parse(r),new Date(r.expires)<new Date?(localStorage.removeItem(s),null):r.value)});Ne(this,"set",(s,r,i)=>{const c=new Date().getTime(),m=new Date(c+i*6e4);localStorage.setItem(s,JSON.stringify({value:r,expires:m}))})}}const Ds=new tp;var ks=C({name:"LegacyModulesHandler",setup(){const e=se(),s=I(!0),r=g(()=>e.getters["main/GET_MODULES_IS_ENABLED"]),i=g(()=>e.getters["main/PSX_IS_CONNECTED"]),c=g(()=>e.getters["main/IS_LEGACY_STATS_PAGE"]),m=()=>{e.dispatch("main/SET_MODULES_IS_ENABLED",!r.value).then(()=>{location.reload()})},o=()=>{Ds.set("psmetricsEnableDashboardModulesAlert",!0,43200),s.value=!1};return ne(()=>{const l=Ds.get("psmetricsEnableDashboardModulesAlert");s.value=l===null}),{modulesIsEnabled:r,psxIsConnected:i,display:s,isLegacyStatsPage:c,close:o,toggleModules:m}}});const sp={key:0,class:`
        metrics-bg-indigo-100
        metrics-border-l-4
        metrics-border-theme-43
        metrics-text-theme-43
        metrics-p-4
        metrics-relative
      `,role:"alert"},rp={key:0,class:"metrics-pr-6"},ip={class:`
          metrics-absolute
          metrics-top-0
          metrics-bottom-0
          metrics-right-0
          metrics-px-4
          metrics-py-3
        `},op=t("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"},null,-1);function np(e,s,r,i,c,m){return a(),n("div",null,[!e.isLegacyStatsPage&&e.psxIsConnected&&e.display?(a(),n("div",sp,[e.modulesIsEnabled?(a(),n("span",rp,[L(h(e.$t("alerts.disableDashboardModules.text"))+". ",1),t("a",{class:`
              metrics-text-theme-43
              hover:metrics-text-indigo-500
              metrics-font-semibold
            `,onClick:s[1]||(s[1]=ae(o=>e.toggleModules(),["prevent"])),href:"#"},h(e.$t("alerts.disableDashboardModules.cta"))+". ",1)])):(a(),n(Y,{key:1},[L(h(e.$t("alerts.enableDashboardModules.text"))+". ",1),t("a",{class:`
            metrics-text-theme-43
            hover:metrics-text-indigo-500
            metrics-font-semibold
          `,onClick:s[2]||(s[2]=ae(o=>e.toggleModules(),["prevent"])),href:"#"},h(e.$t("alerts.enableDashboardModules.cta"))+". ",1)],64)),t("span",ip,[(a(),n("svg",{class:`
            metrics-fill-current metrics-h-6 metrics-w-6 metrics-text-theme-43
            hover:metrics-text-indigo-500
          `,role:"button",viewBox:"0 0 20 20",onClick:s[3]||(s[3]=(...o)=>e.close&&e.close(...o))},[op]))])])):k("",!0)])}ks.render=np;var As=C({components:{TopBarButtonDate:He,ReportBoxNumber:De,BoxSynchronization:tt,BoxNextFeatures:st,BoxNewVersionAvailable:rt,BoxUpgradePlan:et,LegacyModulesHandler:ks},setup(){const e=se(),s=e.state.main.canShowDashboard,r=g(()=>e.state.main.user.email),i=g(()=>e.state.main.metricsLink),c=g(()=>e.state.main.configurationLink);let m=I(!0),o=I(!1),l={},_="1f7f8a936d0bf02d1a36ae49bb4f010c";ne(()=>{const y=T(),S=y.subtract(7,"day"),R=y.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE","7d"),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:S.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:R.locale(e.state.main.isoCode).format("YYYY-MM-DD")}),e.dispatch("main/SET_COMPARE_MODE_TYPE",ge.PREVIOUS_PERIOD);const b=f();if(e.state.main.shop.shopUuid&&!b){const v={shopId:e.state.main.shop.shopUuid},{result:G}=de(Ht,v,{fetchPolicy:"network-only",clientId:"paidClient"});ee(G,K=>{K.account&&(e.dispatch("main/SET_ACCOUNT",K.account),localStorage.clear(),$(K.account),o.value=K.account.plan==="metrics-advanced")})}else JSON.parse(b);m.value=!1});const{appContext:{config:{globalProperties:{$segment:d}}}}=Z(),u=()=>{d().track("[MTR] Dashboard Start Setup",J(A({},r.value!=""&&{email:r}),{module:"ps_metrics"})),window.location.href=c.value},f=()=>{const y=_+"=",S=document.cookie.split(";");for(let R=0;R<S.length;R++){let b=S[R];for(;b.charAt(0)===" ";)b=b.substring(1);if(b.indexOf(y)===0)return b.substring(y.length,b.length)}return""},E=()=>{d().track("[MTR] Dashboard Open Metrics",A({module:"ps_metrics"},e.state.main.user.email!==""&&{email:e.state.main.user.email})),window.location.href=i.value},$=y=>{const S=new Date;S.setTime(S.getTime()+1*24*60*60*1e3);const R="expires="+S.toUTCString();document.cookie=_+"="+JSON.stringify(y)+";"+R+";path=/"};return{metricsIsConfigured:s,account:l,loading:m,metricsAdvanced:o,redirectToSettings:u,getCookieAccount:f,setCookieAccount:$,redirectToMetrics:E,revenueGross:je,orderSum:Qe,conversionRate:zt,uniqueUsers:Je}}});const ap={id:"psmetricsApp",class:"dashboard metrics-mb-5"},cp={key:0},lp={id:"metrics-preview"},mp={class:"metrics-bg-white"},dp={class:"metrics-preview-header metrics-flex"},up=t("img",{class:"metrics-h-6 metrics-w-6",src:Ze},null,-1),pp={class:"metrics-uppercase metrics-px-2.5"},gp={class:"metrics-m-5"},_p={class:"metrics-flex metrics-justify-between"},hp={class:"metrics-mb-4 metrics-text-gray-600 metrics-italic"},fp={key:0,class:"metrics-grid metrics-grid-cols-12 metrics-gap-3"},yp={class:" metrics-flex metrics-col-span-12 metrics-justify-center metrics-items-center metrics-mt-2"},vp={class:"metrics-mr-3"},bp={key:1},$p={id:"metrics-preview"},Ep={class:"metrics-preview-header metrics-flex"},Sp=t("img",{class:"metrics-h-6 metrics-w-6",src:Ze},null,-1),Tp={class:"metrics-uppercase metrics-px-2.5"},Cp={class:"metrics-p-5 metrics-bg-white"},Dp={class:"metrics-flex metrics-justify-evenly metrics-items-center"},kp=t("div",{class:"metrics-p-0 sm:metrics-col-span-3"},[t("img",{class:"metrics-w-48",src:Wt})],-1),Ap={class:"sm:metrics-col-span-8"},wp={class:"metrics-float-right metrics-py-5"};function Rp(e,s,r,i,c,m){const o=p("TopBarButtonDate"),l=p("ReportBoxNumber"),_=p("BoxNewVersionAvailable"),d=p("BoxSynchronization"),u=p("BoxUpgradePlan"),f=p("BoxNextFeatures"),E=p("LegacyModulesHandler");return a(),n("div",ap,[e.metricsIsConfigured?(a(),n("div",cp,[t("div",lp,[t("div",mp,[t("div",dp,[up,t("span",pp,h(e.$t("general.title")),1)]),t("div",gp,[t("div",_p,[t(o,{class:"metrics-mb-4"}),t("span",hp,h(e.$t("dates.comparedWithPreviousPeriod")),1)]),e.loading?k("",!0):(a(),n("div",fp,[t(l,{class:" metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-3 metrics-intro-y","is-currency":!0,title:e.$t("boxNumber.revenueGross"),query:e.revenueGross,dimension:"revenueGross","tippy-content-key":e.$t("boxNumber.revenueGrossTooltip")},null,8,["title","query","tippy-content-key"]),t(l,{class:" metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-3 metrics-intro-y",title:e.$t("boxNumber.orderSum"),query:e.orderSum,dimension:"orderSum","tippy-content-key":e.$t("boxNumber.orderSumTooltip")},null,8,["title","query","tippy-content-key"]),t(l,{class:" metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-3 metrics-intro-y","is-percent":!0,title:e.$t("boxNumber.conversionRate"),query:e.conversionRate,dimension:"conversionRate",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.conversionRateTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"]),t(l,{class:" metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-3 metrics-intro-y",title:e.$t("boxNumber.uniqueSession"),query:e.uniqueUsers,dimension:"uniqueUsers",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.uniqueSessionTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"]),t("div",yp,[t("span",vp,h(e.$t("general.textBeforeOpenMetrics")),1),t("button",{type:"button",class:" metrics-button metrics-button--md metrics-zoom-in metrics-border metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-white",onClick:s[1]||(s[1]=$=>e.redirectToMetrics())},h(e.$t("general.openMetrics")),1)]),t(_,{"show-title":!1}),e.metricsAdvanced?(a(),n(d,{key:0,"show-title":!1,account:e.account},null,8,["account"])):(a(),n(u,{key:1,"show-title":!1})),t(f,{"show-title":!1})]))])])])])):(a(),n("div",bp,[t("div",$p,[t("div",Ep,[Sp,t("span",Tp,h(e.$t("general.title")),1)]),t("div",Cp,[t("div",Dp,[kp,t("div",Ap,[t("h1",null,h(e.$t("incentivePanel.title")),1),t("div",null,[t("ul",null,[t("li",null,h(e.$t("incentivePanel.gather")),1),t("li",null,h(e.$t("incentivePanel.monitor")),1),t("li",null,h(e.$t("incentivePanel.decisions")),1)]),t("div",wp,[t("button",{type:"button",class:" metrics-button metrics-button--md metrics-border metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-white metrics-m-auto",onClick:s[2]||(s[2]=$=>e.redirectToSettings())},h(e.$t("incentivePanel.link")),1)])])])])])])])),t(E,{class:"metrics-mt-4"})])}As.render=Rp;const we=U(),Np=[{path:"/",component:Cs,children:[{path:"",component:Qt,children:[{path:"",name:"tab_overview",component:Ts,meta:{todayIsAccessible:!0}},{path:"business",name:"tab_business",component:$s,meta:{todayIsAccessible:!1}},{path:"customer-knowledge",name:"tab_customer_knowledge",component:Es,meta:{todayIsAccessible:!1}},{path:"acquisition",name:"tab_acquisition",component:fs,meta:{todayIsAccessible:!1}}]}]},{path:"/preview",name:"metrics_preview",component:As,meta:{exclude:!0}},{path:"/:pathMatch(.*)*",component:Jt,meta:{exclude:!0}}],Ip=(e,s,r)=>r||{left:0,top:0},at=vr({history:br(),routes:Np,scrollBehavior:Ip});at.beforeEach((e,s,r)=>{we.dispatch("main/SET_TODAY_ACCESSIBLE",e.meta.todayIsAccessible?e.meta.todayIsAccessible:!1),we.dispatch("main/SET_ERROR_ON_KPI",!1),we.getters["main/GET_PLAN_MODAL_OPENED"]&&we.dispatch("main/SET_PLAN_MODAL_OPENED",!1),e.name!=="metrics_preview"&&we.state.main.app==="dashboard"?r({name:"metrics_preview"}):r(),r()});const ws=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722"];function xp(e){const s=ws.length;if(e>s)throw new Error("getRamdomColor: too much elements taken than available colors");return ws.slice(0,e)}const Mp=e=>{e.config.globalProperties.$c=s=>xp(s)};T.extend($t);T.extend(Et);function Op(e,s,r){const i=[];let c=T(e);const m=T(s);for(;c<=m;)i.push(T(c).format("YYYY-MM-DD")),c=T(c).add(1,"days");return r==="week"?Bp(i):r==="month"?Pp(i):r==="hour"?Lp(i):i}function Bp(e){return e.map(s=>`${T(s).year()}-${T(s).format("ww")}`).filter(Rs)}function Pp(e){return e.map(s=>`${T(s).year()}-${T(s).format("MM")}`).filter(Rs)}function Lp(e){const s=[];for(let r=0;r<24;r++){let i="";r<=9?i=e[0]+" 0"+r+":00:00":i=e[0]+" "+r+":00:00",s.push(i)}return s}function Rs(e,s,r){return r.indexOf(e)===s}const Up=e=>{e.config.globalProperties.$dr=(s,r,i)=>Op(s,r,i)};var Gp=e=>{e.use(oi),e.use(Mp),e.use(Up)};const Ue=$r(kt).use(Ct).use(at).use(ho);Ue.use(Er,{router:at,debug:!1,id:"iqrIKrNdu66IoCgzyHPeaaUweBKZmJmC",pageCategory:"[MTR]"});go(Ue);Gp(Ue);Ue.mount("#app");
