var e,t=Object.defineProperty,r=Object.defineProperties,s=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,c=(e,r,s)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,o=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&c(e,r,t[r]);if(i)for(var r of i(t))n.call(t,r)&&c(e,r,t[r]);return e},l=(e,t)=>r(e,s(t));import{d as m,a as d,l as u,S as p,b as g,c as y,e as v,I as h,A as b,W as f,s as x,g as _,f as T,h as S,r as E,i as C,j as k,k as w,w as D,m as A,o as N,p as M,n as R,q as O,t as P,C as I,u as B,v as L,x as $,y as G,z as U,B as Y,D as V,E as q,F,G as K,R as j,H as z,J as H,K as Q,L as W,M as J,N as X,O as Z,P as ee,Q as te,T as re,U as se,V as ie,X as ae,Y as ne,Z as ce,_ as oe,$ as le,a0 as me,a1 as de,a2 as ue,a3 as pe,a4 as ge,a5 as ye,a6 as ve,a7 as he,a8 as be,a9 as fe,aa as xe,ab as _e,ac as Te,ad as Se,ae as Ee,af as Ce,ag as ke,ah as we,ai as De,aj as Ae,ak as Ne}from"./chunk-vendor-metrics.2.3.1.js";const Me={main:{},darkMode:!1,fullscreen:!1,todayIsAccessible:!1,isoCode:"en",dateRangeTooLarge:!1,dateRange:{startDate:m().subtract(7,"day").format("YYYY-MM-DD"),endDate:m().subtract(1,"day").format("YYYY-MM-DD")},compareMode:!0,slugButtonDate:"7d",syncStatus:"scheduled",accounts:{shopID:"",url_shop:"",plan:"",first_sync_asked_at:1,start_sync_at:1,next_sync_at:1,last_sync_at:1},planModalOpened:!1,links:{},errorOnKpi:!1};var Re,Oe;(Oe=Re||(Re={})).SET_DARK_MODE="SET_DARK_MODE",Oe.SET_COMPARE_MODE="SET_COMPARE_MODE",Oe.SET_DATE_RANGE="SET_DATE_RANGE",Oe.SET_SLUG_BUTTON_DATE="SET_SLUG_BUTTON_DATE",Oe.SET_ACCOUNT="SET_ACCOUNT",Oe.SET_FIRST_SYNC="SET_FIRST_SYNC",Oe.SET_LAST_SYNC="SET_LAST_SYNC",Oe.SET_START_SYNC="SET_START_SYNC",Oe.SET_PLAN_MODAL_OPENED="SET_PLAN_MODAL_OPENED",Oe.SET_SHOP_ID="SET_SHOP_ID",Oe.SET_PLAN="SET_PLAN",Oe.SET_TOKEN="SET_TOKEN",Oe.TOGGLE_FULLSCREEN="TOGGLE_FULLSCREEN",Oe.SET_TODAY_ACCESSIBLE="SET_TODAY_ACCESSIBLE",Oe.SET_ERROR_ON_KPI="SET_ERROR_ON_KPI",Oe.SET_MODULES_IS_ENABLED="SET_MODULES_IS_ENABLED";const Pe={[Re.SET_DARK_MODE](e,t){e.darkMode=t},[Re.SET_COMPARE_MODE](e,t){e.compareMode=t},[Re.SET_DATE_RANGE](e,t){const r=m(t.endDate).diff(t.startDate,"month"),s=m(t.endDate).diff(t.startDate,"days"),i=m().diff(t.startDate,"days");e.dateRangeTooLarge=!1,("metrics-advanced"!==e.accounts.plan&&r>=1.5||"metrics-advanced"!==e.accounts.plan&&s+i>=90||"metrics-advanced"===e.accounts.plan&&r>=7||"metrics-advanced"===e.accounts.plan&&s+i>=420)&&(e.dateRangeTooLarge=!0,e.compareMode=!1),e.dateRange=t},[Re.SET_SLUG_BUTTON_DATE](e,t){e.slugButtonDate=t},[Re.SET_ACCOUNT](e,t){e.accounts=Object.assign(e.accounts,t),-1!==t.first_sync_asked_at&&(e.syncStatus="scheduled"),-1!==t.last_sync_at&&(e.syncStatus="done"),-1!==t.start_sync_at&&(e.syncStatus="syncing")},[Re.SET_PLAN](e,t){e.accounts.plan=t.plan},[Re.SET_FIRST_SYNC](e,t){e.accounts.first_sync_asked_at=t,e.syncStatus="scheduled"},[Re.SET_LAST_SYNC](e,t){e.accounts.last_sync_at=t,e.accounts.next_sync_at=m().add(1,"day").startOf("day").add(1,"hours").valueOf(),e.syncStatus="done"},[Re.SET_START_SYNC](e,t){e.accounts.start_sync_at=t,e.syncStatus="syncing"},[Re.SET_PLAN_MODAL_OPENED](e,t){e.planModalOpened=t},[Re.SET_SHOP_ID](e,t){e.accounts.shopID=t},[Re.SET_TOKEN](e,t){sessionStorage.setItem("metricsToken",t.token)},[Re.TOGGLE_FULLSCREEN](e,t){e.fullscreen=t},[Re.SET_TODAY_ACCESSIBLE](e,t){e.todayIsAccessible=t},[Re.SET_ERROR_ON_KPI](e,t){e.errorOnKpi=t},[Re.SET_MODULES_IS_ENABLED](e,t){e.modulesIsEnabled=t}};var Ie,Be;(Be=Ie||(Ie={})).SET_DARK_MODE="SET_DARK_MODE",Be.SET_COMPARE_MODE="SET_COMPARE_MODE",Be.SET_DATE_RANGE="SET_DATE_RANGE",Be.SET_SLUG_BUTTON_DATE="SET_SLUG_BUTTON_DATE",Be.SET_ADVANCED_PLAN="SET_ADVANCED_PLAN",Be.SET_ACCOUNT="SET_ACCOUNT",Be.SET_FIRST_SYNC="SET_FIRST_SYNC",Be.SET_LAST_SYNC="SET_LAST_SYNC",Be.SET_START_SYNC="SET_START_SYNC",Be.SET_PLAN_MODAL_OPENED="SET_PLAN_MODAL_OPENED",Be.SET_SHOP_ID="SET_SHOP_ID",Be.SET_PLAN="SET_PLAN",Be.SET_TODAY_ACCESSIBLE="SET_TODAY_ACCESSIBLE",Be.RETRIEVE_TOKEN="RETRIEVE_TOKEN",Be.TOGGLE_FULLSCREEN="TOGGLE_FULLSCREEN",Be.SET_ERROR_ON_KPI="SET_ERROR_ON_KPI",Be.SET_MODULES_IS_ENABLED="SET_MODULES_IS_ENABLED";const Le=new
/**
 * 2007-2021 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2021 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */
class{constructor(){this.api=this.createApi()}createApi(){const e=d.create({baseURL:"/",timeout:3e4});return e.interceptors.response.use((e=>e.data.status>=400?Promise.reject(e.data.message):e.data),(e=>{Promise.reject(e)})),e}};
/**
 * 2007-2021 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2021 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */function $e(e){const t=function(e){const t=new FormData;return t.append("ajax","true"),t.append("action",e.action),t.append("controller",e.controller),u.exports.forEach(e.data,((e,r)=>{t.append(r,e)})),t}({action:"ToggleDashboardModules",controller:"AdminAjaxDashboard"});return Le.api.post(e,t)}const Ge={[Ie.SET_TODAY_ACCESSIBLE]({commit:e},t){e(Re.SET_TODAY_ACCESSIBLE,t)},[Ie.SET_DARK_MODE]({commit:e},t){e(Re.SET_DARK_MODE,t)},[Ie.SET_DATE_RANGE]({commit:e},t){e(Re.SET_DATE_RANGE,t)},[Ie.SET_SLUG_BUTTON_DATE]({commit:e},t){e(Re.SET_SLUG_BUTTON_DATE,t)},[Ie.SET_PLAN]({commit:e},t){e(Re.SET_PLAN,t)},[Ie.SET_ACCOUNT]({commit:e},t){const r={plan:t.plan,first_sync_asked_at:t.first_sync_asked_at,last_sync_at:t.last_sync_at,shopID:t.shop_id,shop_url:t.shop_url,start_sync_at:t.start_sync_at,email_account:t.email_account};e(Re.SET_ACCOUNT,r)},[Ie.SET_FIRST_SYNC]({commit:e},t){e(Re.SET_FIRST_SYNC,t)},[Ie.SET_LAST_SYNC]({commit:e},t){e(Re.SET_LAST_SYNC,t)},[Ie.SET_START_SYNC]({commit:e},t){e(Re.SET_START_SYNC,t)},[Ie.SET_PLAN_MODAL_OPENED]({commit:e},t){e(Re.SET_PLAN_MODAL_OPENED,t)},[Ie.SET_SHOP_ID]({commit:e},t){e(Re.SET_SHOP_ID,t)},[Ie.TOGGLE_FULLSCREEN]({commit:e},t){e(Re.TOGGLE_FULLSCREEN,t)},async[Ie.RETRIEVE_TOKEN]({commit:e},t){try{const r=await fetch(`${t}&action=GetOrRefreshToken`),s=await r.json();e(Re.SET_TOKEN,s)}catch(r){console.error(r)}},[Ie.SET_COMPARE_MODE]({commit:e},t){e(Re.SET_COMPARE_MODE,t)},[Ie.SET_ERROR_ON_KPI]({commit:e},t){e(Re.SET_ERROR_ON_KPI,t)},[Ie.SET_MODULES_IS_ENABLED]({commit:e,state:t},r){$e(t.controllersLinks.dashboardAjax).then((t=>!0===(null==t?void 0:t.success)?(e(Re.SET_MODULES_IS_ENABLED,r),Promise.resolve()):Promise.reject())).catch((()=>Promise.reject()))}};var Ue,Ye;(Ye=Ue||(Ue={})).GET_DARK_MODE="GET_DARK_MODE",Ye.GET_VARIABLES_QUERY="GET_VARIABLES_QUERY",Ye.GET_OPTIONS_QUERY="GET_OPTIONS_QUERY",Ye.GET_SLUG_BUTTON_DATE="GET_SLUG_BUTTON_DATE",Ye.GET_CURRENT_DATE_RANGE="GET_CURRENT_DATE_RANGE",Ye.GET_IS_ADVANCED="GET_IS_ADVANCED",Ye.GET_PREVIOUS_DATE_RANGE="GET_PREVIOUS_DATE_RANGE",Ye.GET_PLAN_MODAL_OPENED="GET_PLAN_MODAL_OPENED",Ye.GET_SYNC_STATUS="GET_SYNC_STATUS",Ye.PRODUCT_TOUR_DONE="PRODUCT_TOUR_DONE",Ye.IS_FIRST_SYNC="IS_FIRST_SYNC",Ye.IS_FIRST_ACCESS="IS_FIRST_ACCESS",Ye.HAS_GOOGLE_ACCOUNT="HAS_GOOGLE_ACCOUNT",Ye.TODAY_IS_ACCESSIBLE="TODAY_IS_ACCESSIBLE",Ye.GET_ERROR_ON_KPI="GET_ERROR_ON_KPI",Ye.GET_USER_EMAIL="GET_USER_EMAIL",Ye.PSX_IS_CONNECTED="PSX_IS_CONNECTED",Ye.GA_IS_CONNECTED="GA_IS_CONNECTED",Ye.GET_MODULES_IS_ENABLED="GET_MODULES_IS_ENABLED",Ye.IS_LEGACY_STATS_PAGE="IS_LEGACY_STATS_PAGE";const Ve={[Ue.GET_DARK_MODE]:e=>e.darkMode,[Ue.GET_VARIABLES_QUERY]:e=>({inputData:{TimeDimension:{dateRange:e.dateRange},ShopId:e.accounts.shopID,compareMode:e.compareMode}}),[Ue.GET_OPTIONS_QUERY]:e=>({fetchPolicy:"cache-and-network",clientId:"metrics-free"!==e.accounts.plan&&""!==e.accounts.plan&&-1!==e.accounts.last_sync_at&&"today"!==e.slugButtonDate?"paidClient":"default"}),[Ue.GET_SLUG_BUTTON_DATE]:e=>e.slugButtonDate,[Ue.GET_SYNC_STATUS]:e=>e.syncStatus,[Ue.GET_IS_ADVANCED]:e=>"metrics-free"!==e.accounts.plan&&""!==e.accounts.plan,[Ue.GET_PLAN_MODAL_OPENED]:e=>e.planModalOpened,[Ue.GET_CURRENT_DATE_RANGE]:e=>({startDate:m(e.dateRange.startDate).format("YYYY-MM-DD"),endDate:m(e.dateRange.endDate).format("YYYY-MM-DD")}),[Ue.GET_PREVIOUS_DATE_RANGE](e){const t=m(e.dateRange.startDate),r=m(e.dateRange.endDate).diff(t,"day"),s=t.subtract(1,"day");return{startDate:s.subtract(r,"day").format("YYYY-MM-DD"),endDate:s.format("YYYY-MM-DD")}},[Ue.PRODUCT_TOUR_DONE]:e=>e.productTourAdvancedDone?"metrics-advanced":e.productTourFreeDone?"metrics-free":null,[Ue.GET_SYNC_STATUS]:e=>e.syncStatus,[Ue.IS_FIRST_ACCESS]:e=>-1!==e.accounts.first_sync_asked_at&&-1===e.accounts.start_sync_at&&-1===e.accounts.last_sync_at,[Ue.IS_FIRST_SYNC]:e=>-1!==e.accounts.first_sync_asked_at&&-1!==e.accounts.start_sync_at&&-1===e.accounts.last_sync_at,[Ue.HAS_GOOGLE_ACCOUNT]:e=>e.googleAccount&&e.googleAccount.selected,[Ue.TODAY_IS_ACCESSIBLE]:e=>e.todayIsAccessible,[Ue.GET_ERROR_ON_KPI]:e=>e.errorOnKpi,[Ue.GET_USER_EMAIL]:e=>e.user.email,[Ue.PSX_IS_CONNECTED]:e=>e.user.emailIsValidated&&""!==e.user.email,[Ue.GA_IS_CONNECTED]:e=>e.user.gaIsOnboarded,[Ue.GET_MODULES_IS_ENABLED]:e=>e.modulesIsEnabled,[Ue.IS_LEGACY_STATS_PAGE]:e=>e.isLegacyStatsPage},{storePsMetrics:qe,contextPsAccounts:Fe}=window;Object.assign(null==(e=null==qe?void 0:qe.context)?void 0:e.user,Fe?Fe.user:{});const Ke=Object.assign(qe?qe.context:{},o({},Me));Ke.shop.shopUuid&&(Ke.accounts.shopID=Ke.shop.shopUuid),Ke.i18n.isoCode&&(Ke.isoCode=Ke.i18n.isoCode),Ke.controllersLinks&&(Ke.links.faq=Ke.controllersLinks.faq,Ke.links.settings=Ke.controllersLinks.settings);const je={namespaced:!0,state:Ke,mutations:Pe,actions:Ge,getters:Ve},ze={namespaced:!0,state:{menu:[{icon:"",pageName:"tab_overview",title:"menu.overview",isDisabledOnToday:!1},{icon:"DollarSgnIcon",pageName:"tab_business",title:"menu.business",isDisabledOnToday:!0},{icon:"",pageName:"tab_acquisition",title:"menu.acquisition",isDisabledOnToday:!0},{icon:"",pageName:"tab_customer_knowledge",title:"menu.customerKnowledge",isDisabledOnToday:!0}]},getters:{menu:e=>e.menu}},He=new p({encodingType:"aes"}),Qe=y({modules:{main:je,topMenu:ze},plugins:[g({storage:{getItem:e=>He.get(e),setItem:(e,t)=>He.set(e,t),removeItem:e=>He.remove(e)},paths:["main.accounts","main.syncStatus","main.darkMode","main.slugButtonDate","main.dateRange","main.fullscreen"]})]});function We(){return Qe}const Je=new b({link:v({uri:We().state.main.controllersLinks.graphql}),cache:new h}),Xe=sessionStorage.getItem("metricsToken"),Ze=new f({uri:"wss://analytics-api.psessentials.net/graphql",options:{reconnect:!0,connectionParams:{authorization:Xe?`Bearer ${Xe}`:""}}}),et=v({uri:"https://analytics-api.psessentials.net/graphql",credentials:"same-origin",headers:{"Access-Control-Allow-Origin":"*"}}),tt=new b({link:x((({query:e})=>{const t=_(e);return"OperationDefinition"===t.kind&&"subscription"===t.operation}),Ze,T(((e,{headers:t})=>({headers:l(o({},t),{authorization:Xe?`Bearer ${Xe}`:""})}))).concat(et)),cache:new h});var rt=S({setup(){var e,t,r;const s=null==(r=null==(t=null==(e=window.storePsMetrics)?void 0:e.context)?void 0:t.shop)?void 0:r.shopUuid,i=E(0);return{appMode:!1,shopId:s,copyUuid:()=>{navigator.clipboard.writeText(s)},clearLocalStorage:()=>{localStorage.clear()},clearSessionStorage:()=>{sessionStorage.clear()},clearAllCookies:()=>{document.cookie.split(";").forEach((e=>{const t=e.indexOf("="),r=t>-1?e.substr(0,t):e;document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}))},shopUuidInput:i}}});const st={key:0,class:"metrics-flex metrics-flex-row metrics-items-center metrics-justify-between"},it={class:"metrics-w-full metrics-inline-block"},at={class:"metrics-flex metrics-rounded-lg metrics-text-md metrics-my-5"},nt=w("li",{class:"metrics-cursor-default metrics-button-date metrics-cursor metrics-border metrics-bg-red-500 metrics-text-white metrics-border-gray-400 metrics-rounded-l-lg"}," DEV MODE ROUTE ",-1),ct=w("a",null,"preview page",-1),ot=w("a",null,"metrics page",-1),lt={class:"metrics-w-full metrics-flex metrics-flex-row metrics-items-center metrics-justify-center"},mt={class:"metrics-w-full metrics-flex metrics-flex-row metrics-items-center metrics-ml-auto"},dt=w("label",{for:"shop-uuid",class:"metrics-uppercase metrics-font-bold"},"Your shopId:",-1);rt.render=function(e,t,r,s,i,a){const n=C("router-link");return e.appMode?(N(),k("div",st,[w("div",it,[w("ul",at,[nt,w(n,{tag:"li",to:"/preview",class:" metrics-button-date metrics-border metrics-bg-white metrics-border-gray-400 metrics-text-gray-700 metrics-zoom-in-no-shadow"},{default:D((()=>[ct])),_:1}),w(n,{tag:"li",to:"/",class:" metrics-button-date metrics-border metrics-bg-white metrics-border-gray-400 metrics-text-gray-700 metrics-zoom-in-no-shadow metrics-rounded-r-lg"},{default:D((()=>[ot])),_:1})])]),w("div",lt,[w("input",{type:"button",id:"clear-cookies-button",value:"clear cookies",class:"metrics-bg-red-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:t[1]||(t[1]=(...t)=>e.clearAllCookies&&e.clearAllCookies(...t))}),w("input",{type:"button",id:"clear-local-storage-button",value:"clear local storage",class:"metrics-bg-red-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:t[2]||(t[2]=(...t)=>e.clearLocalStorage&&e.clearLocalStorage(...t))}),w("input",{type:"button",id:"clear-session-storage-button",value:"clear session storage",class:"metrics-bg-red-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:t[3]||(t[3]=(...t)=>e.clearSessionStorage&&e.clearSessionStorage(...t))})]),w("div",mt,[dt,w("input",{id:"shop-uuid",type:"text",ref:"shopUuidInput",class:"metrics-w-64 metrics-py-1 metrics-rounded metrics-mx-1 metrics-text-center",value:e.shopId,readonly:""},null,8,["value"]),w("input",{type:"button",value:"copy",class:"metrics-bg-blue-500 metrics-text-white metrics-mx-1 metrics-p-1 metrics-rounded",onClick:t[4]||(t[4]=(...t)=>e.copyUuid&&e.copyUuid(...t))})])])):A("",!0)};var ut=S({components:{debugBar:rt},setup(){const e=We();e.dispatch("main/RETRIEVE_TOKEN",e.state.main.controllersLinks.accounts),M(R,{default:Je,paidClient:tt})}});const pt={id:"metrics"};ut.render=function(e,t,r,s,i,a){const n=C("debug-bar"),c=C("router-view");return N(),k("div",pt,[w(n),w(c)])};m.extend(O);const gt={cutText(e,t){if(e.split(" ").length>1){const r=e.substring(0,t).split(" ");return r.pop(),r.join(" ")+"..."}return e},formatDate:(e,t)=>m(e).format(t),capitalizeFirstLetter:e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",onlyNumber:e=>e?e.replace(/\D/g,""):"",formatCurrency(e){if(e){const t=e.toString().replace(/\D/g,""),r=t.length%3;let s=t.substr(0,r);const i=t.substr(r).match(/\d{3}/g);let a;return i&&(a=r?".":"",s+=a+i.join(".")),s}return""},timeAgo(e){const t=new Date((e||"").replace(/-/g,"/").replace(/[TZ]/g," ")),r=((new Date).getTime()-t.getTime())/1e3,s=Math.floor(r/86400);return isNaN(s)||s<0||s>=31?m(e).format("MMMM DD, YYYY"):0===s&&((r<60?"just now":r<120&&"1 minute ago")||r<3600&&Math.floor(r/60)+" minutes ago"||r<7200&&"1 hour ago"||r<86400&&Math.floor(r/3600)+" hours ago")||1===s&&"Yesterday"||s<7&&s+" days ago"||s<31&&Math.ceil(s/7)+" weeks ago"},diffTimeByNow(e){const t=m(m().format("YYYY-MM-DD HH:mm:ss").toString()),r=m(m(e).format("YYYY-MM-DD HH:mm:ss").toString()),s=m.duration(r.diff(t)),i=Math.floor(s.asMilliseconds()),a=Math.round(i/864e5),n=Math.round(i%864e5/36e5);let c=Math.round(i%864e5%36e5/6e4);const o=Math.round(i%864e5%36e5%6e4/1e3);return o<30&&o>=0&&(c+=1),{days:a.toString().length<2?"0"+a:a,hours:n.toString().length<2?"0"+n:n,minutes:c.toString().length<2?"0"+c:c,seconds:o.toString().length<2?"0"+o:o}},isset:e=>null!=e&&("object"==typeof e||Array.isArray(e)?Object.keys(e).length:e.toString().length),toRaw:e=>JSON.parse(JSON.stringify(e)),randomNumbers(e,t,r){const s=[0];for(let i=1;i<r;i++)s.push(Math.ceil(Math.random()*(e-t)+t));return s}},yt=e=>{e.config.globalProperties.$h=gt};var vt=S({name:"GlobalChart",props:{type:{type:String,required:!0,default:"line",validator:e=>-1!==["line","pie","doughnut","bar"].indexOf(e)},data:{type:Object,required:!0,default:()=>({})},options:{type:Object,default:()=>({})},width:{type:Number,default:0},height:{type:Number,default:0}},setup(e){const t=E();return P((()=>{e.width&&$(t.value).attr({width:e.width}),e.height&&$(t.value).attr({height:e.height}),(()=>{var r;const s=null==(r=t.value)?void 0:r.getContext("2d"),i=new I.exports.Chart(s,{plugins:[B],type:e.type,data:gt.toRaw(e.data),options:e.options});L(e,(()=>{i.data=gt.toRaw(e.data),i.options=e.options,i.update()}))})()})),{chartRef:t}}});const ht={ref:"chartRef"};vt.render=function(e,t,r,s,i,a){return N(),k("canvas",ht,null,512)};var bt=S({name:"GlobalLoadingIcon",props:{icon:{type:String,default:""},color:{type:String,default:"#2d3748"}}});const ft=w("g",{transform:"matrix(1 0 0 -1 0 80)"},[w("rect",{width:"10",height:"20",rx:"3"},[w("animate",{attributeName:"height",begin:"0s",dur:"4.3s",values:"20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20",calcMode:"linear",repeatCount:"indefinite"})]),w("rect",{x:"15",width:"10",height:"80",rx:"3"},[w("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"80;55;33;5;75;23;73;33;12;14;60;80",calcMode:"linear",repeatCount:"indefinite"})]),w("rect",{x:"30",width:"10",height:"50",rx:"3"},[w("animate",{attributeName:"height",begin:"0s",dur:"1.4s",values:"50;34;78;23;56;23;34;76;80;54;21;50",calcMode:"linear",repeatCount:"indefinite"})]),w("rect",{x:"45",width:"10",height:"30",rx:"3"},[w("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"30;45;13;80;56;72;45;76;34;23;67;30",calcMode:"linear",repeatCount:"indefinite"})])],-1),xt={key:1,width:"20",viewBox:"0 0 57 57",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},_t={fill:"none","fill-rule":"evenodd"},Tt={transform:"translate(1 1)"},St=w("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"},null,-1),Et=w("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"},null,-1),Ct=w("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",from:"5",to:"5",values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"},null,-1),kt=w("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",from:"27",to:"27",values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"},null,-1),wt=w("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"},null,-1),Dt=w("animate",{attributeName:"cx",from:"49",to:"49",begin:"0s",dur:"2.2s",values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"},null,-1),At=w("rect",{y:"10",width:"15",height:"120",rx:"6"},[w("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),w("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),Nt=w("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},[w("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),w("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),Mt=w("rect",{x:"60",width:"15",height:"140",rx:"6"},[w("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),w("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),Rt=w("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},[w("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),w("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),Ot=w("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},[w("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),w("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})],-1),Pt=w("path",{d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z"},[w("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"-360 67 67",dur:"2.5s",repeatCount:"indefinite"})],-1),It=w("path",{d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z"},[w("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"360 67 67",dur:"8s",repeatCount:"indefinite"})],-1),Bt=w("circle",{cx:"12.5",cy:"12.5",r:"12.5"},[w("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Lt=w("circle",{cx:"12.5",cy:"52.5",r:"12.5","fill-opacity":".5"},[w("animate",{attributeName:"fill-opacity",begin:"100ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),$t=w("circle",{cx:"52.5",cy:"12.5",r:"12.5"},[w("animate",{attributeName:"fill-opacity",begin:"300ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Gt=w("circle",{cx:"52.5",cy:"52.5",r:"12.5"},[w("animate",{attributeName:"fill-opacity",begin:"600ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Ut=w("circle",{cx:"92.5",cy:"12.5",r:"12.5"},[w("animate",{attributeName:"fill-opacity",begin:"800ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Yt=w("circle",{cx:"92.5",cy:"52.5",r:"12.5"},[w("animate",{attributeName:"fill-opacity",begin:"400ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Vt=w("circle",{cx:"12.5",cy:"92.5",r:"12.5"},[w("animate",{attributeName:"fill-opacity",begin:"700ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),qt=w("circle",{cx:"52.5",cy:"92.5",r:"12.5"},[w("animate",{attributeName:"fill-opacity",begin:"500ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Ft=w("circle",{cx:"92.5",cy:"92.5",r:"12.5"},[w("animate",{attributeName:"fill-opacity",begin:"200ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})],-1),Kt=w("path",{d:"M30.262 57.02L7.195 40.723c-5.84-3.976-7.56-12.06-3.842-18.063 3.715-6 11.467-7.65 17.306-3.68l4.52 3.76 2.6-5.274c3.717-6.002 11.47-7.65 17.305-3.68 5.84 3.97 7.56 12.054 3.842 18.062L34.49 56.118c-.897 1.512-2.793 1.915-4.228.9z","fill-opacity":".5"},[w("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})],-1),jt=w("path",{d:"M105.512 56.12l-14.44-24.272c-3.716-6.008-1.996-14.093 3.843-18.062 5.835-3.97 13.588-2.322 17.306 3.68l2.6 5.274 4.52-3.76c5.84-3.97 13.592-2.32 17.307 3.68 3.718 6.003 1.998 14.088-3.842 18.064L109.74 57.02c-1.434 1.014-3.33.61-4.228-.9z","fill-opacity":".5"},[w("animate",{attributeName:"fill-opacity",begin:"0.7s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})],-1),zt=w("path",{d:"M67.408 57.834l-23.01-24.98c-5.864-6.15-5.864-16.108 0-22.248 5.86-6.14 15.37-6.14 21.234 0L70 16.168l4.368-5.562c5.863-6.14 15.375-6.14 21.235 0 5.863 6.14 5.863 16.098 0 22.247l-23.007 24.98c-1.43 1.556-3.757 1.556-5.188 0z"},null,-1),Ht=w("g",{fill:"none","fill-rule":"evenodd"},[w("g",{transform:"translate(1 1)","stroke-width":"4"},[w("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),w("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[w("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])])],-1),Qt=w("g",{fill:"none","fill-rule":"evenodd","stroke-width":"4"},[w("circle",{cx:"22",cy:"22",r:"1"},[w("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),w("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]),w("circle",{cx:"22",cy:"22",r:"1"},[w("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),w("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})])],-1),Wt=w("g",{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)","stroke-width":"3"},[w("circle",{cx:"22",cy:"22",r:"6","stroke-opacity":"0"},[w("animate",{attributeName:"r",begin:"1.5s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),w("animate",{attributeName:"stroke-opacity",begin:"1.5s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),w("animate",{attributeName:"stroke-width",begin:"1.5s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]),w("circle",{cx:"22",cy:"22",r:"6","stroke-opacity":"0"},[w("animate",{attributeName:"r",begin:"3s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),w("animate",{attributeName:"stroke-opacity",begin:"3s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),w("animate",{attributeName:"stroke-width",begin:"3s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]),w("circle",{cx:"22",cy:"22",r:"8"},[w("animate",{attributeName:"r",begin:"0s",dur:"1.5s",values:"6;1;2;3;4;5;6",calcMode:"linear",repeatCount:"indefinite"})])],-1),Jt={key:9,width:"20",viewBox:"0 0 58 58",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},Xt={fill:"none","fill-rule":"evenodd"},Zt=w("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"1;0;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),er=w("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;1;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),tr=w("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;1;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),rr=w("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;1;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),sr=w("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;1;0;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),ir=w("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;1;0;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),ar=w("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;0;1;0",calcMode:"linear",repeatCount:"indefinite"},null,-1),nr=w("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;0;0;1",calcMode:"linear",repeatCount:"indefinite"},null,-1),cr={key:10,width:"20",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},or={id:"a",x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%"},lr={fill:"none","fill-rule":"evenodd"},mr={transform:"translate(1 1)"},dr=w("path",{id:"Oval-2",d:"M36 18c0-9.94-8.06-18-18-18",stroke:"url(#a)","stroke-width":"3"},[w("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})],-1),ur=w("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"},null,-1),pr=w("circle",{cx:"15",cy:"15",r:"15"},[w("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),w("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})],-1),gr=w("circle",{cx:"60",cy:"15",r:"9","fill-opacity":"0.3"},[w("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),w("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})],-1),yr=w("circle",{cx:"105",cy:"15",r:"15"},[w("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),w("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})],-1);bt.render=function(e,t,r,s,i,a){return N(),k("span",null,["audio"==e.icon?(N(),k("svg",{key:0,width:"15",viewBox:"0 0 55 80",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[ft],8,["fill"])):"ball-triangle"==e.icon?(N(),k("svg",xt,[w("g",_t,[w("g",Tt,[w("circle",{cx:"5",cy:"50",r:"5",fill:e.color},[St,Et],8,["fill"]),w("circle",{cx:"27",cy:"5",r:"5",fill:e.color},[Ct,kt],8,["fill"]),w("circle",{cx:"49",cy:"50",r:"5",fill:e.color},[wt,Dt],8,["fill"])])])])):"bars"==e.icon?(N(),k("svg",{key:2,width:"20",viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[At,Nt,Mt,Rt,Ot],8,["fill"])):"circles"==e.icon?(N(),k("svg",{key:3,width:"20",viewBox:"0 0 135 135",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[Pt,It],8,["fill"])):"grid"==e.icon?(N(),k("svg",{key:4,width:"20",viewBox:"0 0 105 105",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[Bt,Lt,$t,Gt,Ut,Yt,Vt,qt,Ft],8,["fill"])):"hearts"==e.icon?(N(),k("svg",{key:5,width:"30",viewBox:"0 0 140 64",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[Kt,jt,zt],8,["fill"])):"oval"==e.icon?(N(),k("svg",{key:6,width:"25",viewBox:"-2 -2 42 42",xmlns:"http://www.w3.org/2000/svg",stroke:e.color,class:"w-full h-full"},[Ht],8,["stroke"])):"puff"==e.icon?(N(),k("svg",{key:7,width:"25",viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg",stroke:e.color,class:"w-full h-full"},[Qt],8,["stroke"])):"rings"==e.icon?(N(),k("svg",{key:8,width:"30",viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg",stroke:e.color,class:"w-full h-full"},[Wt],8,["stroke"])):"spinning-circles"==e.icon?(N(),k("svg",Jt,[w("g",Xt,[w("g",{transform:"translate(2 1)",stroke:e.color,"stroke-width":"1.5"},[w("circle",{cx:"42.601",cy:"11.462",r:"5","fill-opacity":"1",fill:e.color},[Zt],8,["fill"]),w("circle",{cx:"49.063",cy:"27.063",r:"5","fill-opacity":"0",fill:e.color},[er],8,["fill"]),w("circle",{cx:"42.601",cy:"42.663",r:"5","fill-opacity":"0",fill:e.color},[tr],8,["fill"]),w("circle",{cx:"27",cy:"49.125",r:"5","fill-opacity":"0",fill:e.color},[rr],8,["fill"]),w("circle",{cx:"11.399",cy:"42.663",r:"5","fill-opacity":"0",fill:e.color},[sr],8,["fill"]),w("circle",{cx:"4.938",cy:"27.063",r:"5","fill-opacity":"0",fill:e.color},[ir],8,["fill"]),w("circle",{cx:"11.399",cy:"11.462",r:"5","fill-opacity":"0",fill:e.color},[ar],8,["fill"]),w("circle",{cx:"27",cy:"5",r:"5","fill-opacity":"0",fill:e.color},[nr],8,["fill"])],8,["stroke"])])])):"tail-spin"==e.icon?(N(),k("svg",cr,[w("defs",null,[w("linearGradient",or,[w("stop",{"stop-color":e.color,"stop-opacity":"0",offset:"0%"},null,8,["stop-color"]),w("stop",{"stop-color":e.color,offset:"100%"},null,8,["stop-color"]),w("stop",{"stop-color":e.color,"stop-opacity":".631",offset:"63.146%"},null,8,["stop-color"])])]),w("g",lr,[w("g",mr,[dr,w("circle",{fill:e.color,cx:"36",cy:"18",r:"1"},[ur],8,["fill"])])])])):"three-dots"==e.icon?(N(),k("svg",{key:11,width:"25",viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:e.color,class:"w-full h-full"},[pr,gr,yr],8,["fill"])):A("",!0)])};var vr=S({name:"GlobalTinySlider",directives:{slider:{mounted(e,{value:t}){((e,t)=>{e.tns=G(o({container:e,slideBy:"page",mouseDrag:!0,touch:!1,autoplay:!0,controls:!0,nav:!1,speed:500},t.options))})(e,t.props)},updated(e){(e=>{e.tns.destroy(),e.tns.rebuild()})(e)}}},props:{options:{type:Object,default:()=>({})},refKey:{type:String,default:null}},setup(e,t){const r=E();return P((()=>{(()=>{if(e.refKey){const t=U(`bind[${e.refKey}]`);t&&t(r.value)}})()})),l(o({props:e},t),{sliderRef:r})}});const hr={ref:"sliderRef",class:"tiny-slider"};vr.render=function(e,t,r,s,i,a){const n=Y("slider");return V((N(),k("div",hr,[q(e.$slots,"default")],512)),[[n,{props:e.props,emit:e.emit}]])};var br=S({name:"GlobalTippyContent",props:{to:{type:String,default:"span"},options:{type:Object,default:()=>({})},refKey:{type:String,default:null}},setup(e){const t=E();return P((()=>{F(`[name="${e.to}"]`,o({plugins:[K],content:t.value,allowHTML:!0,arrow:j,popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport"}}]},animateFill:!1,animation:"shift-away",theme:"light",trigger:"click"},e.options)),(()=>{if(e.refKey){const r=U(`bind[${e.refKey}]`);r&&r(t.value)}})()})),{tippyRef:t}}});const fr={ref:"tippyRef"};br.render=function(e,t,r,s,i,a){return N(),k("div",fr,[q(e.$slots,"default")],512)};var xr=S({name:"GlobalTippy",props:{show:{type:Boolean,default:!0},content:{type:String,required:!0},tag:{type:String,default:"span"},options:{type:Object,default:()=>({})},refKey:{type:String,default:null}},setup(e){const t=E(),r=()=>{F(t.value,o({plugins:[K],content:e.content,arrow:j,popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport"}}]},animateFill:!1,animation:"shift-away"},e.options))},s=()=>{if(e.refKey){const r=U(`bind[${e.refKey}]`);r&&r(t.value)}};return L((()=>e.show),(e=>{e&&(r(),s())})),P((()=>{r(),s()})),{tippyRef:t}}});xr.render=function(e,t,r,s,i,a){return e.show?(N(),k(z(e.tag),{key:0,ref:"tippyRef"},{default:D((()=>[q(e.$slots,"default")])),_:3},512)):(N(),k(z(e.tag),{key:1},{default:D((()=>[q(e.$slots,"default")])),_:3}))};var _r;(_r=$)("body").on("click",".copy-code",(function(){const e=_r(this).data("target");_r(e).find("textarea")[0].select(),_r(e).find("textarea")[0].setSelectionRange(0,99999),document.execCommand("copy")})),function(e){function t(){e(".metrics-dropdown-box").each((async function(){if(void 0!==e(this).attr("id")&&e(`[data-dropdown-replacer="${e(this).attr("id")}"]`).length&&void 0===e(this).data("dropdown-programmatically")){const t=e(this).attr("id");e(this).removeClass("show"),await setTimeout((()=>{e(`[data-dropdown-replacer="${t}"]`).replaceWith(this),e(this).removeAttr("style"),e(this).removeAttr("data-popper-placement")}),200)}else void 0!==e(this).attr("id")&&!e(`[data-dropdown-replacer="${e(this).attr("id")}"]`).length&&e(this).hasClass("show")&&void 0===e(this).data("dropdown-programmatically")?e(this).remove():"initiate"===e(this).data("dropdown-programmatically")?e(this).attr("data-dropdown-programmatically","showed"):"showed"===e(this).data("dropdown-programmatically")&&e(this).removeAttr("data-dropdown-programmatically")}))}function r(r){const s=e(r).find(".metrics-dropdown-box").first(),i=e(r).find(".metrics-dropdown-toggle"),a=e(r).data("placement")?e(r).data("placement"):"bottom-end",n=`_${Math.random().toString(36).substr(2,9)}`;t(),e(s).length&&("static"===e(r).css("position")&&e(r).css("position","relative"),e(s).css("width",e(s).css("width")),e(`<div data-dropdown-replacer="${n}"></div>`).insertAfter(s),e(s).attr("id",n).appendTo("body"),Q(i[0],s[0],{placement:a}),e(s).addClass("show"))}function s(t){if(e(t).find(".metrics-dropdown-box").length)e(t).find(".metrics-dropdown-box").attr("data-dropdown-programmatically","initiate");else{const t=e("[data-dropdown-replacer]").data("dropdown-replacer");e(`#${t}`).attr("data-dropdown-programmatically","initiate")}r(t)}e("body").on("click",(function(s){const i=e(s.target).closest(".metrics-dropdown"),a=e(i).find(".metrics-dropdown-toggle"),n=e(i).find(".metrics-dropdown-box").first(),c=e(s.target).closest(".metrics-dropdown-box").first(),o=e(s.target).data("dismiss");!e(i).length&&!e(c).length||e(a).length&&!e(n).length||"dropdown"===o?t():e(c).length||r(i)})),e.fn.dropdown=function(r){"show"===r?s(this):"hide"===r?t():"toggle"===r&&function(r){const i=e(r).find(".metrics-dropdown-box").first();e(i).length?s(r):t()}(this)}}($),function(e){const t=[];function r(){let t=52;return e(".modal").each((function(){"auto"!==e(this).css("z-index")&&e(this).css("z-index")>t&&(t=parseInt(e(this).css("z-index")))})),t}function s(t){if(void 0!==e(t)[0])return window.innerWidth-e(t)[0].clientWidth}function i(i){e(`<div data-modal-replacer="${e(i).attr("id")}"></div>`).insertAfter(i),e(i).css({"margin-top":0,"margin-left":0}),e(i).appendTo("body"),setTimeout((()=>{e(i).addClass("show").css("z-index",r()+1)}),200),e("body").css("padding-right",`${parseInt(e("body").css("padding-right"))+s("html")}px`).addClass("overflow-y-hidden"),e(".metrics-modal").removeClass("overflow-y-auto").css("padding-left","0px"),e(i).addClass("overflow-y-auto").css("padding-left",`${s(i)}px`).addClass(e(".metrics-modal.show").length?"metrics-modal__overlap":""),t.forEach((function(r,s){e(i).attr("id")===e(r.el).attr("id")&&"on.show"===r.event&&(t[s].triggerCallback=!0)}))}function a(i){e(i).hasClass("metrics-modal")&&e(i).hasClass("show")&&(e(i).removeClass("show"),setTimeout((()=>{e(i).removeAttr("style").removeClass("metrics-modal__overlap").removeClass("metrics-overflow-y-auto"),e(".metrics-modal").each((function(){parseInt(e(this).css("z-index"))===r()&&e(this).addClass("metrics-overflow-y-auto").css("padding-left",`${s(this)}px`)})),52===r()&&e("body").removeClass("metrics-overflow-y-hidden").css("padding-right",""),e(`[data-modal-replacer="${e(i).attr("id")}"]`).replaceWith(i)}),200),t.forEach((function(r,s){e(i).attr("id")===e(r.el).attr("id")&&"on.hide"===r.event&&(t[s].triggerCallback=!0)})))}e("body").on("click",'a[data-toggle="modal"]',(function(){i(e(this).attr("data-target"))})),e("body").on("click",(function(e){a(e.target)})),e("body").on("click",'[data-dismiss="modal"]',(function(){a(e(this).closest(".modal")[0])})),setInterval((function(){t.forEach((function(e,r){("on.show"===e.event&&e.triggerCallback||"on.hide"===e.event&&e.triggerCallback)&&(e.callback(),t[r].triggerCallback=!1)}))}),300),e.fn.modal=function(r,s){var n;"show"===r?i(this):"hide"===r?a(this):"toggle"===r?e(n=this).hasClass("metrics-modal")&&e(n).hasClass("show")?a(n):i(n):"on.show"===r?function(e,r){t[t.length]={el:e,event:"on.show",triggerCallback:!1,callback:r}}(this,s):"on.hide"===r&&function(e,r){t[t.length]={el:e,event:"on.hide",triggerCallback:!1,callback:r}}(this,s)}}($),function(e){e("body").on("click",'a[data-toggle="tab"]',(function(){e(this).closest(".nav-tabs").find('a[data-toggle="tab"]').removeClass("active"),e(this).addClass("active");const t=e(this).attr("data-target");e(t).closest(".tab-content").find(".tab-content__pane").removeClass("active"),e(t).addClass("active")}))}($);const{storePsMetrics:Tr}=window,Sr=Tr.context.i18n.isoCode?Tr.context.i18n.isoCode:"",Er=Object.assign("settings"===Tr.context.app&&Tr.settings.translations?Tr.settings.translations:{},o({},"dashboard"!==Tr.context.app&&"metrics"!==Tr.context.app||!Tr.dashboard.translations?{}:Tr.dashboard.translations)),Cr={};Cr[Sr]={currency:{style:"currency",currency:Tr.context.i18n.currencyIsoCode}};const kr=W({locale:Sr,messages:Er,numberFormats:Cr,fallbackLocale:"en",globalInjection:!0});m.extend(J);var wr=S({name:"TopBarButtonDate",setup(){const e=We(),t="metrics_preview"===te().name,{appContext:{config:{globalProperties:{$segment:r}}}}=re(),{t:s}=X(),i=Z((()=>e.state.main.slugButtonDate)),a=Z((()=>e.state.main.todayIsAccessible)),n=Z((()=>e.state.main.accounts.plan)),c=Z((()=>e.getters["main/IS_FIRST_ACCESS"])),d=Z((()=>e.getters["main/IS_FIRST_SYNC"])),u=Z((()=>e.getters["main/GET_IS_ADVANCED"])),p=Z((()=>{const e=new Date;return u.value||e.setDate(e.getDate()-1),e})),g=Z((()=>{const e=new Date;return u.value?(e.setMonth(e.getMonth()-14),e):(e.setMonth(e.getMonth()-3),e)})),y=E(null),v=Z((()=>{const t=e.state.main.dateRange;return"custom"===i.value&&(null==t?void 0:t.startDate)?`${m(t.startDate).locale(e.state.main.isoCode).format("LL")} - ${m(t.endDate).locale(e.state.main.isoCode).format("LL")}`:s("dates.custom")})),h=[{slug:"today",label:s("dates.today"),lessAccessible:"metrics-advanced",disableOnRoute:!0,displayedOnDashboard:!1,onPress:()=>b("today")},{slug:"yesterday",label:s("dates.yesterday"),lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!0,onPress:()=>b("yesterday")},{slug:"7d",label:s("dates.7days"),lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!0,onPress:()=>b("7d")},{slug:"30d",label:s("dates.30days"),lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!0,onPress:()=>b("30d")},{slug:"3m",label:s("dates.3months"),lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!1,onPress:()=>b("3m")},{slug:"6m",label:s("dates.6months"),lessAccessible:"metrics-advanced",disableOnRoute:!1,displayedOnDashboard:!1,onPress:()=>b("6m")},{slug:"custom",label:v,lessAccessible:"metrics-free",disableOnRoute:!1,displayedOnDashboard:!1,onPress:()=>{e.dispatch("main/SET_SLUG_BUTTON_DATE","custom"),e.dispatch("main/SET_ERROR_ON_KPI",!1),y.value.show()}}];P((()=>{const t=document.getElementById("metrics");b(e.getters["main/GET_SLUG_BUTTON_DATE"]),y.value=new ee({element:document.getElementById("top-bar-datepicker"),autoApply:!0,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,parentEl:t,maxDate:p.value,minDate:g.value,mobileFriendly:!0,lang:e.state.main.isoCode,dropdowns:{minYear:2010,maxYear:null,months:!0,years:!0},setup:t=>{t.on("selected",((t,r)=>{const s=m(t.dateInstance).locale(e.state.main.isoCode).format("YYYY-MM-DD"),i=m(r.dateInstance).locale(e.state.main.isoCode).format("YYYY-MM-DD");e.dispatch("main/SET_DATE_RANGE",{startDate:s,endDate:i})}))}})}));const b=t=>{r().track("[MTR] Overview Select Date",l(o({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]}),{slug:t}));const s=m();return{today:()=>{const r=s,i=s;e.dispatch("main/SET_SLUG_BUTTON_DATE",t),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:r.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:i.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},yesterday:()=>{const r=s.subtract(1,"day"),i=r;e.dispatch("main/SET_SLUG_BUTTON_DATE",t),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:r.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:i.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},"7d":()=>{const r=s.subtract(7,"day"),i=s.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE",t),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:r.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:i.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},"30d":()=>{const r=s.subtract(30,"day"),i=s.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE",t),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:r.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:i.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},"3m":()=>{const r=s.subtract(3,"month"),i=s.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE",t),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:r.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:i.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},"6m":()=>{const r=s.subtract(6,"month"),i=s.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE",t),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:r.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:i.locale(e.state.main.isoCode).format("YYYY-MM-DD")})},custom:()=>{const r=e.getters["main/GET_CURRENT_DATE_RANGE"];e.dispatch("main/SET_SLUG_BUTTON_DATE",t),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:r.startDate,endDate:r.endDate})}}[t].call()},f=Z((()=>{if("metrics"===e.state.main.app)return h;let r=[];return h.forEach((e=>{(!t||t&&!0===e.displayedOnDashboard)&&r.push(e)})),r}));return{setDateRangeBySlugButton:b,slugButtonDate:i,plan:n,isAccessible:e=>"metrics-free"===e.lessAccessible||n.value===e.lessAccessible,isFirst:e=>"metrics-free"!==e.lessAccessible&&(c.value||d.value),isFirstAccess:c,isFirstSync:d,isAdvanded:u,isFirstAccessFn:e=>"metrics-free"!==e.lessAccessible&&c.value,isFirstSyncFn:e=>"metrics-free"!==e.lessAccessible&&d.value,isDisableOnRoute:e=>e.disableOnRoute&&!a.value,getDisplayedButtons:f,changeSelectDate:function(e){for(var t in h){const r=h[t];r.slug===e.target.value&&(y.value.hide(),r.onPress())}},clickSelectDate:function(e){if("custom"===e.target.value)for(var t in h){const r=h[t];r.slug===e.target.value&&r.onPress()}}}}});const Dr={class:"metrics-hidden md:metrics-flex metrics-rounded-lg metrics-text-md",role:"group"},Ar={class:"metrics-flex metrics-items-center metrics-justify-center metrics-truncate"},Nr=w("div",{id:"top-bar-datepicker",class:"metrics-w-0 metrics-p-0 metrics-border-none"},null,-1);wr.render=function(e,t,r,s,i,a){const n=C("clock-icon"),c=C("tippy"),o=C("refresh-cw-icon"),l=C("lock-icon");return N(),k("div",null,[w("div",Dr,[(N(!0),k(se,null,ie(e.getDisplayedButtons,((t,r)=>(N(),k("button",{disabled:!e.isAccessible(t)||e.isFirst(t)||e.isDisableOnRoute(t),key:t.slug,type:"button",class:["metrics-button-date metrics-border metrics-text-white",{"active  metrics-text-white metrics-border-theme-43 metrics-bg-theme-43 metrics-cursor-default":e.slugButtonDate===t.slug,"metrics-bg-white metrics-border-gray-400 metrics-text-gray-700 metrics-zoom-in-no-shadow ":e.slugButtonDate!==t.slug,"metrics-rounded-l-lg":0===r,"metrics-rounded-r-lg":r===e.getDisplayedButtons.length-1,"metrics-cursor-not-allowed":!e.isAccessible(t)||e.isFirst(t)||e.isDisableOnRoute(t)}],onClick:ae((e=>t.onPress()),["prevent"])},[w("span",Ar,[e.isFirstAccessFn(t)?(N(),k(c,{key:0,tag:"div",content:e.$t("advancedPlan.menuTooltipWait")},{default:D((()=>[w(n,{class:"metrics-w-4 metrics-h-4 metrics-mr-1"})])),_:1},8,["content"])):e.isFirstSyncFn(t)?(N(),k(c,{key:1,tag:"div",content:e.$t("advancedPlan.menuTooltipWait")},{default:D((()=>[w(o,{class:"metrics-w-4 metrics-h-4 metrics-mr-1"})])),_:1},8,["content"])):e.isAccessible(t)?e.isDisableOnRoute(t)?(N(),k(c,{key:3,tag:"div",content:e.$t("advancedPlan.menuTooltipTodayNotAccessible")},{default:D((()=>[w(l,{class:"metrics-w-4 metrics-h-4 metrics-mr-1"})])),_:1},8,["content"])):A("",!0):(N(),k(c,{key:2,tag:"div",content:e.$t("advancedPlan.menuTooltipLock")},{default:D((()=>[w(l,{class:"metrics-w-4 metrics-h-4 metrics-mr-1"})])),_:1},8,["content"])),ne(" "+ce("string"==typeof t.label?t.label:t.label.value),1)])],10,["disabled","onClick"])))),128)),Nr]),w("select",{onChange:t[1]||(t[1]=t=>e.changeSelectDate(t)),onClick:t[2]||(t[2]=t=>e.clickSelectDate(t)),class:"metrics-appearance-none metrics-block md:metrics-hidden metrics-mb-0 metrics-py-2 metrics-px-4 metrics-pr-12 metrics-border-gray-400 metrics-border metrics-box metrics-text-base metrics-select-custom"},[(N(!0),k(se,null,ie(e.getDisplayedButtons,((t,r)=>(N(),k("option",{key:r,disabled:!e.isAccessible(t)||e.isFirst(t)||e.isDisableOnRoute(t),class:"metrics-button-date metrics-border metrics-text-black metrics-ml-auto",selected:e.slugButtonDate===t.slug,value:t.slug},ce("string"==typeof t.label?t.label:t.label.value),9,["disabled","selected","value"])))),128))],32)])};var Mr=S({name:"CompareModeSwitcher",setup(){const e=We(),t=Z((()=>e.state.main.compareMode)),r=Z((()=>e.state.main.dateRangeTooLarge)),{appContext:{config:{globalProperties:{$segment:s}}}}=re();return{dateRangeTooLarge:r,compareMode:t,switchMode:()=>{s().track("[MTR] Overview Compare Mode",l(o({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]}),{value:!t.value})),e.dispatch("main/SET_COMPARE_MODE",!t.value)}}}});const Rr={class:"metrics-relative metrics-z-10 metrics-mt-8 metrics-mb-8 sm:metrics-mb-0"},Or={class:"metrics-flex metrics-items-center"},Pr={id:"metrics-tour-compare-mode",class:"metrics-w-auto metrics-flex metrics-items-center metrics-m-auto sm:metrics-mr-0 sm:metrics-ml-auto metrics-mt-0"};Mr.render=function(e,t,r,s,i,a){const n=C("Tippy");return N(),k("div",Rr,[w("div",Or,[w("div",Pr,[w("div",{class:["metrics-mr-3 metrics-inline-flex",{"metrics-opacity-50":e.dateRangeTooLarge}]},ce(e.$t("compareMode.title")),3),e.dateRangeTooLarge?(N(),k(n,{key:0,tag:"div",content:e.$t("compareMode.dateRangeError"),class:{"metrics-opacity-50":e.dateRangeTooLarge}},{default:D((()=>[w("input",{class:"metrics-input metrics-input--switch metrics-border metrics-border-theme-43",type:"checkbox",checked:e.compareMode,disabled:e.dateRangeTooLarge,onClick:t[1]||(t[1]=(...t)=>e.switchMode&&e.switchMode(...t))},null,8,["checked","disabled"])])),_:1},8,["content","class"])):(N(),k("input",{key:1,class:"metrics-input metrics-input--switch metrics-border metrics-border-theme-43",type:"checkbox",checked:e.compareMode,disabled:e.dateRangeTooLarge,onClick:t[2]||(t[2]=(...t)=>e.switchMode&&e.switchMode(...t))},null,8,["checked","disabled"]))])])])};var Ir=S({name:"AlertConfigurationProblem",setup(){const e=We(),t=Z((()=>e.getters["main/GET_IS_ADVANCED"])),r=Z((()=>e.state.main.maxUserConnections<50&&!t.value)),s=Z((()=>e.state.main.links.faq)),i=Z((()=>e.state.main.errorOnKpi));return{errorConfiguration:Z((()=>r)).value,maxUserConnections:r,goToHelp:()=>{window.location.href=`${s.value}`},errorOnKpi:i}}});const Br={key:0,class:"metrics-relative metrics-pt-5 metrics-z-10"},Lr={class:"metrics-bg-indigo-100 metrics-border-l-4 metrics-border-theme-43 metrics-text-theme-43 metrics-p-4",role:"alert"},$r={class:"metrics-font-bold"};Ir.render=function(e,t,r,s,i,a){const n=C("i18n-t");return e.errorConfiguration&&e.errorOnKpi?(N(),k("div",Br,[w("div",Lr,[w("p",$r,ce(e.$t("boxalert.title")),1),w(n,{keypath:"boxalert.text"},oe({linktext:D((()=>[w("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline",onClick:t[1]||(t[1]=ae(((...t)=>e.goToHelp&&e.goToHelp(...t)),["prevent"]))},ce(e.$t("boxalert.link")),1)])),_:2},[e.maxUserConnections?{name:"typeerror",fn:D((()=>[ne(ce(e.$t("boxalert.maxUserConnections")),1)]))}:void 0]),1024)])])):A("",!0)};const Gr=(e,t)=>{let r=!1;return e.forEach((e=>{e.pageName!==t.name||e.ignore?!r&&e.subMenu&&(r=Gr(e.subMenu,t)):r=!0})),r},Ur=(e,t)=>(e.forEach(((r,s)=>{if("string"!=typeof r){let i=e[s];i.active=(r.pageName===t.name||r.subMenu&&Gr(r.subMenu,t))&&!r.ignore,r.subMenu&&(i.activeDropdown=Gr(r.subMenu,t),i=o(o({},r),Ur(r.subMenu,t)))}})),e),Yr=(e,t,r=!1)=>{e.subMenu?e.activeDropdown=!e.activeDropdown:r||t.push({name:e.pageName})};E(!1);const Vr=le`query getRevenue($inputData: InputData!) {
  revenueGross(InputData: $inputData) {
    currentValue
    previousValue
  } 
}`,qr=le`query getOrders($inputData: InputData!) {
  orderSum(InputData: $inputData) {
    currentValue
    previousValue
  }
}`,Fr=le`query getAbandonedCart($inputData: InputData!) {
  cartAbandonedAverage(InputData: $inputData) {
    currentValue
    previousValue
  } 
}`,Kr=le`query getAvgCartValue($inputData: InputData!) {
  orderAverage(InputData: $inputData) {
    currentValue
    previousValue
  } 
}`,jr=le`query getSessions($inputData: InputData!) {
  sessions(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,zr=le`query getUniqueUsers($inputData: InputData!) {
  uniqueUsers(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,Hr=le`query getBounceRate($inputData: InputData!) {
  bounceRate(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,Qr=le`query getAvgSessions($inputData: InputData!) {
  avgSessions(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,Wr=le`query getRevenue($inputData: InputData!) {
  revenueGrossGroupByDate(InputData: $inputData) {
    currentPeriod {
      currentValue
      date
    }
    previousPeriod {
      currentValue
      date
    }
  } 
}`,Jr=le`
  query getSessions(
    $inputData: InputData!
    $granularity: String!
  ) {
    sessionsGroupByDate(
      InputData: $inputData,
      Granularity: $granularity
    ) {
      currentPeriod {
        currentValue
        date
      }
      previousPeriod {
        currentValue
        date
      }
    }
  }
`,Xr=le`
  # Your GraphQL query or mutation goes here
  query sessionsByCategories(
    $inputData: InputData!
    $limit: Float!
    $isoCode: String!
  ) {
    sessionsGroupByCategory(
      InputData: $inputData
      Limit: $limit
      IsoCode: $isoCode
    ) {
      categories {
        previousValue
        currentValue
        category
      }
      total {
        totalCurrent
        totalPrevious
      }
    }
  }
`,Zr=le`query getOrderAverage($inputData: InputData!) {
  orderAverage(InputData: $inputData) {
    currentValue
    previousValue
  }
}`,es=le`query getOrderAverageGroupByDate($inputData: InputData!) {
  orderAverageGroupByDate(InputData: $inputData) {
    currentPeriod {
      currentValue
      date
    }
    previousPeriod {
      currentValue
      date
    }
  }
}`,ts=le`query getOrderSumGroupBySource($inputData: InputData!) {
  orderSumGroupBySource(InputData: $inputData) {
    currentPeriod {
      currentValue
      source
    }
    previousPeriod {
      currentValue
      source
    }
  }
}`,rs=le`
  query getTopProduct(
    $inputData: InputData!
    $limit: Float!
    $isoCode: String!
  ) {
    productTopSeller(InputData: $inputData, Limit: $limit, IsoCode: $isoCode) {
      currentPeriod {
        id
        name
        quantity
        amount
      }
      previousPeriod {
        id
        name
        quantity
        amount
      }
    }
  }
`,ss=le`
  query getTopOneProduct(
    $inputData: InputData!
    $limit: Float!
    $isoCode: String!
  ) {
    productTopSeller(InputData: $inputData, Limit: $limit, IsoCode: $isoCode) {
      currentPeriod {
        name
        quantity
        amount
      }
      previousPeriod {
        name
        quantity
        amount
      }
    }
  }
`,is=le`query getOrderSumGroupByDate($inputData: InputData!) {
    orderSumGroupByDate(InputData: $inputData) {
        currentPeriod {
            currentValue
            date
        }
        previousPeriod {
            currentValue
            date
        }
    }
}`,as=le`
  query revenueByCategory($inputData: InputData!, $isoCode: String!) {
    revenueGrossByCategories(InputData: $inputData, IsoCode: $isoCode) {
      currentValue
      previousValue
      categoryId
      category
    }
  }
`,ns=le`
  # Your GraphQL query or mutation goes here
  query revenueDistribution($inputData: InputData!) {
    revenueDistribution(InputData: $inputData) {
      currentValue
      previousValue
      category
    }
  }
`,cs=le`subscription getAccount($shopId: String!) {
  accountUpgraded(shopId: $shopId) {
    shop_id,
    plan
  } 
}`,os=le`
  subscription getAccount($shopId: String!) {
    accountFirstSync(shopId: $shopId) {
      shop_id
      first_sync_asked_at
    }
  }
`,ls=le`
  subscription getAccount($shopId: String!) {
    accountLastSync(shopId: $shopId) {
      shop_id
      last_sync_at
    }
  }
`,ms=le`
  subscription getAccount($shopId: String!) {
    accountStartSync(shopId: $shopId) {
      shop_id
      start_sync_at
    }
  }
`,ds=le`
  query getAccount($shopId: String!) {
    account(shopId: $shopId) {
      shop_id
      plan
      shop_url
      email_account
      last_sync_at
      first_sync_asked_at
      start_sync_at
    }
  }
`,us=le`query getConversionRate($inputData: InputData!) {
  conversionRate(InputData: $inputData) {
    currentValue,
    previousValue
  } 
}`,ps=le`query getTipsCards($category: String, $language: String) {
  tipscards(category: $category, language: $language) {
    uuid
    default_language
    title
    description
    language
    label
    redirect_url
  }
}`,gs=le`
  mutation setProductTourFreeDone($done: Boolean!) {
    setProductTourFreeDone(done: $done)
  }
`,ys=le`
  mutation setProductTourAdvancedDone($done: Boolean!) {
    setProductTourAdvancedDone(done: $done)
  }
`,vs=le`
  query getOrders($inputData: InputData!) {
    orderCountPartNewCustomer(InputData: $inputData) {
      currentValue
      previousValue
    }
  }
`,hs=le`
  query getOrders($inputData: InputData!) {
    orderCountPartReturningCustomer(InputData: $inputData) {
      currentValue
      previousValue
    }
  }
`,bs=le`
  query getOrders($inputData: InputData!) {
    orderCountPartByCustomerCategory(InputData: $inputData) {
      currentValue
      previousValue
      category
    }
  }
`,fs=le`
    query revenueGrossGroupByPaymentsMethods($inputData: InputData!) {
    revenueGrossGroupByPaymentsMethods(InputData: $inputData) {
      currentValue,
      paymentMethod
    }
  }
`;var xs=S({components:{TopBarButtonDate:wr,CompareModeSwitcher:Mr,AlertConfigurationProblem:Ir},setup(){const{t:e}=X(),t=te(),r=pe(),s=We(),{appContext:{config:{globalProperties:{$segment:i}}}}=re(),a=E([]),n=Z((()=>Ur(s.state.topMenu.menu,t))),c=E({shopId:s.state.main.accounts.shopID}),d=E({title:"",description:""}),u=Z((()=>s.state.main.fullscreen)),p=Z((()=>s.getters["main/GET_IS_ADVANCED"])),g=Z((()=>s.state.main.controllersLinks.metrics)),y=Z((()=>s.getters["main/PRODUCT_TOUR_DONE"])),{tourAdvanced:v,tourFree:h}=(e=>{const t={compareMode:{element:"#metrics-tour-compare-mode",popover:{title:e("tour.compareMode.title"),description:e("tour.compareMode.description")}},options:{element:"#metrics-tour-options",popover:{title:e("tour.options.title"),description:e("tour.options.description"),position:"left"}},panel:{element:".metrics-top-nav>ul",stageBackground:"white",popover:{title:e("tour.panels.title"),description:e("tour.panels.description")}},feedback:{element:"#metrics-tour-feedback",popover:{title:e("tour.feedback.title"),description:e("tour.feedback.description"),position:"top"}},tooltip:{element:"#metrics-tour-tips-card",popover:{title:e("tour.tips.title"),description:e("tour.tips.description"),position:"top"}}};return{tourFree:[{element:"#subtab-AdminStats",popover:{title:e("tour.start.title"),description:e("tour.start.description"),position:"right"},stageBackground:"#202226"},{element:".metrics-search",popover:{title:e("tour.daterange.title"),description:e("tour.daterange.description")}},t.options,t.panel,t.compareMode,{element:"#metrics-tour-box-upgrade",popover:{title:e("tour.advanced.title"),description:e("tour.advanced.description")}},t.feedback,l(o({},t.tooltip),{beforeSelect:()=>{setTimeout((()=>{$(".driver-next-btn").addClass("metrics-bg-theme-44 metrics-border-theme-44")}),500)}})],tourAdvanced:[{element:"#metrics-tour-start",popover:{title:e("tour.advanced_start.title"),description:e("tour.advanced_start.description")}},{element:".metrics-search",popover:{title:e("tour.advanced_daterange.title"),description:e("tour.advanced_daterange.description")}},t.panel,{element:"#metrics-tour-sync",popover:{title:e("tour.advanced_sync.title"),description:e("tour.advanced_sync.description")}},l(o({},t.feedback),{beforeSelect:()=>{setTimeout((()=>{$(".driver-next-btn").addClass("metrics-bg-theme-44 metrics-border-theme-44")}),500)}})]}})(e),b=E(!1),f=$("#metrics")[0],x=E(0),_=Z((()=>`metrics-bg-gray-248 metrics-z-50 metrics-shadow-md metrics--mx-3 sm:metrics--mx-8 metrics-px-3 sm:metrics-px-8 metrics-pt-0 sm:metrics-pt-0 metrics-pt-0 ${b.value?"metrics-relative metrics-mt-0":"metrics-sticky"} ${u.value?"metrics-top-0":"metrics-top-1"}`));let T=parseInt(function(){for(var e="metrics_visits=",t=document.cookie.split(";"),r=0;r<t.length;r++){for(var s=t[r];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(e))return s.substring(e.length,s.length)}return""}());T||(T=0),T+=1,i().identify(s.state.main.accounts.shopID,{domain:s.state.main.shop.domain,name:s.state.main.user.email?s.state.main.user.email.split("@")[0]:"",email:s.state.main.user.email,language:s.state.main.isoCode,version_ps:s.state.main.version_ps,mtr_module_version:s.state.main.version_module,mtr_plan:s.state.main.accounts.plan,mtr_nb_visits:T,mtr_last_activity_date:m().format("YYYY-MM-DD"),mtr_connected:s.getters["main/PSX_IS_CONNECTED"],mtr_ga_connected:s.getters["main/GA_IS_CONNECTED"],mtr_product_tour_free:s.state.main.productTourFreeDone,mtr_product_tour_advanced:s.state.main.productTourAdvancedDone,mtr_product_tour_free_date:s.state.main.productTourFreeDoneDate,mtr_product_tour_advanced_date:s.state.main.productTourAdvancedDoneDate}),function(e){var t=new Date;t.setTime(t.getTime()+5184e6);var r="expires="+t.toUTCString();document.cookie="metrics_visits="+e+";"+r+";path=/"}(T);const{mutate:S,error:C}=me(gs),{mutate:k,error:w}=me(ys);L((()=>[C.value,w.value]),(([e,t])=>{if(!(x.value<3))throw e||t;e&&S({done:!0}),t&&k({done:!0}),x.value++})),L((()=>b.value),(e=>{e?f.classList.add("noscroll"):f.classList.remove("noscroll")}));const D=t=>{let r;r=void 0!==t?t:p.value?"metrics-advanced":"metrics-free",i().track("[MTR] Overview Metrics Start Tour",l(o({module:"ps_metrics"},s.getters["main/GET_USER_EMAIL"]&&{email:s.getters["main/GET_USER_EMAIL"]}),{tour:r}));const a={"metrics-free":h,"metrics-advanced":v},n=new ge({className:"metrics-box",stageBackground:"#f1f5f8",keyboardControl:!0,closeBtnText:e("tour.closeButton"),prevBtnText:e("tour.previousButton"),nextBtnText:e("tour.nextButton"),doneBtnText:e("tour.doneButton"),onHighlighted:e=>{var t=ye(a[r],(t=>$(t.element)[0]===e.getNode()));t&&t.beforeSelect&&t.beforeSelect()},onNext:e=>{ye(a[r],(t=>$(t.element)[0]===e.getNode()))&&i().track("[MTR] Overview Next Product Tour",l(o({module:"ps_metrics"},s.getters["main/GET_USER_EMAIL"]&&{email:s.getters["main/GET_USER_EMAIL"]}),{tour:r}))},onReset:()=>{b.value=!1,window.scrollTo(0,0),"metrics-advanced"===r?k({done:!0}):S({done:!0})}});if(b.value=!0,f.scroll(0,0),!a[r]){b.value=!1;const t=e("tour.noTourForPlanAvailable",r);throw new Error(t)}n.defineSteps(a[r]),setTimeout((()=>{n.start()}),0)};P((()=>{const e=y.value;(!e||"metrics-free"===e&&!0===p.value)&&setTimeout((()=>{D(p.value?"metrics-advanced":"metrics-free")}),2e3)}));const A=Z((()=>s.state.main.todayIsAccessible)),N=Z((()=>s.getters["main/GET_SLUG_BUTTON_DATE"])),{result:M}=de(cs,c,{fetchPolicy:"network-only",clientId:"paidClient"}),{result:R}=de(os,c,{fetchPolicy:"network-only",clientId:"paidClient"}),{result:O}=de(ls,c,{fetchPolicy:"network-only",clientId:"paidClient"}),{result:I}=de(ms,c,{fetchPolicy:"network-only",clientId:"paidClient"}),B=Z((()=>s.state.main.links.faq)),G=Z((()=>s.state.main.links.settings)),U=function(){for(var e="1f7f8a936d0bf02d1a36ae49bb4f010c=",t=document.cookie.split(";"),r=0;r<t.length;r++){for(var s=t[r];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(e))return s.substring(e.length,s.length)}return""}();if(U){const e=JSON.parse(U);s.dispatch("main/SET_ACCOUNT",e)}else{localStorage.clear();const{result:e,loading:t,error:r}=ue(ds,c,{fetchPolicy:"network-only",clientId:"paidClient"});L(e,(e=>{s.dispatch("main/SET_ACCOUNT",e.account),function(e){var t=new Date;t.setTime(t.getTime()+864e5);var r="expires="+t.toUTCString();document.cookie="1f7f8a936d0bf02d1a36ae49bb4f010c="+JSON.stringify(e)+";"+r+";path=/"}(e.account)}))}L(M,(e=>{s.dispatch("main/SET_PLAN",e.accountUpgraded)})),L(R,(e=>{s.dispatch("main/SET_FIRST_SYNC",e.accountFirstSync.first_sync_asked_at)})),L(O,(e=>{s.dispatch("main/SET_LAST_SYNC",e.accountLastSync.last_sync_at)})),L(I,(e=>{s.dispatch("main/SET_START_SYNC",e.accountStartSync.start_sync_at)})),L(Z((()=>t.path)),(()=>{a.value=gt.toRaw(n.value)})),P((()=>{a.value=gt.toRaw(n.value)}));const Y=E(!1),V=e=>A.value&&e.isDisabledOnToday&&"today"===N.value;return{formattedMenu:a,router:r,linkTo:Yr,goToHelp:()=>{window.location.href=`${B.value}`},goToSettings:()=>{i().track("[MTR] Overview Go To Settings",o({module:"ps_metrics"},s.getters["main/GET_USER_EMAIL"]&&{email:s.getters["main/GET_USER_EMAIL"]})),window.location.href=`${G.value}`},toggleFullscreen:()=>{i().track("[MTR] Overview Full Screen",l(o({module:"ps_metrics"},s.getters["main/GET_USER_EMAIL"]&&{email:s.getters["main/GET_USER_EMAIL"]}),{fullScreen:!u.value})),Y.value||(Y.value=!0,s.dispatch("main/TOGGLE_FULLSCREEN",!u.value),window.location.href=`${g.value}&fullscreen=${u.value}`)},fullscreen:u,startTour:D,showTourText:d,topBarClasses:_,isDisabled:V,changeSelectNav:function(e,t){for(var r in a.value){const s=a.value[r];s.title===e.target.value&&Yr(s,t,V(s))}}}}}),_s="/modules/ps_metrics/views/assets/logo-ps-metrics.7e5c2dc7.png",Ts="/modules/ps_metrics/views/assets/icon-ps-metrics.61b9cf11.png";const Ss={class:"metrics-h-screen"},Es={class:"metrics-top-bar-boxed metrics-flex metrics-items-center"},Cs=w("span",{id:"metrics-tour-start"},[w("img",{alt:"Prestashop Metrics",class:"metrics-h-7 metrics-hidden xl:metrics-flex",src:_s}),w("img",{alt:"Prestashop Metrics",class:"metrics-h-7 metrics-flex xl:metrics-hidden",src:Ts})],-1),ks={class:"\n            metrics-intro-x metrics-relative metrics-ml-auto metrics-mr-auto\n          "},ws={class:"metrics-search metrics-block"},Ds={class:"\n                sm:metrics-ml-auto\n                metrics-mt-0 metrics-relative metrics-text-gray-700\n                dark:metrics-text-gray-300\n              "},As={id:"metrics-tour-options",class:"metrics-flex metrics-items-center"},Ns={class:"\n              metrics-intro-x metrics-relative metrics-mr-2 metrics-ml-2\n              lg:metrics-mr-1\n              xl:metrics-mr-2\n              lg:metrics-ml-1\n              xl:metrics-ml-2\n              metrics-cursor-pointer metrics-hidden\n              lg:metrics-block\n            "},Ms={class:"\n              metrics-intro-x metrics-relative metrics-mr-2 metrics-ml-2\n              lg:metrics-mr-1\n              xl:metrics-mr-2\n              lg:metrics-ml-1\n              xl:metrics-ml-2\n              metrics-cursor-pointer metrics-hidden\n              lg:metrics-block\n            "},Rs={class:"\n              metrics-intro-x metrics-relative metrics-mr-2 metrics-ml-2\n              lg:metrics-mr-1\n              xl:metrics-mr-2\n              lg:metrics-ml-1\n              xl:metrics-ml-2\n              metrics-cursor-pointer\n            "},Os={class:"metrics-pt-0 metrics-top-nav metrics-z-0"},Ps={class:"metrics-hidden md:metrics-flex"},Is={class:"metrics-top-menu__title"},Bs={class:"metrics-top-menu__title"},Ls={class:"metrics-content metrics-z-0"};xs.render=function(e,t,r,s,i,a){const n=C("router-link"),c=C("top-bar-button-date"),o=C("maximize-icon"),l=C("minimize-icon"),m=C("tippy"),d=C("help-circle-icon"),u=C("settings-icon"),p=C("alert-configuration-problem"),g=C("compare-mode-switcher"),y=C("chevron-down-icon"),v=C("router-view");return N(),k("div",Ss,[w("div",{id:"metrics-tour-topbar",class:e.topBarClasses},[w("div",Es,[w(n,{tag:"a",to:"/",class:"metrics--intro-x metrics-flex metrics-mr-0 xl:metrics-mr-5"},{default:D((()=>[Cs])),_:1}),w("div",ks,[w("div",ws,[w("div",Ds,[w(c)])])]),w("span",As,[w("div",Ns,[w(m,{tag:"span",content:e.$t("menuDropdown.fullscreen")},{default:D((()=>[e.fullscreen?(N(),k(l,{key:1,onClick:t[2]||(t[2]=ae((t=>e.toggleFullscreen()),["prevent"]))})):(N(),k(o,{key:0,onClick:t[1]||(t[1]=ae((t=>e.toggleFullscreen()),["prevent"]))}))])),_:1},8,["content"])]),w("div",Ms,[w(m,{tag:"span",content:e.$t("menuDropdown.faq")},{default:D((()=>[w(d,{onClick:t[3]||(t[3]=ae((t=>e.startTour()),["prevent"]))})])),_:1},8,["content"])]),w("div",Rs,[w(m,{tag:"span",content:e.$t("menuDropdown.settings")},{default:D((()=>[w(u,{onClick:t[4]||(t[4]=ae((t=>e.goToSettings()),["prevent"]))})])),_:1},8,["content"])])])])],2),w(p),w(g),w("nav",Os,[w("ul",Ps,[(N(!0),k(se,null,ie(e.formattedMenu,((t,r)=>(N(),k("li",{key:r},[e.isDisabled(t)?(N(),k(m,{key:0,tag:"span",content:e.$t("advancedPlan.menuTooltipMenuOnTodayNotAccessible"),refKey:t.pageName},{default:D((()=>[w("a",{href:"javascript:;",class:["metrics-top-menu",{"metrics-top-menu--active":t.active,"metrics-cursor-not-allowed":e.isDisabled(t)}],onClick:r=>e.linkTo(t,e.router,e.isDisabled(t))},[w("div",Is,[ne(ce(e.$t(t.title))+" ",1),t.subMenu?(N(),k(y,{key:0,class:"metrics-top-menu__sub-icon"})):A("",!0)])],10,["onClick"])])),_:2},1032,["content","refKey"])):(N(),k("a",{key:1,href:"javascript:;",class:["metrics-top-menu",{"metrics-top-menu--active":t.active,"metrics-cursor-not-allowed":e.isDisabled(t)}],onClick:r=>e.linkTo(t,e.router,e.isDisabled(t))},[w("div",Bs,[ne(ce(e.$t(t.title))+" ",1),t.subMenu?(N(),k(y,{key:0,class:"metrics-top-menu__sub-icon"})):A("",!0)])],10,["onClick"]))])))),128))]),w("select",{onChange:t[5]||(t[5]=t=>e.changeSelectNav(t,e.router)),class:"metrics-appearance-none metrics-bg-gray-248 metrics-block md:metrics-hidden metrics-py-2 metrics-px-4 metrics-pr-12 metrics-box metrics-border-none metrics-shadow-none metrics-rounded-b-none metrics-text-sm metrics-select-custom"},[(N(!0),k(se,null,ie(e.formattedMenu,((t,r)=>(N(),k("option",{key:r,disabled:e.isDisabled(t),selected:t.active,value:t.title},ce(e.$t(t.title)),9,["disabled","selected","value"])))),128))],32)]),w("div",Ls,[w(v)])])};var $s=S({components:{},setup(){P((()=>{$("body").removeClass("app").removeClass("login").addClass("error-page")}))}});const Gs={class:"container"},Us={class:"\n        error-page\n        flex flex-col\n        lg:flex-row\n        items-center\n        justify-center\n        h-screen\n        text-center\n        lg:text-left\n      "},Ys={class:"-intro-x lg:mr-20"},Vs=ve('<div class="text-white mt-10 lg:mt-0"><div class="intro-x text-8xl font-medium">404</div><div class="intro-x text-xl lg:text-3xl font-medium mt-5"> Oops. This page has gone missing. </div><div class="intro-x text-lg mt-3"> You may have mistyped the address or the page may have moved. </div><button class="\n            intro-x\n            button button--lg\n            border border-white\n            dark:border-dark-5 dark:text-gray-300\n            mt-10\n          "> Back to Home </button></div>',1);$s.render=function(e,t,r,s,i,a){return N(),k("div",Gs,[w("div",Us,[w("div",Ys,[w("img",{alt:"RxD Tailwind HTML Admin Template",class:"h-48 lg:h-auto",src:require("@/assets/images/error-illustration.svg")},null,8,["src"])]),Vs])])};var qs=S({name:"LoaderBoxNumber"});const Fs={class:"metrics-grid metrics-grid-cols-4 metrics-gap-1 metrics-h-full"},Ks=ve('<div class="metrics-col-span-1 metrics-h-8 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-2 metrics-h-3"></div><div class="metrics-h-3 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse metrics-items-start"></div><div class="metrics-h-6 metrics-col-span-2 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse metrics-mt-3"></div><div class="metrics-col-span-3 metrics-h-1"></div><div class="metrics-col-span-3 metrics-h-3 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div>',6);qs.render=function(e,t,r,s,i,a){return N(),k("div",Fs,[Ks])};var js=S({name:"BoxAnalyticsMustBeLinked",props:{horizontal:{type:Boolean,default:!1},largeIcon:{type:Boolean,default:!1}},setup(){const e=he();return{linkToSettings:()=>{window.location=e.state.main.configurationLink}}}}),zs="/modules/ps_metrics/views/assets/oh.678b5724.svg";const Hs={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-center metrics-justify-center"},Qs={class:"metrics-w-full"},Ws={class:"metrics-justify-center metrics-flex metrics-mb-5"},Js={class:"metrics-mt-3 metrics-intro-x"},Xs={class:"metrics-text-center metrics-text-gray-777 metrics-text-xs"};js.render=function(e,t,r,s,i,a){const n=C("i18n-t");return N(),k("div",null,[w("div",Hs,[w("div",Qs,[w("div",{class:["metrics-intro-x",{"metrics-float-left metrics-pl-6":e.horizontal}]},[w("div",Ws,[w("img",{alt:"Prestashop Metrics",class:e.largeIcon?"metrics-w-20":"metrics-w-10",src:zs},null,2)])],2),w("div",Js,[w("div",Xs,[w(n,{keypath:"error.analyticsSentence"},{linktext:D((()=>[w("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline",onClick:t[1]||(t[1]=(...t)=>e.linkToSettings&&e.linkToSettings(...t))},ce(e.$t("error.analyticsSentenceLink")),1)])),_:1})])])])])])};var Zs=S({name:"ReportNumber",props:{result:{type:Object,default:()=>({})},isCurrency:{type:Boolean,default:!1},isPercent:{type:Boolean,default:!1},isTime:{type:Boolean,default:!1},tippyContentKey:{type:String,default:"boxNumber.revenueGross"},icon:{type:String,default:"ShoppingCartIcon"},title:{type:String,default:""},positiveIsLower:{type:Boolean,default:!1}},setup:function(e){const t=We(),r=Z((()=>t.state.main.compareMode)),s=Z((()=>e.result.currentValue)),i=Z((()=>e.result.previousValue)),a=Z((()=>Math.round(100*(parseFloat(s.value)+Number.EPSILON))/100)),n=Z((()=>s.value-i.value)),c=Z((()=>Math.round(100*(n.value+Number.EPSILON))/100)),o=Z((()=>{let t;return t=i.value>=1?e.isPercent?Number(s.value-i.value):Number((s.value-i.value)/i.value*100):Number(100*s.value),Math.round(100*(t+Number.EPSILON))/100})),l=Z((()=>{const e=o.value;return(e<0?-1*e:e).toFixed(0)})),m=Z((()=>{const t=Math.sign(o.value);return e.positiveIsLower?t<=0:t>=0})),{t:d}=X(),u=Z((()=>{let e=l.value+"% ";return e+=m.value?d("boxNumber.higher"):d("boxNumber.lower"),e+=" "+d("boxNumber.thanLastPeriod"),e}));return{formatTime:e=>{const t=~~(e/3600),r=~~(e%3600/60),s=~~e%60;let i="";return t>0&&(i+=t+":"+(r<10?"0":"")),i+=r+"'"+(s<10?"0":""),i+=s+"''",i},currentValue:s,previousValue:i,percentCompare:o,isPositive:m,compareMode:r,diffValue:n,diffValueClean:c,percentCompareAbsolute:l,currentValueClean:a,tippyContent:u}}}),ei="/modules/ps_metrics/views/assets/google-analytics.1156bc74.png";const ti={class:"metrics-flex"},ri={key:0,class:"metrics-report-box__icon",src:ei,alt:"logo google analytics"},si={key:1,class:"metrics-ml-auto  metrics-flex metrics-items-center"},ii={class:"metrics-text-2xl metrics-font-bold dark:metrics-text-theme-white metrics-mt-3"},ai={class:"metrics-text-gray-777 metrics-flex metrics-justify-between metrics-items-center metrics-relative metrics-h-5"},ni={class:"metrics-truncate metrics-ellipsis metrics-bg-white metrics-top-0 metrics-pr-1.5 hover:metrics-overflow-visible hover:metrics-absolute"},ci={class:"metrics-flex metrics-justify-self-end metrics-ml-auto "};Zs.render=function(e,t,r,s,i,a){const n=C("ArrowUpRightIcon"),c=C("ArrowDownRightIcon"),o=C("Tippy"),l=C("InfoIcon");return N(),k("div",null,[w("div",ti,["AnalyticsIcon"===e.icon?(N(),k("img",ri)):A("",!0),e.compareMode?(N(),k("div",si,[w(o,{tag:"div",class:[" metrics-report-box__indicator metrics-cursor-pointer metrics-m-0 metrics-p-0 sm:metrics-text-xs metrics-text-lg",e.isPositive?"metrics-text-theme-44":"metrics-text-theme-45"],content:e.tippyContent},{default:D((()=>[e.isTime?A("",!0):(N(),k(se,{key:0},[ne(ce(e.diffValue>0?"+":" ")+" "+ce(e.isCurrency?e.$n(e.diffValueClean,"currency"):e.isPercent?`${e.diffValueClean.toFixed(0)} pt`:e.diffValueClean),1)],64)),e.isPositive?(N(),k(n,{key:1,class:"metrics-w-4 metrics-h-4 metrics-ml-2"})):(N(),k(c,{key:2,class:"metrics-w-4 metrics-h-4 metrics-ml-2"})),e.isPercent?A("",!0):(N(),k(se,{key:3},[ne(ce(e.percentCompareAbsolute)+"% ",1)],64))])),_:1},8,["class","content"])])):A("",!0)]),w("div",ii,ce(e.isCurrency?e.$n(e.currentValue,"currency"):e.isPercent?`${e.currentValueClean} %`:e.isTime?e.formatTime(e.currentValue):e.currentValueClean),1),w("div",ai,[w("span",ni,ce(e.title),1),w("div",ci,[w(o,{tag:"div",content:e.$t(e.tippyContentKey)},{default:D((()=>[w(l,{class:"metrics-h-auto  metrics-w-5 lg:metrics-w-3 "})])),_:1},8,["content"])])])])};var oi=S({name:"ReportNumber",props:{isCurrency:{type:Boolean,default:!1},isPercent:{type:Boolean,default:!1},isTime:{type:Boolean,default:!1},tippyContentKey:{type:String,default:"boxNumber.revenueGross"},icon:{type:String,default:"ShoppingCartIcon"},title:{type:String,default:""},positiveIsLower:{type:Boolean,default:!1}},setup:function(e){const t=We(),r=Z((()=>t.state.main.compareMode)),s=Z((()=>be.datatype.number(1e4))),i=Z((()=>be.datatype.number(5e3))),a=Z((()=>Math.round(100*(parseFloat(s.value)+Number.EPSILON))/100)),n=Z((()=>s.value-i.value)),c=Z((()=>Math.round(100*(n.value+Number.EPSILON))/100)),o=Z((()=>{let t;return t=i.value>=1?e.isPercent?Number(s.value-i.value):Number((s.value-i.value)/i.value*100):Number(100*s.value),Math.round(100*(t+Number.EPSILON))/100})),l=Z((()=>{const e=o.value;return(e<0?-1*e:e).toFixed(0)})),m=Z((()=>{const t=Math.sign(o.value);return e.positiveIsLower?t<=0:t>=0})),{t:d}=X(),u=Z((()=>{let e=l.value+"% ";return e+=m.value?d("boxNumber.higher"):d("boxNumber.lower"),e+=" "+d("boxNumber.thanLastPeriod"),e}));return{formatTime:e=>{const t=~~(e/3600),r=~~(e%3600/60),s=~~e%60;let i="";return t>0&&(i+=t+":"+(r<10?"0":"")),i+=r+"''"+(s<10?"0":""),i+=s+"'",i},currentValue:s,previousValue:i,percentCompare:o,isPositive:m,compareMode:r,diffValue:n,diffValueClean:c,percentCompareAbsolute:l,currentValueClean:a,tippyContent:u}}});const li={class:"metrics-flex"},mi={key:0,class:"metrics-report-box__icon",src:ei,alt:"logo google analytics"},di={key:1,class:"metrics-ml-auto  metrics-flex metrics-items-center"},ui={key:0,class:"metrics-blur-md"},pi={key:3,class:"metrics-blur-md"},gi={class:"metrics-text-2xl metrics-font-bold dark:metrics-text-theme-white metrics-mt-3 metrics-blur-md"},yi={class:"metrics-text-gray-777 metrics-flex metrics-justify-between metrics-items-center metrics-relative metrics-h-5"},vi={class:"metrics-truncate metrics-ellipsis metrics-bg-white metrics-top-0 metrics-pr-1.5 hover:metrics-overflow-visible hover:metrics-absolute"},hi={class:"metrics-flex metrics-justify-self-end metrics-ml-auto "};oi.render=function(e,t,r,s,i,a){const n=C("ArrowUpRightIcon"),c=C("ArrowDownRightIcon"),o=C("InfoIcon"),l=C("Tippy");return N(),k("div",null,[w("div",li,["AnalyticsIcon"===e.icon?(N(),k("img",mi)):A("",!0),e.compareMode?(N(),k("div",di,[w("div",{class:["metrics-report-box__indicator metrics-cursor-pointer metrics-m-0 metrics-p-0",e.isPositive?"metrics-text-theme-44":"metrics-text-theme-45"]},[e.isTime?A("",!0):(N(),k("span",ui,ce(e.diffValue>0?"+":" ")+" "+ce(e.isCurrency?e.$n(e.diffValueClean,"currency"):e.isPercent?`${e.diffValueClean.toFixed(0)} pt`:e.diffValueClean),1)),e.isPositive?(N(),k(n,{key:1,class:"metrics-w-4 metrics-h-4 metrics-ml-2"})):(N(),k(c,{key:2,class:"metrics-w-4 metrics-h-4 metrics-ml-2"})),e.isPercent?A("",!0):(N(),k("span",pi,ce(e.percentCompareAbsolute)+"%",1))],2)])):A("",!0)]),w("div",gi,ce(e.isCurrency?e.$n(e.currentValue,"currency"):e.isPercent?`${e.currentValueClean} %`:e.isTime?e.formatTime(e.currentValue):e.currentValueClean),1),w("div",yi,[w("span",vi,ce(e.title),1),w("div",hi,[w(l,{tag:"div",content:e.$t(e.tippyContentKey)},{default:D((()=>[w(o,{class:"metrics-w-3 metrics-h-auto"})])),_:1},8,["content"])])])])};var bi=S({name:"BoxError",props:{retry:{type:Function,default:()=>1},horizontal:{type:Boolean,default:!1},largeIcon:{type:Boolean,default:!1}},setup(e){We().dispatch("main/SET_ERROR_ON_KPI",!0);return{launchRetry:function(){e.retry()}}}});const fi={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-center metrics-justify-center"},xi={class:"metrics-justify-center metrics-flex metrics-mb-5"},_i={class:"metrics-mt-3 metrics-intro-x"},Ti={class:"metrics-text-center metrics-text-gray-777"},Si={class:"metrics-text-xs"},Ei={class:"metrics-text-xs metrics-mt-1"};bi.render=function(e,t,r,s,i,a){return N(),k("div",null,[w("div",fi,[w("div",{class:["metrics-w-full",{"metrics-h-28 metrics-pt-4":e.horizontal}]},[w("div",{class:["metrics-intro-x",{"metrics-float-left metrics-pl-6":e.horizontal}]},[w("div",xi,[w("img",{alt:"Prestashop Metrics",class:e.largeIcon?"metrics-w-20":"metrics-w-10",src:zs},null,2)])],2),w("div",_i,[w("div",Ti,[w("div",Si,ce(e.$t("error.sentence")),1),w("div",Ei,[w("span",{class:" metrics-text-theme-43 metrics-cursor-pointer metrics-underline metrics-m-auto",onClick:t[1]||(t[1]=ae(((...t)=>e.launchRetry&&e.launchRetry(...t)),["prevent"]))},ce(e.$t("error.button")),1)])])])],2)])])};var Ci=S({name:"ReportBoxNumber",props:{title:{type:String,default:""},query:{type:Object,default:()=>({})},dimension:{type:String,default:"revenueGross"},isCurrency:{type:Boolean,default:!1},isPercent:{type:Boolean,default:!1},isTime:{type:Boolean,default:!1},faker:{type:Boolean,default:!1},tippyContentKey:{type:String,default:"boxNumber.revenueGross"},icon:{type:String,default:"ShoppingCartIcon"},mustBeGoogleLinked:{type:Boolean,default:!1},positiveIsLower:{type:Boolean,default:!1}},components:{LoaderBoxNumber:qs,BoxAnalyticsMustBeLinked:js,BoxError:bi,ReportNumber:Zs,FakerReportNumber:oi},setup:function(e){const t=We(),r=Z((()=>t.getters["main/GET_VARIABLES_QUERY"])),s=Z((()=>t.getters["main/GET_OPTIONS_QUERY"]));if(e.faker)return{faker:!0,result:[!0]};const{result:i,loading:a,error:n,refetch:c}=ue(e.query,r,s.value),o=Z((()=>e.mustBeGoogleLinked&&!t.getters["main/HAS_GOOGLE_ACCOUNT"]));return{result:fe(i,0,(t=>t[e.dimension])),loading:a,error:n,refetch:c,showAnalyticsLinkBox:o}}});const ki={key:0,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},wi={key:1,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},Di={key:2,class:"metrics-box metrics-p-5 metrics-h-full metrics-w-full metrics-border-theme-5 metrics-border"},Ai={key:3,class:"metrics-box metrics-p-5 metrics-h-full metrics-border-theme-5 metrics-border"};Ci.render=function(e,t,r,s,i,a){const n=C("BoxAnalyticsMustBeLinked"),c=C("LoaderBoxNumber"),o=C("BoxError"),l=C("FakerReportNumber"),m=C("ReportNumber");return N(),k("div",{key:e.title,class:"metrics-report-box metrics-h-full"},[e.showAnalyticsLinkBox?(N(),k("div",ki,[w(n)])):e.loading?(N(),k("div",wi,[w(c)])):e.error?(N(),k("div",Di,[w(o,{retry:e.refetch},null,8,["retry"])])):e.result?(N(),k("div",Ai,[e.faker?(N(),k(l,{key:0,icon:e.icon,isCurrency:e.isCurrency,isPercent:e.isPercent,isTime:e.isTime,title:e.title,tippyContentKey:e.tippyContentKey,positiveIsLower:e.positiveIsLower},null,8,["icon","isCurrency","isPercent","isTime","title","tippyContentKey","positiveIsLower"])):(N(),k(m,{key:1,icon:e.icon,isCurrency:e.isCurrency,isPercent:e.isPercent,isTime:e.isTime,result:e.result,title:e.title,tippyContentKey:e.tippyContentKey,positiveIsLower:e.positiveIsLower},null,8,["icon","isCurrency","isPercent","isTime","result","title","tippyContentKey","positiveIsLower"]))])):A("",!0)])};var Ni=S({name:"BoxUpgradePlanModal",props:{canBeClosed:{type:Boolean,default:!1}},setup(){const e=he(),t=Z((()=>e.getters["main/IS_FIRST_ACCESS"]));return{isFirstSync:Z((()=>e.getters["main/IS_FIRST_SYNC"])),isFirstAccess:t,closeModal:()=>{e.dispatch("main/SET_PLAN_MODAL_OPENED",!1)},registerAdvancedplan:()=>{window.location=e.state.main.configurationLink}}}});const Mi={class:"metrics-bg-blur-md metrics-top-0 metrics-bottom-0 metrics-left-0 metrics-right-0 metrics-z-50 metrics-absolute metrics-col-span-12 md:metrics-col-span-6 xl:metrics-col-span-12 xxl:metrics-col-span-12 xl:metrics-col-start-1 xl:metrics-row-start-1 xxl:metrics-col-start-auto xxl:metrics-row-start-auto metrics-mt-3"},Ri={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-start metrics-mt-20 metrics-justify-center"},Oi={class:"metrics-box metrics-grid metrics-box-border-gradient metrics-p-8"},Pi={class:"metrics-intro-x"},Ii={class:"metrics-justify-center metrics-flex metrics-mb-5"},Bi={key:0,class:"metrics-flex metrics-items-center metrics-text-theme-43"},Li={class:"metrics-ml-3 metrics-font-bold metrics-text-center"},$i={key:1,class:"metrics-flex metrics-items-center metrics-text-theme-43"},Gi={class:"metrics-ml-3 metrics-font-bold metrics-text-center"},Ui={class:"metrics-mt-2 metrics-intro-x metrics-px-8"},Yi={class:"metrics-my-2 metrics-text-center metrics-text-gray-777"},Vi={class:"metrics-text-xs metrics-truncate"},qi={class:"metrics-text-xs metrics-truncate"};Ni.render=function(e,t,r,s,i,a){const n=C("xIcon"),c=C("ClockIcon"),o=C("RefreshCwIcon");return N(),k("div",Mi,[w("div",Ri,[w("div",Oi,[w("div",Pi,[e.canBeClosed?(N(),k("span",{key:0,onClick:t[1]||(t[1]=t=>e.closeModal())},[w(n,{class:"metrics-w-6 metrics-h-6 metrics-w-1 metrics-float-right metrics-top-0  metrics-cursor-pointer"})])):A("",!0),w("div",Ii,[e.isFirstAccess?(N(),k("div",Bi,[w(c,{class:"metrics-w-5"}),w("h2",Li,ce(e.$t("advancedPlan.sync.scheduled")),1)])):A("",!0),e.isFirstSync?(N(),k("div",$i,[w(o,{class:"metrics-w-5"}),w("h2",Gi,ce(e.$t("advancedPlan.sync.syncing")),1)])):A("",!0)])]),w("div",Ui,[w("div",Yi,[w("div",Vi,ce(e.$t("advancedPlan.sync.sentence1")),1),w("div",qi,ce(e.$t("advancedPlan.sync.sentence2")),1)])])])])])};var Fi=S({name:"BoxUpgradePlanModal",props:{canBeClosed:{type:Boolean,default:!1}},setup(){const e=he(),{appContext:{config:{globalProperties:{$segment:t}}}}=re();return{closeModal:()=>{e.dispatch("main/SET_PLAN_MODAL_OPENED",!1)},registerAdvancedplan:()=>{t().track("[MTR] Overview Upgrade Plan",o({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),window.location=e.state.main.controllersLinks.plans}}}});const Ki={class:"metrics-bg-blur-md metrics-top-0 metrics-bottom-0 metrics-left-0 metrics-right-0 metrics-z-50 metrics-absolute metrics-col-span-12 md:metrics-col-span-6 xl:metrics-col-span-12 xxl:metrics-col-span-12 xl:metrics-col-start-1 xl:metrics-row-start-1 xxl:metrics-col-start-auto xxl:metrics-row-start-auto metrics-mt-3"},ji={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-start metrics-mt-20 metrics-justify-center"},zi={class:"metrics-box metrics-grid metrics-box-border-gradient md:metrics-p-8 metrics-p-2"},Hi={class:"metrics-intro-x"},Qi={class:"metrics-justify-center metrics-flex metrics-mb-5 metrics-mx-5"},Wi={key:1,class:"metrics-font-bold metrics-text-center"},Ji={key:2,class:"metrics-font-bold metrics-text-center"},Xi={class:"metrics-mt-2 metrics-intro-x metrics-px-8"},Zi={class:"metrics-my-2"},ea={class:"metrics-font-medium metrics-truncate"},ta={class:"metrics-text-justify metrics-mt-1"},ra={class:"metrics-m-5 metrics-list-disc"},sa={class:"metrics-font-medium metrics-flex metrics-mt-5"};Fi.render=function(e,t,r,s,i,a){const n=C("xIcon"),c=C("lockIcon");return N(),k("div",Ki,[w("div",ji,[w("div",zi,[w("div",Hi,[e.canBeClosed?(N(),k("span",{key:0,onClick:t[1]||(t[1]=t=>e.closeModal())},[w(n,{class:"metrics-w-6 metrics-h-6 metrics-w-1 metrics-float-right metrics-top-0 metrics-cursor-pointer"})])):A("",!0),w("div",Qi,[w(c,{class:"metrics-w-10 metrics-h-10 metrics-w-1"})]),e.canBeClosed?(N(),k("h2",Ji,ce(e.$t("advancedPlan.upgradeModal.modalTitleUpgrade")),1)):(N(),k("h2",Wi,ce(e.$t("advancedPlan.upgradeModal.modalTitle")),1))]),w("div",Xi,[w("div",Zi,[w("div",ea,ce(e.$t("advancedPlan.upgradeModal.header")),1),w("div",ta,[w("ul",ra,[w("li",null,ce(e.$t("advancedPlan.upgradeModal.listitem.1")),1),w("li",null,ce(e.$t("advancedPlan.upgradeModal.listitem.2")),1),w("li",null,ce(e.$t("advancedPlan.upgradeModal.listitem.3")),1)]),ne(" "+ce(e.$t("advancedPlan.upgradeModal.footer")),1)]),w("div",sa,[w("button",{type:"button",class:"metrics-button metrics-zoom-in metrics-button--lg metrics-border metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-white metrics-m-auto",onClick:t[2]||(t[2]=(...t)=>e.registerAdvancedplan&&e.registerAdvancedplan(...t))},ce(e.$t("advancedPlan.upgradeModal.button")),1)])])])])])])};var ia=S({name:"BoxUpgradePlan",setup(){const e=he(),t="metrics_preview"===te().name,r=Z((()=>e.state.main.newVersionAvailable)),{appContext:{config:{globalProperties:{$segment:s}}}}=re();return{isOnDashboard:t,openUpgradePlanModal:()=>{s().track("[MTR] Overview Upgrade Plan",o({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),window.location=e.state.main.controllersLinks.plans},newVersionAvailable:r}}});const aa={key:0,class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},na={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto"},ca={class:"metrics-mt-2 metrics-intro-x"},oa={class:"metrics-box metrics-bg-white metrics-box-border-gradient metrics-text-center"},la={class:"metrics-p-5"},ma={class:"metrics-font-medium metrics-text-gray-777"},da={class:"metrics-text-center metrics-mt-1 metrics-flex metrics-justify-center"},ua={class:"metrics-m-auto metrics-mt-5 metrics-text-gray-777 metrics-w-42"},pa={class:"metrics-mb-3"},ga={class:"metrics-mb-3"},ya={class:"metrics-font-medium metrics-flex metrics-mt-5"};ia.render=function(e,t,r,s,i,a){return N(),k("div",{id:"metrics-tour-box-upgrade",class:["metrics-col-span-12 sm:metrics-col-span-6 md:metrics-col-span-4 xxl:metrics-col-start-auto xxl:metrics-row-start-auto sm:metrics-mt-0",e.isOnDashboard?"md:metrics-col-span-6":"xxl:metrics-col-span-12"]},[e.isOnDashboard?A("",!0):(N(),k("div",aa,[w("h2",na,ce(e.$t("advancedPlan.advancedPlan")),1)])),w("div",ca,[w("div",oa,[w("div",la,[w("div",ma,ce(e.$t("advancedPlan.upgrade.header")),1),w("div",da,[w("ul",ua,[w("li",pa,ce(e.$t("advancedPlan.upgrade.listitem.1")),1),w("li",ga,ce(e.$t("advancedPlan.upgrade.listitem.2")),1),w("li",null,ce(e.$t("advancedPlan.upgrade.listitem.3")),1)])]),w("div",ya,[w("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.openUpgradePlanModal&&e.openUpgradePlanModal(...t)),class:"metrics-button metrics-zoom-in metrics-button--lg metrics-border metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-white metrics-m-auto"},ce(e.$t("advancedPlan.upgrade.button")),1)])])])])],2)};var va=S({name:"BoxSynchronization",setup(){const e=We(),t="metrics_preview"===te().name,{appContext:{config:{globalProperties:{$segment:r}}}}=re(),{t:s}=X(),i=Z((()=>e.getters["main/GET_SYNC_STATUS"])),a=Z((()=>({scheduled:()=>(r().track("[MTR] Overview Status Sync Scheduled",o({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),{class:"metrics-text-theme-43",text:s("advancedPlan.sync.scheduled")}),done:()=>(r().track("[MTR] Overview Status Sync Done",o({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),{class:"metrics-text-green-500",text:s("advancedPlan.sync.done")}),syncing:()=>(r().track("[MTR] Overview Status Sync Syncing",o({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),{class:"metrics-text-theme-43",text:s("advancedPlan.sync.syncing")})}[i.value].call()))),n=Z((()=>{const t=e.state.main.accounts.last_sync_at;if(-1===e.state.main.accounts.last_sync_at)return!1;const r=m(t).locale(e.state.main.isoCode).format("LL");return(m().isAfter(m(t),"day")||m().isSame(m(t),"day"))&&e.dispatch("main/SET_LAST_SYNC",t),r})),c=Z((()=>e.state.main.accounts.next_sync_at||-1===e.state.main.accounts.next_sync_at?1===e.state.main.accounts.next_sync_at?m().add(1,"day").startOf("day").locale(e.state.main.isoCode).format("LLLL"):m(e.state.main.accounts.next_sync_at).locale(e.state.main.isoCode).format("LLLL"):m(e.state.main.accounts.next_sync_at).add(1,"day").startOf("day").locale(e.state.main.isoCode).format("LLLL")));return{isOnDashboard:t,openUpgradePlanModal:()=>{e.dispatch("main/SET_PLAN_MODAL_OPENED",!0)},statusClass:a,syncStatus:i,lastSync:n,nextSync:c}}});const ha={key:0,class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},ba=w("h2",{class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto metrics-flex"},[w("span",null,"Plan"),w("div",{class:"metrics-ml-4 metrics-font-normal metrics-text-sm metrics-text-white metrics-box metrics-pt-1 metrics-pb-1 metrics-pl-4 metrics-pr-4 metrics-bg-gradient-to-r metrics-from-yellow-400 metrics-to-pink-500"}," ADVANCED ")],-1),fa={class:"metrics-mt-2 metrics-intro-x"},xa={class:"metrics-box metrics-bg-white metrics-box-border-gradient metrics-text-center"},_a={class:"metrics-p-5"},Ta={class:"metrics-pb-10 metrics-text-sm metrics-text-gray-777 metrics-flex metrics-justify-center metrics-items-center"},Sa={class:"metrics-mt-1 metrics-pb-10"},Ea={class:"metrics-flex metrics-items-center metrics-justify-center"},Ca={class:"metrics-text-sm metrics-text-gray-777"},ka={class:"metrics-pb-5 metrics-font-semibold metrics-text-sm"},wa={class:"metrics-text-xs metrics-text-gray-777"};va.render=function(e,t,r,s,i,a){const n=C("InfoIcon"),c=C("Tippy"),o=C("CheckCircleIcon"),l=C("ClockIcon"),m=C("RefreshCwIcon");return N(),k("div",{id:"metrics-tour-sync",class:["metrics-col-span-12 sm:metrics-col-span-6 md:metrics-col-span-4 xl:metrics-col-start-auto xl:metrics-row-start-auto xxl:metrics-col-start-auto xxl:metrics-row-start-auto sm:metrics-mt-0 xxl:metrics-mt-2",e.isOnDashboard?"md:metrics-col-span-6":"xxl:metrics-col-span-12"]},[e.isOnDashboard?A("",!0):(N(),k("div",ha,[ba])),w("div",fa,[w("div",xa,[w("div",_a,[w("div",Ta,[w("span",null,ce(e.$t("advancedPlan.sync.statusTitle")),1),w(c,{tag:"div",class:"metrics-text-sm",content:e.$t("advancedPlan.sync.statusTooltip")},{default:D((()=>[w(n,{class:"metrics-w-5 lg:metrics-w-3 metrics-ml-1"})])),_:1},8,["content"])]),w("div",Sa,[w("span",Ea,[w("span",{class:["metrics-text-base metrics-font-medium",e.statusClass.class]},[V(w(o,{key:"done",class:["metrics-m-auto metrics-mb-2 metrics-h-6",e.statusClass.class]},null,8,["class"]),[[xe,"done"===e.syncStatus]]),V(w(l,{key:"scheduled",class:["metrics-m-auto metrics-mb-2 metrics-h-6",e.statusClass.class]},null,8,["class"]),[[xe,"scheduled"===e.syncStatus]]),V(w(m,{key:"syncing",class:["metrics-m-auto metrics-mb-2 metrics-h-6",e.statusClass.class]},null,8,["class"]),[[xe,"syncing"===e.syncStatus]]),ne(" "+ce(e.statusClass.text),1)],2)])]),e.lastSync?(N(),k(se,{key:0},[w("div",Ca,ce(e.$t("advancedPlan.sync.lastSync")),1),w("div",ka,ce(e.lastSync),1)],64)):A("",!0),w("div",wa,ce(e.$t("advancedPlan.sync.nextSync"))+" "+ce(e.nextSync),1)])])])],2)};var Da=S({name:"BoxNextFeatures",setup(){const e=We(),t="metrics_preview"===te().name,{appContext:{config:{globalProperties:{$segment:r}}}}=re();return{isOnDashboard:t,goToFeedback:()=>{r().track("[MTR] Overview Open Next Features",o({module:"ps_metrics"},e.getters["main/GET_USER_EMAIL"]&&{email:e.getters["main/GET_USER_EMAIL"]})),window.open("https://portal.productboard.com/prestashop/1-prestashop-feedback-the-place-to-share-your-feedback-on-prestashop-s-next-features/tabs/11-prestashop-metrics","_blank")}}}});const Aa={key:0,class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},Na={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto"},Ma={class:"metrics-mt-2 metrics-intro-x"},Ra={class:"metrics-box metrics-border-theme-5 metrics-border"},Oa={class:"metrics-p-5"},Pa={class:"metrics-flex metrics-justify-center metrics-text-sm metrics-m-0"},Ia={class:"metrics-text-gray-777 metrics-flex"},Ba={class:"metrics-m-auto metrics-mt-3 metrics-mb-0"},La={class:"metrics-flex metrics-my-3 metrics-items-center"},$a={class:"metrics-flex metrics-my-3 metrics-items-center"},Ga={class:"metrics-flex metrics-my-3 metrics-items-center"},Ua={class:"metrics-font-medium metrics-flex metrics-mt-3"};Da.render=function(e,t,r,s,i,a){const n=C("MailIcon"),c=C("UploadIcon"),o=C("ActivityIcon");return N(),k("div",{id:"metrics-tour-feedback",class:["metrics-col-span-12 sm:metrics-col-span-6 md:metrics-col-span-4 xxl:metrics-col-start-auto xxl:metrics-row-start-auto sm:metrics-mt-0",e.isOnDashboard?"md:metrics-col-span-6":"xxl:metrics-col-span-12"]},[e.isOnDashboard?A("",!0):(N(),k("div",Aa,[w("h2",Na,ce(e.$t("nextfeatures.title")),1)])),w("div",Ma,[w("div",Ra,[w("div",Oa,[w("h2",Pa,ce(e.$t("nextfeatures.comingSoon")),1),w("div",Ia,[w("ul",Ba,[w("li",null,[w("span",La,[w(n,{class:"metrics-mr-3 metrics-w-5"}),ne(" "+ce(e.$t("nextfeatures.weekly")),1)])]),w("li",null,[w("span",$a,[w(c,{class:"metrics-mr-3 metrics-w-5"}),ne(ce(e.$t("nextfeatures.export")),1)])]),w("li",null,[w("span",Ga,[w(o,{name:"ActivityIcon",class:"metrics-mr-3 metrics-w-5"}),ne(ce(e.$t("nextfeatures.newKpi")),1)])])])]),w("div",Ua,[w("button",{type:"button",class:"metrics-button metrics-button--md metrics-border metrics-bg-white hover:metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-theme-43 hover:metrics-text-white metrics-m-auto",onClick:t[1]||(t[1]=(...t)=>e.goToFeedback&&e.goToFeedback(...t))},ce(e.$t("nextfeatures.feedbackButton")),1)])])])])],2)};var Ya=S({props:{canBeClosed:{type:Boolean,default:!0},canScrollBody:{type:Boolean,default:!0},name:{type:String,default:"modal-dialog"}},setup(e,{emit:t}){const r=E(null),s=()=>{t("ModalClose")};return _e(r,(()=>{e.canBeClosed&&(s(),t("ModalClose"))})),{closeModal:s,modal:r}}});const Va={class:"metrics-flex metrics-h-full metrics-items-center metrics-justify-center metrics-shadow-xl metrics-overflow-auto"},qa={class:"metrics-box metrics-max-h-full lg:metrics-w-6/12 metrics-p-8 metrics-box-border metrics-overflow-auto metrics-w-11/12",ref:"modal"},Fa={class:"metrics-intro-x"},Ka={class:"metrics-justify-center metrics-flex metrics-mb-5 metrics-mx-5"},ja={class:"metrics-mt-2 metrics-intro-x lg:metrics-px-8 metrics-px-2"},za={class:"metrics-my-2 metrics-text-center metrics-text-gray-777"},Ha={class:"metrics-font-medium metrics-flex metrics-mt-5"};Ya.render=function(e,t,r,s,i,a){const n=C("xIcon");return N(),k("div",{id:e.name,class:"metrics-bg-blur-md metrics-modal metrics-top-0 metrics-bottom-0 metrics-left-0 metrics-right-0 metrics-z-50 metrics-fixed metrics-col-span-12 md:metrics-col-span-6 xl:metrics-col-span-12 xxl:metrics-col-span-12 xl:metrics-col-start-1 xl:metrics-row-start-1 xxl:metrics-col-start-auto xxl:metrics-row-start-auto metrics-mt-3"},[w("div",Va,[w("div",qa,[w("div",Fa,[e.canBeClosed?(N(),k("span",{key:0,onClick:t[1]||(t[1]=t=>e.closeModal())},[w(n,{class:"metrics-w-6 metrics-h-6 metrics-w-1 metrics-float-right metrics-top-0 metrics-cursor-pointer"})])):A("",!0),w("div",Ka,[q(e.$slots,"header")]),w("div",ja,[w("div",za,[q(e.$slots,"default")]),w("div",Ha,[q(e.$slots,"footer")])])])],512)])],8,["id"])};var Qa=S({name:"LoaderBoxTipscards"});const Wa={class:"metrics-grid metrics-grid-cols-4 metrics-gap-1 metrics-h-full metrics-p-5"},Ja=ve('<div class="metrics-col-span-12 metrics-h-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-20 metrics-col-span-12 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse metrics-mt-4"></div><div class="metrics-col-span-1 metrics-h-4 metrics-bg-gray-400 metrics-animate-pulse metrics-mt-1"></div><div class="metrics-col-span-2 metrics-h-4 "></div><div class="metrics-col-span-9 metrics-h-4 metrics-bg-gray-400 metrics-animate-pulse metrics-mt-1"></div>',5);Qa.render=function(e,t,r,s,i,a){return N(),k("div",Wa,[Ja])};var Xa=S({name:"BoxNoData",props:{retry:{type:Function,default:()=>1},horizontal:{type:Boolean,default:!1},tipscards:{type:Boolean,default:!1},largeIcon:{type:Boolean,default:!1}}});const Za={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-center metrics-justify-center"},en={class:"metrics-justify-center metrics-flex metrics-mb-5"},tn={class:"metrics-mt-3 metrics-intro-x"},rn={class:"metrics-text-xs"};Xa.render=function(e,t,r,s,i,a){return N(),k("div",null,[w("div",Za,[w("div",{class:["metrics-w-full",{"metrics-mt-4":e.horizontal}]},[w("div",{class:["metrics-intro-x",{"metrics-float-left metrics-pl-6":e.horizontal}]},[w("div",en,[w("img",{alt:"Prestashop Metrics",class:e.largeIcon?"metrics-w-20":"metrics-w-10",src:zs},null,2)])],2),w("div",tn,[w("div",{class:["metrics-text-center metrics-text-gray-777",{"metrics-mt-8":e.horizontal}]},[w("div",rn,[e.tipscards?(N(),k(se,{key:0},[ne(ce(e.$t("nodata.noTipscard")),1)],64)):(N(),k(se,{key:1},[ne(ce(e.$t("nodata.sentence")),1)],64))])],2)])],2)])])};var sn=S({components:{BoxNoData:Xa,ModalDialog:Ya,LoaderBoxTipscards:Qa,BoxError:bi},name:"BoxTipsCard",props:{query:{type:Object,default:()=>({})},dimension:{type:String,default:"tipscards"},label:{type:String,default:null},additionnalQueryParams:{type:Object,default:()=>({label:""})}},setup(e){const t=We(),r=Z((()=>o({},e.additionnalQueryParams))),s=E(),i=E({title:"",description:"",label:"",redirect_url:""}),{appContext:{config:{globalProperties:{$segment:a}}}}=re();M("bind[importantNotesRef]",(e=>{s.value=e}));const{result:n,loading:c,error:l,refetch:m}=ue(e.query,r,{fetchPolicy:"network-only",clientId:"paidClient"});return{result:n,loading:c,error:l,refetch:m,tipscards:fe(n,[],(t=>t[e.dimension])),sliderOptions:{prevButton:"#tipscardsprev",nextButton:"#tipscardsnext",autoHeight:!0,autoplayTimeout:1e4},description:e=>e.substring(0,150)+"...",selectedTipscard:i,selectTipsCard:e=>{a().track("[MTR] Overview Selected Tips Cards",o(o({module:"ps_metrics"},e),t.getters["main/GET_USER_EMAIL"]&&{email:t.getters["main/GET_USER_EMAIL"]})),$("#modal-tipscard").modal("show"),i.value=o({},e)},goToAddons:e=>{a().track("[MTR] Overview Tips Go To Addons",o(o({module:"ps_metrics"},t.getters["main/GET_USER_EMAIL"]&&{email:t.getters["main/GET_USER_EMAIL"]}),e))},closeModal:()=>{$("#modal-tipscard").modal("hide")},formatTipsCardNumber:function(e,t){return parseFloat(e)+1+"/"+t}}}});const an={id:"metrics-tour-tips-card",class:"\n      metrics-col-span-12\n      sm:metrics-col-span-6\n      md:metrics-col-span-4\n      xxl:metrics-col-span-12\n      xxl:metrics-col-start-auto\n      xxl:metrics-row-start-auto\n      sm:metrics-mt-0\n    "},nn={class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},cn={class:"\n          metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto\n        "},on={class:"\n            metrics-slick-navigator\n            metrics-button\n            metrics-px-2\n            metrics-border\n            metrics-border-gray-400\n            dark:metrics-border-dark-5\n            metrics-flex metrics-items-center metrics-text-gray-700\n            dark:metrics-text-gray-600\n            metrics-mr-2\n          ",id:"tipscardsprev"},ln={class:"\n            metrics-slick-navigator\n            metrics-button\n            metrics-px-2\n            metrics-border\n            metrics-border-gray-400\n            dark:metrics-border-dark-5\n            metrics-flex metrics-items-center metrics-text-gray-700\n            dark:metrics-text-gray-600\n          ",id:"tipscardsnext"},mn={class:"metrics-mt-2 metrics-intro-x"},dn={key:0,class:"metrics-box metrics-border-theme-5 metrics-border"},un={key:1,class:"metrics-box metrics-border-theme-5 metrics-border"},pn={class:"metrics-p-5"},gn={key:2,class:"metrics-box metrics-border-theme-5 metrics-border"},yn={class:"metrics-p-5"},vn={key:3,class:"metrics-box metrics-border-theme-5 metrics-border"},hn={class:"metrics-text-small metrics-font-medium"},bn={class:"metrics-font-medium metrics-flex metrics-mt-5"},fn={class:"metrics-text-gray-777"},xn={class:"metrics-text-lg metrics-font-medium metrics-mb-3"},_n={class:"\n            metrics-flex metrics-items-center metrics-justify-end metrics-w-full\n          "};sn.render=function(e,t,r,s,i,a){const n=C("ChevronLeftIcon"),c=C("ChevronRightIcon"),o=C("LoaderBoxTipscards"),l=C("BoxError"),m=C("BoxNoData"),d=C("TinySlider"),u=C("ModalDialog");return N(),k("div",an,[w("div",nn,[w("h2",cn,ce(e.$t("tipscards.boxTitle")),1),!e.loading&&e.tipscards.length>0?(N(),k(se,{key:0},[w("button",on,[w(n,{class:"metrics-w-4 metrics-h-4"})]),w("button",ln,[w(c,{class:"metrics-w-4 metrics-h-4"})])],64)):A("",!0)]),w("div",mn,[e.loading?(N(),k("div",dn,[w(o)])):e.error?(N(),k("div",un,[w("div",pn,[w(l)])])):0==e.tipscards.length?(N(),k("div",gn,[w("div",yn,[w(m,{tipscards:!0})])])):!e.loading&&e.tipscards.length>0?(N(),k("div",vn,[w(d,{refKey:"importantNotesRef",options:e.sliderOptions},{default:D((()=>[(N(!0),k(se,null,ie(e.tipscards,((t,r,s)=>(N(),k("div",{class:"metrics-p-5",key:s},[w("div",hn,ce(t.title),1),w("div",{class:"metrics-text-gray-777 metrics-text-justify metrics-mt-4",innerHTML:e.description(t.description)},null,8,["innerHTML"]),w("div",bn,[w("div",fn,ce(e.formatTipsCardNumber(r,e.tipscards.length)),1),w("button",{type:"button",onClick:r=>e.selectTipsCard(t),class:"\n                  metrics-button metrics-button--sm\n                  metrics-border metrics-border-gray-300\n                  dark:metrics-border-dark-5\n                  metrics-text-gray-777 metrics-ml-auto\n                "},ce(e.$t("tipscards.viewTip")),9,["onClick"])])])))),128))])),_:1},8,["options"])])):A("",!0)]),w(u,{onModalClose:e.closeModal,name:"modal-tipscard"},{header:D((()=>[w("h2",xn,ce(e.selectedTipscard.title),1)])),footer:D((()=>[w("div",_n,[e.selectedTipscard.redirect_url?(N(),k("a",{key:0,href:e.selectedTipscard.redirect_url,onClick:t[1]||(t[1]=t=>e.goToAddons(e.selectedTipscard)),target:"_blank",class:"\n              metrics-button\n              metrics-zoom-in\n              metrics-border\n              metrics-bg-theme-43\n              metrics-border-theme-43\n              dark:metrics-border-dark-5\n              metrics-text-white\n            "},ce(e.$t("tipscards.showModuleButton")),9,["href"])):A("",!0)])])),default:D((()=>[w("div",{class:"metrics-max-w-xl metrics-m-auto metrics-text-left",innerHTML:e.selectedTipscard.description},null,8,["innerHTML"])])),_:1},8,["onModalClose"])])};var Tn=S({name:"BoxNewVersion",setup(){const e=We(),t="metrics_preview"===te().name,r=E(!1),s=Z((()=>e.state.main.newVersionAvailable));return{isOnDashboard:t,loading:r,goToUpgrade:()=>{r.value=!0,localStorage.clear(),window.location.href=e.state.main.controllersLinks.upgrade},newVersionAvailable:s}}});const Sn={key:0,class:"metrics-intro-x metrics-flex metrics-items-center metrics-h-10"},En={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-auto"},Cn={class:"metrics-mt-2 metrics-intro-x"},kn={class:"metrics-box metrics-border-theme-5 metrics-border"},wn={class:"metrics-p-5"},Dn={class:"metrics-text-dark metrics-text-center"},An={class:"metrics-relative metrics-h-9 metrics-w-9 metrics-m-auto metrics-mb-5 metrics-pt-2"},Nn=w("div",{class:"metrics-bg-theme-45 metrics-rounded-full metrics-h-2.5 metrics-w-2.5 metrics-absolute metrics-top-3.5 metrics-right-2"},null,-1),Mn={class:"metrics-font-medium metrics-flex metrics-mt-5"};Tn.render=function(e,t,r,s,i,a){const n=C("BellIcon"),c=C("LoaderIcon");return e.newVersionAvailable?(N(),k("div",{key:0,class:["metrics-col-span-12 sm:metrics-col-span-6 md:metrics-col-span-4 xxl:metrics-col-start-auto xxl:metrics-row-start-auto sm:metrics-mt-0 xxl:metrics-mt-5",e.isOnDashboard?"md:metrics-col-span-6":"xxl:metrics-col-span-12"]},[e.isOnDashboard?A("",!0):(N(),k("div",Sn,[w("h2",En,ce(e.$t("newversionavailable.title")),1)])),w("div",Cn,[w("div",kn,[w("div",wn,[w("div",Dn,[w("div",An,[Nn,w(n,{class:" metrics-text-theme-43 metrics-shake metrics-h-7 metrics-w-7 metrics-m-auto metrics-mt-2"})]),ne(" "+ce(e.$t("newversionavailable.description")),1)]),w("div",Mn,[w("button",{type:"button",class:"metrics-m-auto metrics-button metrics-zoom-in metrics-border metrics-bg-theme-43 metrics-border-theme-43 dark:metrics-border-dark-5 metrics-text-white",onClick:t[1]||(t[1]=(...t)=>e.goToUpgrade&&e.goToUpgrade(...t))},[e.loading?(N(),k(c,{key:0,class:"metrics-w-5 metrics-spin-slow"})):(N(),k(se,{key:1},[ne(ce(e.$t("newversionavailable.button")),1)],64))])])])])])],2)):A("",!0)};var Rn=S({name:"BoxModuleUpgraded",setup(){const e=We(),t=Z((()=>e.state.main.moduleUpgraded)),r=Z((()=>e.state.main.version_module)),s=E(!1);return{moduleUpgraded:t,currentVersion:r,CloseBox:()=>{s.value=!0},forceClose:s}}});const On={key:0,class:"metrics-col-span-12 sm:metrics-col-span-6  md:metrics-col-span-4 xxl:metrics-col-span-12 sm:metrics-mt-0"},Pn=w("div",{class:"metrics-intro-x metrics-flex metrics-items-center"},null,-1),In={class:"metrics-mt-5 metrics-intro-x"},Bn={class:"metrics-box metrics-border metrics-border-theme-44"},Ln={class:"metrics-p-5"},$n={class:"metrics-text-dark metrics-text-center"},Gn={class:"metrics-relative metrics-h-9 metrics-w-9 metrics-m-auto metrics-mb-5 metrics-pt-2"},Un={class:"metrics-font-bold metrics-mt-2"},Yn=w("div",{class:"metrics-font-medium metrics-flex metrics-mt-5"},null,-1);Rn.render=function(e,t,r,s,i,a){const n=C("xIcon"),c=C("CheckCircleIcon");return e.moduleUpgraded&&!e.forceClose?(N(),k("div",On,[Pn,w("div",In,[w("div",Bn,[w("div",Ln,[w("div",$n,[w(n,{class:"metrics-w-4 metrics-h-4 metrics-w-1 metrics-float-right metrics-top-0 metrics-cursor-pointer",onClick:e.CloseBox},null,8,["onClick"]),w("div",Gn,[w(c,{class:" metrics-text-theme-44 metrics-bell-shake metrics-h-7 metrics-w-7 metrics-m-auto metrics-mt-2"})]),w("div",null,[ne(ce(e.$t("moduleUpgraded.title"))+" ",1),w("div",Un,ce(e.currentVersion),1)])]),Yn])])])])):A("",!0)};var Vn=S({name:"RightSection",props:{tipscardsLabel:{type:String,default:""}},components:{BoxUpgradePlan:ia,BoxSynchronization:va,BoxNextFeatures:Da,BoxTipsCard:sn,BoxNewVersionAvailable:Tn,BoxModuleUpgraded:Rn},setup(e){const t=he(),r=Z((()=>t.getters["main/GET_IS_ADVANCED"])),s=Z((()=>t.getters["main/IS_FIRST_ACCESS"])),i=Z((()=>t.getters["main/IS_FIRST_SYNC"])),a=Z((()=>({category:e.tipscardsLabel,language:t.state.main.isoCode})));return{advancedPlan:r,tipsCards:ps,additionnalQueryTipscards:a,isFirstAccess:s,isFirstSync:i}}});const qn={class:"xxl:metrics-pl-6 l:metrics-pl-3 metrics-grid metrics-grid-cols-12 metrics-gap-y-6 metrics-gap-x-6 xxl:metrics-gap-x-0 xxl:metrics-mt-5"};Vn.render=function(e,t,r,s,i,a){const n=C("BoxModuleUpgraded"),c=C("BoxNewVersionAvailable"),o=C("BoxUpgradePlan"),l=C("BoxSynchronization"),m=C("BoxNextFeatures"),d=C("BoxTipsCard");return N(),k("div",qn,[w(n),w(c),e.advancedPlan?(N(),k(l,{key:1})):(N(),k(o,{key:0})),w(m),w(d,{query:e.tipsCards,additionnalQueryParams:e.additionnalQueryTipscards},null,8,["query","additionnalQueryParams"])])};var Fn=S({name:"LoaderBoxHighlight"});const Kn={class:"metrics-grid metrics-grid-cols-4 metrics-gap-1 metrics-h-28"},jn=ve('<div class="metrics-col-span-3 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-2 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-2 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-1 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-col-span-2 metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div>',6);Fn.render=function(e,t,r,s,i,a){return N(),k("div",Kn,[jn])};var zn=S({name:"HighlightText",components:{BoxNoData:Xa},props:{keyTranslate:{type:String,default:""},typeValue:{type:String,default:"percent"},typeKpi:{type:String,default:"evolution"},dimension:{type:String,default:"orderAverage"},result:{type:Object},isSession:{type:Boolean,default:!1},total:{type:Object,default:()=>({})}},setup:function(e){const t={percent_evolution:()=>{let t=e.result?e.result.currentValue:0,r=e.result?e.result.previousValue:0;if(e.isSession&&e.total&&e.total.totalCurrent&&(t=Number(t/e.total.totalCurrent*100).toFixed(0)),0===t&&0===r)return"NO_DATA";const s=Z((()=>(r=0===r?1:r,((t-r)/r*100).toFixed(0)))),i=Z((()=>{const e=parseInt(s.value);return(e<0?-1*e:e).toFixed(0)})),a=Z((()=>Math.sign(Number.parseFloat(s.value))>=0)),n=Z((()=>a.value?"highlight.increased":"highlight.decreased")),c=Z((()=>({"metrics-text-theme-44 metrics-font-bold":a.value,"metrics-text-theme-45 metrics-font-bold":!a.value})));return{valueKpi:s.value,valueKpiAbsolute:i.value,suffixSymbol:"%",highlight:n.value,classHighlightColor:c.value}},percent_best:()=>{const t=e.result&&e.result[0];if(!t)return"NO_DATA";const r=t.category;let s=0;return s=e.isSession&&e.total&&e.total.totalCurrent?(parseInt(t.currentValue)/parseInt(e.total.totalCurrent)*100).toFixed(0):t.currentValue,{productKpi:r,valueKpi:s,valueKpiAbsolute:s,suffixSymbol:"%",highlight:"",classHighlightColor:""}},currency_best:()=>{var t,r=null==(t=null==e?void 0:e.result)?void 0:t.currentPeriod[0];return r?{productKpi:r.name?r.name:r.category,valueKpi:r.amount?r.amount:r.currentValue,suffixSymbol:"",highlight:"",classHighlightColor:""}:"NO_DATA"},currency_top:()=>{var t=e.result&&e.result[0];if(!t)return"NO_DATA";var r=t.name?t.name:t.category,s=t.amount?t.amount:t.currentValue;return{productKpi:r,valueKpi:s,valueKpiAbsolute:s,suffixSymbol:"",highlight:"",classHighlightColor:""}}},r=`${e.typeValue}_${e.typeKpi}`;if(!t[r])throw new Error(`[HighlightText] Unable to calculate highlight strategy for ${e.typeValue}-${e.typeKpi} !`);let s;const i=E(""),a=E(!1);try{s=t[r](),"NO_DATA"===s&&(a.value=!0)}catch(n){i.value=n}return{finalResult:s,noData:a,errorDetected:i}}});const Hn={class:"metrics-text-base metrics-m-auto metrics-w-full"},Qn={key:0,class:"metrics-h-32"},Wn={key:1},Jn={key:0,class:"metrics-text-xl metrics-font-bold"},Xn={key:1,class:"metrics-text-2xl metrics-font-bold"},Zn={class:"metrics-font-bold"},ec={class:"metrics-font-bold"};zn.render=function(e,t,r,s,i,a){const n=C("box-no-data"),c=C("i18n-t");return N(),k("span",Hn,[e.noData?(N(),k("div",Qn,[w(n)])):""!==e.errorDetected?(N(),k("div",Wn," Unable to compute data : "+ce(e.errorDetected),1)):(N(),k(c,{key:2,keypath:e.keyTranslate,tag:"span"},{highlight:D((()=>[w("span",{class:e.finalResult.classHighlightColor},ce(e.$t(e.finalResult.highlight)),3)])),value:D((()=>["currency"==e.typeValue?(N(),k("span",Jn,ce(e.$n(e.finalResult.valueKpi,"currency")),1)):(N(),k("span",Xn,ce(e.finalResult.valueKpiAbsolute),1))])),product:D((()=>[w("span",Zn,ce(e.finalResult.productKpi),1)])),symbol:D((()=>[w("span",ec,ce(e.finalResult.suffixSymbol),1)])),_:1},8,["keypath"]))])};var tc=S({name:"FakerHighlightText",props:{keyTranslate:{type:String,default:""},typeValue:{type:String,default:"percent"},typeKpi:{type:String,default:"evolution"},dimension:{type:String,default:"orderAverage"},isSession:{type:Boolean,default:!1}},setup:function(e){const t={percent_evolution:()=>{let t=be.datatype.number({min:1,max:2e3}),r=be.datatype.number({min:1,max:2e3});const s={totalCurrent:be.datatype.number({min:1,max:2e3}),totalPrevious:be.datatype.number({min:1,max:2e3})};e.isSession&&s&&s.totalCurrent&&(t=Number(t/s.totalCurrent*100).toFixed(0));const i=Z((()=>(r=0===r?1:r,((t-r)/r*100).toFixed(0)))),a=Z((()=>{const e=parseInt(i.value);return(e<0?-1*e:e).toFixed(0)})),n=Z((()=>Math.sign(Number.parseFloat(i.value))>=0)),c=Z((()=>n.value?"highlight.increased":"highlight.decreased")),o=Z((()=>({"metrics-text-theme-44 metrics-font-bold":n.value,"metrics-text-theme-45 metrics-font-bold":!n.value})));return{valueKpi:i.value,valueKpiAbsolute:a.value,symbol:"%",highlight:c.value,classHighlightColor:o.value}},percent_best:()=>{const e=be.commerce.productName(),t=Math.floor(Math.random()*Math.floor(2e3));return{productKpi:e,valueKpi:t,valueKpiAbsolute:t,symbol:"%",highlight:"",classHighlightColor:""}},currency_best:()=>({productKpi:be.commerce.productName(),valueKpi:Math.floor(Math.random()*Math.floor(2e3)),symbol:"",highlight:"",classHighlightColor:""}),currency_top:()=>{var e=be.commerce.productName(),t=Math.floor(Math.random()*Math.floor(2e3));return{productKpi:e,valueKpi:t,valueKpiAbsolute:t,symbol:"",highlight:"",classHighlightColor:""}}},r=`${e.typeValue}_${e.typeKpi}`;if(!t[r])throw new Error(`[HighlightText] Unable to calculate highlight strategy for ${e.typeValue}-${e.typeKpi} !`);let s;const i=E(null),a=E(!1);try{s=t[r](),"NO_DATA"===s&&(a.value=!0)}catch(n){i.value=n}return{datas:s,noData:a,error:i}}});const rc={class:"metrics-text-base metrics-m-auto metrics-w-full"},sc={key:0,class:"metrics-text-xl metrics-font-bold metrics-blur-md"},ic={key:1,class:"metrics-text-2xl metrics-font-bold metrics-blur-md"},ac={class:"metrics-font-bold metrics-blur-md"},nc={class:"metrics-font-bold"};tc.render=function(e,t,r,s,i,a){const n=C("i18n-t");return N(),k("span",rc,[w(n,{keypath:e.keyTranslate,tag:"span"},{highlight:D((()=>[w("span",{class:e.datas.classHighlightColor},ce(e.$t(e.datas.highlight)),3)])),value:D((()=>["currency"==e.datas.typeValue?(N(),k("span",sc,ce(e.$n(e.datas.valueKpi,"currency")),1)):(N(),k("span",ic,ce(e.datas.valueKpiAbsolute),1))])),product:D((()=>[w("span",ac,ce(e.datas.productKpi),1)])),symbol:D((()=>[w("span",nc,ce(e.datas.symbol),1)])),_:1},8,["keypath"])])};var cc=S({name:"BoxHighlight",props:{keyTranslate:{type:String,default:""},isSession:{type:Boolean,default:!1},query:{type:Object,default:()=>({})},typeValue:{type:String,default:"percent"},typeKpi:{type:String,default:"evolution"},dimension:{type:String,default:"orderAverage"},additionnalQueryParams:{type:Object,default:()=>({})},faker:{type:Boolean,default:!1},tippyContentKey:{type:String,required:!1,default:""},mustBeGoogleLinked:{type:Boolean,default:!1},disabledNetworkRequest:{type:Boolean,default:!1}},components:{FakerHighlightText:tc,HighlightText:zn,LoaderBoxHighlight:Fn,BoxError:bi,BoxAnalyticsMustBeLinked:js},setup(e){const t=We();if(e.faker)return{faker:!0,result:[!0],showAnalyticsLinkBox:!1,loading:!1,error:!1,resultDimension:[!1],total:[!1]};const r=Z((()=>o(o({},t.getters["main/GET_VARIABLES_QUERY"]),e.additionnalQueryParams))),s=Z((()=>{const r=t.getters["main/GET_OPTIONS_QUERY"];return e.disabledNetworkRequest&&(r.fetchPolicy="no-cache"),r})),{result:i,loading:a,error:n,refetch:c}=ue(e.query,r,s.value);let l={};e.isSession&&(l=fe(i,0,(t=>t[e.dimension].total)));return{total:l,result:i,loading:a,error:n,resultDimension:fe(i,0,(t=>e.isSession?t[e.dimension].categories:t[e.dimension])),refetch:c,showAnalyticsLinkBox:Z((()=>e.mustBeGoogleLinked&&!t.getters["main/HAS_GOOGLE_ACCOUNT"]))}}});const oc={class:"metrics-report-box"},lc={key:0,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},mc={key:1,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},dc={key:2,class:"metrics-box metrics-p-5 metrics-h-full metrics-w-full metrics-border-theme-5 metrics-border"},uc={key:3,class:"metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},pc={class:"metrics-text-xl metrics-flex dark:metrics-text-theme-white metrics-leading-8 sm:metrics-h-20 metrics-h-auto metrics-text-center"};cc.render=function(e,t,r,s,i,a){const n=C("BoxAnalyticsMustBeLinked"),c=C("LoaderBoxHighlight"),o=C("BoxError"),l=C("FakerHighlightText"),m=C("HighlightText");return N(),k("div",oc,[e.showAnalyticsLinkBox?(N(),k("div",lc,[w(n)])):e.loading?(N(),k("div",mc,[w(c)])):e.error?(N(),k("div",dc,[e.error?(N(),k(o,{key:0,retry:e.refetch},null,8,["retry"])):A("",!0)])):e.result?(N(),k("div",uc,[w("div",pc,[e.faker?(N(),k(l,{key:0,result:e.resultDimension,typeValue:e.typeValue,typeKpi:e.typeKpi,dimension:e.dimension,keyTranslate:e.keyTranslate,total:e.total,isSession:e.isSession},null,8,["result","typeValue","typeKpi","dimension","keyTranslate","total","isSession"])):(N(),k(m,{key:1,result:e.resultDimension,typeValue:e.typeValue,typeKpi:e.typeKpi,dimension:e.dimension,keyTranslate:e.keyTranslate,total:e.total,isSession:e.isSession},null,8,["result","typeValue","typeKpi","dimension","keyTranslate","total","isSession"]))])])):A("",!0)])},m.extend(Te),m.extend(Se),m.extend(Ee);var gc=S({name:"ReportLineChart",props:{width:{type:Number,default:0},height:{type:Number,default:0},data:{type:Object,default:()=>({})},isCurrency:{type:Boolean,default:!1},isSession:{type:Boolean,default:!1},granularity:{type:String,default:"day"}},setup(e){const t=We(),{n:r,t:s}=X(),i=Z((()=>t.getters["main/GET_PREVIOUS_DATE_RANGE"])),a=re(),n=Z((()=>e.data.currentPeriod)),c=Z((()=>e.data.previousPeriod)),o=Z((()=>t.state.main.darkMode)),l=Z((()=>t.state.main.compareMode)),d=e=>({day:()=>m(e).locale(t.state.main.isoCode).format("dd D MM "),week:()=>`${s("graph.legend.week")} ${m(e).locale(t.state.main.isoCode).format("ww")}`,month:()=>m(e).locale(t.state.main.isoCode).format("MMM YY"),hour:()=>m(e).locale(t.state.main.isoCode).format("dd D HH")}[p.granularity].call()),u=(e,t)=>{const r=[];for(let s=0;s<t.length;s++)r[s]=0;return e.map((e=>{const s=(e=>({day:()=>m(e).format("YYYY-MM-DD"),week:()=>`${m(e).year()}-${m(e).format("ww")}`,month:()=>`${m(e).year()}-${m(e).format("MM")}`,hour:()=>m(e).format("YYYY-MM-DD HH:00:00")}[p.granularity].call()))(e.date),i=t.indexOf(s);0!==r[i]?r[i]=parseInt(r[i])+parseInt(e.currentValue):r[i]=parseInt(e.currentValue)})),r},p=Ce({granularity:e.granularity,dateCurrentLabels:a.appContext.config.globalProperties.$dr(t.state.main.dateRange.startDate,t.state.main.dateRange.endDate,e.granularity),datePreviousLabels:a.appContext.config.globalProperties.$dr(i.value.startDate,i.value.endDate,e.granularity)}),g={dataChartCurrentPeriod:u(n.value,p.dateCurrentLabels),dataChartPreviousPeriod:l.value?u(c.value,p.datePreviousLabels):null},y=Ce(g);L((()=>e.granularity),(e=>{p.granularity=e,p.dateCurrentLabels=a.appContext.config.globalProperties.$dr(t.state.main.dateRange.startDate,t.state.main.dateRange.endDate,e),p.datePreviousLabels=a.appContext.config.globalProperties.$dr(i.value.startDate,i.value.endDate,e),y.dataChartCurrentPeriod=u(n.value,p.dateCurrentLabels),y.dataChartPreviousPeriod=u(c.value,p.datePreviousLabels)}));return{dataChart:Z((()=>({labels:p.dateCurrentLabels,datasets:[{label:"Current period",borderColor:"#34219E",backgroundColor:"#34219E",fill:!1,labels:p.dateCurrentLabels,data:y.dataChartCurrentPeriod,borderWidth:2,pointRadius:0},{label:"Previous period",borderColor:"#525760",backgroundColor:"#525760",fill:!1,labels:p.datePreviousLabels,data:y.dataChartPreviousPeriod,borderWidth:2,borderDash:[2,2],pointRadius:0}]}))),options:Z((()=>({legend:{display:!1},hover:{mode:"index",intersect:!1},tooltips:!1,plugins:{datalabels:{formatter:function(t,s){const i=e.isCurrency?r(t,"currency"):t;return 1===s.datasetIndex?s.active?i+"\n"+d(s.dataset.labels[s.dataIndex]):"":s.active?i:""},display:function(e){return e.active},align:function(e){return 1===e.datasetIndex?e.active&&e.dataIndex>=e.dataset.labels.length-5?"left":e.active&&e.dataIndex<=e.dataset.labels.length-5?"right":"center":e.active&&e.dataIndex<=1?"top":e.active&&e.dataIndex>=1?"left":"center"},backgroundColor:e=>e.active?e.dataset.backgroundColor:"white",borderColor:e=>e.dataset.borderColor,borderRadius:e=>e.active?0:32,borderWidth:1,color:e=>e.active?"white":e.dataset.backgroundColor,font:{weight:"bold"},offset:e=>(e.dataIndex>=e.dataset.labels.length-3&&e.datasetIndex,15),textAlign:"center"}},scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:15,fontSize:"12",fontColor:o.value?"#718096":"#777777",callback:function(e){return d(e)}},gridLines:{display:!1}}],yAxes:[{ticks:{min:0,fontSize:"12",fontColor:o.value?"#718096":"#777777",callback:function(t){return e.isCurrency?r(t,"currency"):t}},gridLines:{color:o.value?"#718096":"#D8D8D8",zeroLineColor:o.value?"#718096":"#D8D8D8",borderDash:[2,2],zeroLineBorderDash:[2,2],drawBorder:!1}}]}})))}}});gc.render=function(e,t,r,s,i,a){const n=C("Chart");return N(),k(n,{type:"line",width:e.width,height:e.height,data:e.dataChart,options:e.options},null,8,["width","height","data","options"])};var yc=S({name:"LineChart",components:{ReportLineChart:gc},props:{isCurrency:{type:Boolean,default:!1},isSession:{type:Boolean,default:!1},granularity:{type:String,default:""},dataChart:{type:Array,default:()=>[]}}});yc.render=function(e,t,r,s,i,a){const n=C("ReportLineChart");return N(),k("div",null,[w(n,{granularity:e.granularity,"is-session":e.isSession,"is-currency":e.isCurrency,height:169,class:"metrics-mt-6",data:e.dataChart},null,8,["granularity","is-session","is-currency","data"])])};var vc={name:"BarChartLoader",components:{}};const hc={style:{width:"517px",height:"210px"}},bc={class:"metrics-mt-2 metrics-flex metrics-h-full metrics-content-around metrics-justify-around metrics-items-end metrics-pl-5 metrics-pr-5 metrics-border-l-2 metrics-border-b-2 metrics-border-gray-300 metrics-animate-pulse"};vc.render=function(e,t,r,s,i,a){return N(),k("div",hc,[w("div",bc,[(N(),k(se,null,ie([60,90,130,150,160,170,60,120,140,10],((e,t)=>w("div",{key:t,style:[`height: ${e}px`,{width:"35px"}],class:"metrics-bg-gray-300 metrics-rounded-sm metrics-rounded-b-none"},null,4))),64))])])};var fc=S({name:"ReportEvolutionNumber",props:{isCurrency:{type:Boolean,default:!1},total:{type:Object,default:()=>({})},type:{type:String,default:"current"}},setup:e=>({value:"current"===e.type?e.total.currentValue:e.total.previousValue})});fc.render=function(e,t,r,s,i,a){return N(),k("div",null,ce(e.isCurrency?e.$n(e.value,"currency"):e.value),1)};var xc=S({name:"FakerReportEvolutionNumber",props:{isCurrency:{type:Boolean,default:!1}},setup:()=>({value:be.datatype.number({min:1,max:2e3})})});const _c={class:"metrics-blur-md"};xc.render=function(e,t,r,s,i,a){return N(),k("div",_c,ce(e.isCurrency?e.$n(e.value,"currency"):e.value),1)};var Tc=S({name:"FakerLineChart",components:{ReportLineChart:gc},props:{isCurrency:{type:Boolean,default:!1},isSession:{type:Boolean,default:!1},granularity:{type:String,default:""}},setup(e){const t="month"===e.granularity||"week"===e.granularity?100:10;return{dataChart:{currentPeriod:new Array(24).fill(null).map((()=>({date:m(be.date.recent(t)).format("YYYY-MM-DD HH:MM:ss"),currentValue:be.datatype.number(2e3)}))),previousPeriod:new Array(24).fill(null).map((()=>({date:m(be.date.recent(3*t)).format("YYYY-MM-DD HH:MM:ss"),currentValue:be.datatype.number(2e3)})))}}}});const Sc={class:"metrics-blur-md"};Tc.render=function(e,t,r,s,i,a){const n=C("ReportLineChart");return N(),k("div",Sc,[w(n,{granularity:e.granularity,"is-session":e.isSession,"is-currency":e.isCurrency,height:169,class:"metrics-mt-6",data:e.dataChart},null,8,["granularity","is-session","is-currency","data"])])};var Ec=S({name:"BoxEvolution",components:{BarChartLoader:vc,BoxError:bi,BoxNoData:Xa,BoxAnalyticsMustBeLinked:js,ReportEvolutionNumber:fc,FakerReportEvolutionNumber:xc,LineChart:yc,FakerLineChart:Tc},props:{isCurrency:{type:Boolean,default:!1},title:{type:String,default:"Evolution"},queries:{type:Object,default:()=>({})},dimensions:{type:Object,default:()=>({})},isSession:{type:Boolean,default:!1},faker:{type:Boolean,default:!1},showAllGranularity:{type:Boolean,default:!1},tippyContentKey:{type:String,default:"graph.sessionsEvolution"},mustBeGoogleLinked:{type:Boolean,default:!1}},setup(e){const t=We(),{appContext:{config:{globalProperties:{$segment:r}}}}=re(),s=Z((()=>{const r=e.isSession&&v?{granularity:v.value}:{};return o(o({},t.getters["main/GET_VARIABLES_QUERY"]),r)})),i=Z((()=>t.getters["main/GET_OPTIONS_QUERY"])),a=Z((()=>t.state.main.compareMode)),n=E(e.queries),c=E(e.dimensions),{t:d}=X(),u=Z((()=>t.getters["main/GET_PREVIOUS_DATE_RANGE"])),p=Z((()=>m(u.value.endDate).diff(m(u.value.startDate),"days"))),g=[{slug:"hour",label:d("tabsBody.dates.hour"),onPress:()=>h("hour"),dateRangeMinMax:{min:0,max:2}},{slug:"day",label:d("tabsBody.dates.day"),onPress:()=>h("day"),dateRangeMinMax:{min:2,max:60}},{slug:"week",label:d("tabsBody.dates.week"),onPress:()=>h("week"),dateRangeMinMax:{min:21,max:180}},{slug:"month",label:d("tabsBody.dates.month"),onPress:()=>h("month"),dateRangeMinMax:{min:60,max:1/0}}],y=Z((()=>e.showAllGranularity?g:g.filter((e=>p.value>=e.dateRangeMinMax.min&&p.value<=e.dateRangeMinMax.max)))),v=E(y.value[0].slug);L((()=>t.getters["main/GET_PREVIOUS_DATE_RANGE"]),(()=>{-1===ke(y.value,{slug:v.value})&&h(y.value[0].slug)}));const h=e=>{r().track("[MTR] Overview Select Granularity",l(o({module:"ps_metrics"},t.getters["main/GET_USER_EMAIL"]&&{email:t.getters["main/GET_USER_EMAIL"]}),{slug:e})),v.value=e};if(e.faker)return{faker:!0,TotalValues:[!0],resultTotal:[!0],resultEvolution:[!0],compareMode:a,granularity:v,buttonStateAvailable:y};const{result:b,loading:f,error:x,refetch:_}=ue(n.value[0],s,i.value),{result:T,loading:S,error:C,refetch:k}=ue(n.value[1],s,i.value),w=fe(b,0,(e=>parseInt(Number(e[c.value[0]].currentValue).toFixed(0)))),D=fe(b,0,(e=>parseInt(Number(e[c.value[0]].previousValue).toFixed(0)))),A=fe(b,0,(e=>e[c.value[0]])),N=fe(T,[],(e=>e[c.value[1]])),M=Z((()=>e.mustBeGoogleLinked&&!t.getters["main/HAS_GOOGLE_ACCOUNT"])),R=Z((()=>{const e=w.value,t=D.value;return 0===parseInt(e)&&0===parseInt(t)}));return{compareMode:a,granularity:v,buttonStateAvailable:y,resultTotal:b,resultEvolution:T,loadingTotal:f,loadingEvolution:S,TotalValues:A,dataChart:N,error:x||C,refetch:()=>{_(),k()},noData:R,showAnalyticsLinkBox:M}}});const Cc={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},kc={class:"\n          metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5\n          hover:metrics-overflow-visible hover:metrics-absolute\n          metrics-overflow-hidden metrics-z-10 metrics-bg-gray-248\n        "},wc={class:"\n          metrics-ml-auto metrics-mt-0 metrics-flex metrics-text-gray-700\n          dark:metrics-text-gray-300\n        "},Dc={id:"metrics-evolution-datepickers",class:"metrics-flex metrics-rounded-lg metrics-text-md",role:"group"},Ac={class:"metrics-flex",style:{"align-items":"center","justify-content":"center"}},Nc={class:"\n        metrics-intro-y\n        metrics-box\n        metrics-p-5\n        metrics-mt-2\n        metrics-border-theme-5\n        metrics-border\n      "},Mc={class:"metrics-flex metrics-flex-row xl:metrics-items-center"},Rc={class:"metrics-flex"},Oc={key:0,class:"metrics-h-7 metrics-flex metrics-items-center"},Pc={key:1,class:"\n                metrics-text-theme-43\n                dark:metrics-text-gray-300\n                metrics-text-lg\n                xl:metrics-text-xl\n                metrics-font-bold\n              "},Ic={key:2,class:"\n                metrics-text-theme-43\n                dark:metrics-text-gray-300\n                metrics-text-lg\n                xl:metrics-text-xl\n                metrics-font-bold\n              "},Bc={class:"metrics-mt-0.5 metrics-text-theme-43"},Lc=w("div",{class:"\n              metrics-w-px\n              metrics-h-12\n              metrics-border\n              metrics-border-r\n              metrics-border-dashed\n              metrics-border-gray-300\n              dark:metrics-border-dark-5\n              metrics-mx-4\n              xl:metrics-mx-6\n            "},null,-1),$c={key:0,class:"metrics-h-7 metrics-flex metrics-items-center"},Gc={key:1,class:"\n                metrics-text-theme-43\n                dark:metrics-text-gray-300\n                metrics-text-lg\n                xl:metrics-text-xl\n                metrics-font-bold\n              "},Uc={key:2,class:"\n                metrics-text-gray-777 metrics-text-lg\n                xl:metrics-text-xl\n                metrics-font-medium\n              "},Yc={key:3,class:"metrics-mt-0.5 metrics-text-gray-777"},Vc={class:"metrics-self-start metrics-ml-auto"},qc={key:0,class:"metrics-p-5 metrics-mt-10"},Fc={key:1,class:"metrics-flex metrics-justify-center"},Kc={key:2,class:"metrics-mt-4 metrics-h-full metrics-w-full metrics-mt-10"},jc={key:3,class:"\n          metrics-mt-4 metrics-h-full metrics-w-full metrics-mt-16 metrics-pb-16\n        "},zc={key:4,class:"metrics-report-chart"};Ec.render=function(e,t,r,s,i,a){const n=C("LoadingIcon"),c=C("FakerReportEvolutionNumber"),o=C("ReportEvolutionNumber"),l=C("InfoIcon"),m=C("Tippy"),d=C("BoxAnalyticsMustBeLinked"),u=C("BarChartLoader"),p=C("BoxError"),g=C("BoxNoData"),y=C("FakerLineChart"),v=C("LineChart");return N(),k("div",null,[w("div",Cc,[w("h2",kc,ce(e.title),1),w("div",wc,[w("div",Dc,[(N(!0),k(se,null,ie(e.buttonStateAvailable,((t,r)=>(N(),k("button",{key:t.slug,type:"button",class:["\n              metrics-button-date\n              metrics-border\n              metrics-text-white\n              metrics-ml-auto\n            ",{" metrics-text-white metrics-border-theme-43 metrics-bg-theme-43 metrics-cursor-default":e.granularity===t.slug,"metrics-bg-white metrics-border-gray-400 metrics-text-gray-700 metrics-zoom-in-no-shadow":e.granularity!==t.slug,"metrics-rounded-l-lg":0===r,"metrics-rounded-r-lg":r===e.buttonStateAvailable.length-1}],onClick:ae((e=>t.onPress()),["prevent"])},[w("span",Ac,ce(t.label),1)],10,["onClick"])))),128))])])]),w("div",Nc,[w("div",Mc,[w("div",Rc,[w("div",null,[e.loadingTotal?(N(),k("div",Oc,[w(n,{icon:"three-dots",class:"metrics-w-8"})])):e.error?(N(),k("div",Pc," - ")):e.TotalValues?(N(),k("div",Ic,[e.faker?(N(),k(c,{key:0,isCurrency:e.isCurrency},null,8,["isCurrency"])):(N(),k(o,{key:1,isCurrency:e.isCurrency,total:e.TotalValues},null,8,["isCurrency","total"]))])):A("",!0),w("div",Bc,ce(e.$t("graph.currentPeriod")),1)]),Lc,w("div",null,[e.loadingTotal?(N(),k("div",$c,[w(n,{icon:"three-dots",class:"metrics-w-8"})])):e.error?(N(),k("div",Gc," - ")):e.TotalValues&&e.compareMode?(N(),k("div",Uc,[e.faker?(N(),k(c,{key:0,isCurrency:e.isCurrency},null,8,["isCurrency"])):(N(),k(o,{key:1,isCurrency:e.isCurrency,total:e.TotalValues,type:"previous"},null,8,["isCurrency","total"]))])):A("",!0),e.compareMode?(N(),k("div",Yc,ce(e.$t("graph.lastPeriod")),1)):A("",!0)])]),w("div",Vc,[w(m,{tag:"div",content:e.$t(e.tippyContentKey)},{default:D((()=>[w(l,{class:"\n                metrics-w-5\n                lg:metrics-w-3\n                metrics-h-auto metrics-text-gray-777\n              "})])),_:1},8,["content"])])]),e.showAnalyticsLinkBox?(N(),k("div",qc,[w(d,{"large-icon":""})])):e.loadingEvolution?(N(),k("div",Fc,[w(u)])):e.error?(N(),k("div",Kc,[w(p,{retry:e.refetch,"large-icon":""},null,8,["retry"])])):e.noData?(N(),k("div",jc,[w(g,{"large-icon":""})])):e.resultEvolution?(N(),k("div",zc,[e.faker?(N(),k(y,{key:0,granularity:e.granularity,"is-session":e.isSession,"is-currency":e.isCurrency,dataChart:e.dataChart},null,8,["granularity","is-session","is-currency","dataChart"])):(N(),k(v,{key:1,granularity:e.granularity,"is-session":e.isSession,"is-currency":e.isCurrency,dataChart:e.dataChart},null,8,["granularity","is-session","is-currency","dataChart"]))])):A("",!0)])])};var Hc=S({name:"ReportDonutChart",props:{width:{type:Number,default:0},height:{type:Number,default:0},data:{type:Object,default:()=>({})}},emits:["hover:chartElement"],setup(e,{emit:t}){const r=We(),s=Z((()=>r.state.main.darkMode)),i=Z((()=>{const t={data:[],dataPrevious:[],labels:[],colors:[]};return e.data.map((e=>{t.labels.push(e.category),t.data.push(e.currentValue),t.colors.push(e.color)})),t}));return{dataChart:Z((()=>({labels:i.value.labels,datasets:[{data:i.value.data,backgroundColor:i.value.colors,hoverBackgroundColor:i.value.colors,borderWidth:5,borderColor:s.value?"#303953":"#fff"}]}))),options:Z((()=>({plugins:{datalabels:{display:!1}},legend:{display:!1},cutoutPercentage:80,tooltips:{enabled:!1},hover:{index:"index",intersect:!1,onHover:function(e,r){t("hover:chartElement",r[0])}}})))}}});Hc.render=function(e,t,r,s,i,a){const n=C("Chart");return N(),k(n,{type:"doughnut",width:e.width,height:e.height,data:e.dataChart,options:e.options},null,8,["width","height","data","options"])};var Qc=S({name:"BoxDistribution",components:{ReportDonutChart:Hc},props:{isSession:{type:Boolean,default:!1},total:{type:String,default:"0"},result:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]}},setup(e){const t=re(),r=Z((()=>t.appContext.config.globalProperties.$c(e.data.length))),s=Z((()=>e.data.map(((t,s)=>{const i=t.currentValue/parseInt(e.total)*100,a=parseFloat(t.currentValue).toFixed(2);return l(o({},t),{percentage:i.toFixed(2),currentValue:a,color:r.value[s]})})))),i=E(0),{t:a}=X(),n=Z((()=>{var e;return null==(e=s.value[i.value])?void 0:e.percentage})),c=Z((()=>{var e,t,r;if(null==(e=s.value[i.value])?void 0:e.paymentMethod)return null==(t=s.value[i.value])?void 0:t.paymentMethod;const n=null==(r=s.value[i.value])?void 0:r.category;return a("graph.legend."+n.replace(" ","_"))}));return{dataChart:s,getHoveredChartIndex:e=>{i.value=e?e._index:0},hoveredDataName:c,hoveredDataPercentage:n,itemName:e=>e.paymentMethod?e.paymentMethod:a("graph.legend."+e.category.replace(" ","_"))}}});const Wc={class:"metrics-relative"},Jc={class:"metrics-absolute metrics-w-full metrics-h-full metrics-flex metrics-flex-col metrics-items-center metrics-justify-center metrics-top-0 metrics-left-0 metrics--z-10"},Xc={class:"metrics-text-sm sm:metrics-text-base md:metrics-text-base lg:metrics-text-base xl:metrics-text-sm metrics-truncated metrics-w-9/12 metrics-text-center"},Zc={class:"metrics-text-xl sm:metrics-text-base md:metrics-text-base lg:metrics-text-base xl:metrics-text-xl metrics-font-medium"},eo={class:"metrics-mt-5"},to={class:"metrics-truncate metrics-text-sm"},ro=w("div",{class:"metrics-h-px metrics-flex-1 metrics-border metrics-border-r metrics-border-dashed metrics-border-gray-300 metrics-mx-3 xl:metrics-hidden"},null,-1),so={class:"metrics-font-medium xl:metrics-ml-auto"};Qc.render=function(e,t,r,s,i,a){const n=C("ReportDonutChart"),c=C("Tippy");return N(),k("div",null,[w("div",Wc,[w(n,{height:300,data:e.dataChart,class:"metrics-mt-3 metrics-z-50","onHover:chartElement":t[1]||(t[1]=t=>e.getHoveredChartIndex(t))},null,8,["data"]),w("div",Jc,[w("div",Xc,ce(e.hoveredDataName),1),w("div",Zc,ce(e.hoveredDataPercentage)+"% ",1)])]),w("div",eo,[(N(!0),k(se,null,ie(e.dataChart.slice(0,4),(t=>(N(),k("div",{key:t.currentValue,class:"metrics-flex metrics-items-center metrics-mb-3"},[w("div",{class:"metrics-w-2 metrics-h-2 metrics-rounded-full metrics-mr-3",style:"background-color:"+t.color},null,4),w("span",to,ce(e.itemName(t)),1),ro,w("span",so,[w(c,{tag:"div",content:`${t.currentValue}`},{default:D((()=>[ne(ce(t.percentage)+"% ",1)])),_:2},1032,["content"])])])))),128))])])};var io=S({name:"FakerBoxDistribution",components:{ReportDonutChart:Hc},props:{limit:{type:Number,default:4},category:{type:Array,default:()=>[]}},setup(e){const t=new Array(e.limit).fill(null).map(((t,r)=>({id:be.datatype.number({min:100,max:999}),currentValue:be.datatype.number({min:0,max:500}),previousValue:be.datatype.number({min:0,max:500}),category:e.category[r],percentage:25}))),r=be.datatype.number({min:1,max:2e3}),s=re(),i=Z((()=>s.appContext.config.globalProperties.$c(t.length))),a=Z((()=>t.map(((e,t)=>{const s=e.currentValue/r*100,a=parseFloat(e.currentValue).toFixed(2);return l(o({},e),{percentage:s.toFixed(2),currentValue:a,color:i.value[t]})})))),n=E(0),c=Z((()=>{var e;return null==(e=a.value[n.value])?void 0:e.percentage})),m=Z((()=>{var e;return null==(e=a.value[n.value])?void 0:e.category}));return{dataChart:a,getHoveredChartIndex:e=>{n.value=e?e._index:0},hoveredDataName:m,hoveredDataPercentage:c}}});const ao={class:"metrics-relative"},no={class:"metrics-absolute metrics-w-full metrics-h-full metrics-flex metrics-flex-col metrics-items-center metrics-justify-center metrics-top-0 metrics-left-0 metrics--z-10 "},co={class:"metrics-text-sm sm:metrics-text-base md:metrics-text-base lg:metrics-text-base xl:metrics-text-sm metrics-truncated metrics-w-9/12 metrics-text-center "},oo={class:"metrics-text-xl sm:metrics-text-base md:metrics-text-base lg:metrics-text-base xl:metrics-text-xl metrics-font-medium metrics-blur-md"},lo={class:"metrics-mt-5"},mo={class:"metrics-truncate metrics-text-sm"},uo=w("div",{class:"metrics-h-px metrics-flex-1 metrics-border metrics-border-r metrics-border-dashed metrics-border-gray-300 metrics-mx-3 xl:metrics-hidden"},null,-1),po={class:"metrics-font-medium xl:metrics-ml-auto metrics-blur-md"};io.render=function(e,t,r,s,i,a){const n=C("ReportDonutChart");return N(),k("div",null,[w("div",ao,[w(n,{height:300,data:e.dataChart,class:"metrics-mt-3 metrics-z-50","onHover:chartElement":t[1]||(t[1]=t=>e.getHoveredChartIndex(t))},null,8,["data"]),w("div",no,[w("div",co,ce(e.$t(`graph.legend.${e.hoveredDataName.replace(" ","_")}`)),1),w("div",oo,ce(e.hoveredDataPercentage)+"% ",1)])]),w("div",lo,[(N(!0),k(se,null,ie(e.dataChart.slice(0,4),(t=>(N(),k("div",{key:t.currentValue,class:"metrics-flex metrics-items-center metrics-mb-3"},[w("div",{class:"metrics-w-2 metrics-h-2 metrics-rounded-full metrics-mr-3",style:"background-color:"+t.color},null,4),w("span",mo,ce(e.$t(`graph.legend.${t.category.replace(" ","_")}`)),1),uo,w("span",po,ce(t.percentage)+"% ",1)])))),128))])])};var go=S({name:"LoaderBoxHighlight"});const yo=ve('<div class="metrics-relative metrics-rounded-full metrics-h-36 metrics-w-36 metrics-animate-pulse metrics-m-auto"><div class="metrics-rounded-full metrics-w-full metrics-h-full metrics-bg-gray-400 metrics-mt-2"></div><div class="metrics-top-0 metrics-left-0 metrics-right-0 metrics-bottom-0 metrics-m-auto metrics-h-24 metrics-w-24 metrics-absolute metrics-bg-white metrics-rounded-full"><div class="metrics-w-full metrics-h-full metrics-m-auto"></div></div></div><div class="metrics-grid metrics-grid-cols-1 metrics-gap-1 metrics-mt-5"><div class="metrics-col-span-1 metrics-flex metrics-my-1.5"><div class="metrics-h-4 metrics-w-6 metrics-rounded-full metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-4 metrics-w-full metrics-ml-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div></div><div class="metrics-col-span-1 metrics-flex metrics-my-1.5"><div class="metrics-h-4 metrics-w-6 metrics-rounded-full metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-4 metrics-w-full metrics-ml-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div></div><div class="metrics-col-span-1 metrics-flex metrics-my-1.5"><div class="metrics-h-4 metrics-w-6 metrics-rounded-full metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-4 metrics-w-full metrics-ml-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div></div><div class="metrics-col-span-1 metrics-flex metrics-my-1.5"><div class="metrics-h-4 metrics-w-6 metrics-rounded-full metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-4 metrics-w-full metrics-ml-4 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div></div></div>',2);go.render=function(e,t,r,s,i,a){return N(),k("div",null,[yo])};var vo=S({name:"BoxDistribution",components:{BoxError:bi,FakerDonutChart:io,DonutChart:Qc,LoaderBoxDistribution:go,BoxNoData:Xa,BoxAnalyticsMustBeLinked:js},props:{title:{type:String,default:"Distribution"},query:{type:Object,default:()=>({})},dimension:{type:String,default:"sessionsGroupByCategory"},additionnalQueryParams:{type:Object,default:()=>({limit:20,isoCode:"fr"})},faker:{type:Boolean,default:!1},fakerLimit:{type:Number,default:4},fakerLabels:{type:Array,default:()=>[]},isSession:{type:Boolean,default:!1},tippyContentKey:{type:String,default:""},mustBeGoogleLinked:{type:Boolean,default:!1}},setup(e){if(e.faker)return{faker:!0,result:[!0]};const t=We(),r=re(),s=Z((()=>o(o({},t.getters["main/GET_VARIABLES_QUERY"]),e.additionnalQueryParams))),i=t.getters["main/GET_OPTIONS_QUERY"],{result:a,loading:n,error:c,refetch:m}=ue(e.query,s,i),d=fe(a,[],(t=>e.isSession?t[e.dimension].categories:t[e.dimension])),u=Z((()=>e.isSession?fe(a,[],(t=>t[e.dimension].total.totalCurrent)).value:d.value.reduce(((e,t)=>parseInt(e+=t.currentValue)),0))),p=Z((()=>0===u.value)),g=Z((()=>r.appContext.config.globalProperties.$c(d.value.length))),y=Z((()=>d.value.map(((e,t)=>{const r=e.currentValue/parseInt(u.value)*100,s=parseFloat(e.currentValue).toFixed(2);return l(o({},e),{percentage:r.toFixed(2),currentValue:s,color:g.value[t]})})))),v=Z((()=>e.mustBeGoogleLinked&&!t.getters["main/HAS_GOOGLE_ACCOUNT"]));return{total:u,dataChart:y,result:a,loading:n,error:c,refetch:m,noData:p,showAnalyticsLinkBox:v}}});const ho={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},bo={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5 hover:metrics-overflow-visible metrics-overflow-hidden"},fo=w("div",{class:"sm:ml-auto mt-3 sm:mt-0 relative text-gray-700 dark:text-gray-300"},null,-1),xo={class:"metrics-intro-y metrics-box metrics-p-5 metrics-pt-2 metrics-mt-2 metrics-border-theme-5 metrics-border"},_o={class:"metrics-absolute metrics-top-5 metrics-right-5 metrics-z-50"},To={key:0,class:"metrics-mt-16"},So={key:2,class:"metrics-mt-16"},Eo={key:3,class:"metrics-mt-16 metrics-pb-16"};vo.render=function(e,t,r,s,i,a){const n=C("InfoIcon"),c=C("Tippy"),o=C("BoxAnalyticsMustBeLinked"),l=C("LoaderBoxDistribution"),m=C("BoxError"),d=C("BoxNoData"),u=C("FakerDonutChart"),p=C("DonutChart");return N(),k("div",null,[w("div",ho,[w("h2",bo,ce(e.title),1),fo]),w("div",xo,[w("div",_o,[w(c,{tag:"div",content:e.$t(e.tippyContentKey)},{default:D((()=>[w(n,{class:"metrics-w-5 lg:metrics-w-3 metrics-h-auto"})])),_:1},8,["content"])]),e.showAnalyticsLinkBox?(N(),k("div",To,[w(o,{"large-icon":""})])):e.loading?(N(),k(l,{key:1})):e.error?(N(),k("div",So,[w(m,{retry:e.refetch,"large-icon":""},null,8,["retry"])])):e.noData?(N(),k("div",Eo,[w(d,{"large-icon":""})])):e.result?(N(),k(se,{key:4},[e.faker?(N(),k(u,{key:0,category:e.fakerLabels,limit:e.fakerLimit},null,8,["category","limit"])):(N(),k(p,{key:1,data:e.dataChart,result:e.result,total:e.total},null,8,["data","result","total"]))],64)):A("",!0)])])};var Co=S({name:"Acquisition",components:{BoxUpgradePlanModal:Fi,ReportBoxNumber:Ci,RightSection:Vn,BoxHighlight:cc,BoxEvolution:Ec,BoxDistribution:vo,BoxSyncStatusModal:Ni},setup(){const e=E(""),t=E(),r=he(),s=Z((()=>r.getters["main/GET_IS_ADVANCED"])),i=Z((()=>r.getters["main/IS_FIRST_ACCESS"])),a=Z((()=>r.getters["main/IS_FIRST_SYNC"])),n=Z((()=>r.state.main.isoCode)),c=[jr,Jr];M("bind[importantNotesRef]",(e=>{t.value=e}));const o=Z((()=>r.getters["main/GET_PLAN_MODAL_OPENED"]));s.value||setTimeout((function(){r.dispatch("main/SET_PLAN_MODAL_OPENED",!0)}),5e3);return{advancedPlan:s,upgradePlanModalOpened:o,isFirstAccess:i,isFirstSync:a,sessions:jr,uniqueUsers:zr,salesReportFilter:e,prevImportantNotes:()=>{t.value.tns.goTo("prev")},nextImportantNotes:()=>{t.value.tns.goTo("next")},sessionsByDate:Jr,arrayQuerySessions:c,sessionsByCategories:Xr,arrayDimensionsSessions:["sessions","sessionsGroupByDate"],isoCode:n,fakerLabels:["Direct","Social","Email","Affiliates"]}}});const ko={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},wo={class:"metrics-relative metrics-col-span-12 xxl:metrics-col-span-9 metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-content-start"},Do={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-mt-5 metrics-z-0"},Ao={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10 "},No={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},Mo={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},Ro={class:"metrics-col-span-12 sm:metrics-col-span-12 xl:metrics-col-span-12 metrics-intro-y metrics-mt-2"},Oo={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-z-0 md:metrics-mt-5  metrics-mt-2"},Po={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},Io={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},Bo={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2 "},Lo={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},$o={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},Go={class:"metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},Uo={class:"metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3  lg:metrics-mt-8 sm:metrics-mt-0"},Yo={class:"metrics-z-0 metrics-col-span-12 xxl:metrics-col-span-3 xxl:metrics-border-l metrics-border-theme-5 metrics--mb-10 metrics-pb-10"};Co.render=function(e,t,r,s,i,a){const n=C("BoxSyncStatusModal"),c=C("BoxUpgradePlanModal"),o=C("BoxHighlight"),l=C("ReportBoxNumber"),m=C("BoxEvolution"),d=C("BoxDistribution"),u=C("RightSection");return N(),k("div",ko,[w("div",wo,[e.isFirstAccess||e.isFirstSync?(N(),k(n,{key:0})):e.upgradePlanModalOpened?(N(),k(c,{key:1,canBeClosed:""})):A("",!0),w("div",Do,[w("div",Ao,[w("h2",No,ce(e.$t("tabs.highlights")),1)]),w("div",Mo,[w("div",Ro,[w(o,{"key-translate":"highlight.topSourceTraffic",query:e.sessionsByCategories,typeValue:"percent",typeKpi:"best",isSession:"",dimension:"sessionsGroupByCategory",additionnalQueryParams:{isoCode:e.isoCode,limit:1},faker:!e.advancedPlan,"must-be-google-linked":!0,tippyContentKey:"highlight.topSourceTrafficTooltip"},null,8,["query","additionnalQueryParams","faker"])])])]),w("div",Oo,[w("div",Po,[w("h2",Io,ce(e.$t("tabs.report")),1)]),w("div",Bo,[w("div",Lo,[w(l,{title:e.$t("boxNumber.sessions"),query:e.sessions,dimension:"sessions",faker:!e.advancedPlan,"tippy-content-key":e.$t("boxNumber.sessionsTooltip"),"must-be-google-linked":!0,icon:"AnalyticsIcon"},null,8,["title","query","faker","tippy-content-key"])]),w("div",$o,[w(l,{title:e.$t("boxNumber.uniqueVisits"),query:e.uniqueUsers,dimension:"uniqueUsers",faker:!e.advancedPlan,"tippy-content-key":e.$t("boxNumber.uniqueVisitsTooltip"),"must-be-google-linked":!0,icon:"AnalyticsIcon"},null,8,["title","query","faker","tippy-content-key"])])])]),w("div",Go,[w(m,{title:e.$t("graph.sessionsEvolution"),queries:e.arrayQuerySessions,dimensions:e.arrayDimensionsSessions,"is-session":!0,faker:!e.advancedPlan,tippyContentKey:"graph.sessionsEvolutionTooltip","must-be-google-linked":!0},null,8,["title","queries","dimensions","faker"])]),w("div",Uo,[w(d,{title:e.$t("graph.trafficDistribution"),query:e.sessionsByCategories,dimension:"sessionsGroupByCategory",isSession:!0,faker:!e.advancedPlan,tippyContentKey:"graph.trafficDistributionTooltip","must-be-google-linked":!0,fakerLabels:e.fakerLabels},null,8,["title","query","faker","fakerLabels"])])]),w("div",Yo,[w(u,{tipscardsLabel:""})])])};var Vo=S({name:"ReportTable",components:{BoxNoData:Xa},props:{products:{type:Array,default:()=>[]},previousProducts:{type:Array,default:()=>[]}},setup(e){const t=E(e.products),r=E(e.previousProducts),s=We(),i=Z((()=>s.state.main.compareMode));return{topProductsWithPerf:Z((()=>{let e=[];for(const s in t.value){let i="up";if(r.value.length)for(const e in r.value)if(r.value[e].id===t.value[s].id){if(s===e){i="equal";break}if(s<e){i="down";break}}const a=JSON.parse(JSON.stringify(t[s]));a.progress=i,e.push(a)}return e})),compareMode:i}}});const qo={key:0,class:"metrics-table metrics-table-fixed metrics-w-full"},Fo={key:0,class:" metrics-w-6 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1"},Ko={class:"metrics-w-3/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1"},jo={class:"metrics-w-1/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1 metrics-text-right"},zo={class:"metrics-w-1/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1 metrics-text-right"},Ho={key:0,class:"metrics-relative"},Qo={key:2,class:"metrics-w-4 metrics-text-theme-43 metrics-absolute metrics-top-1 metrics-left-0 metrics-text-center"},Wo={class:"metrics-w-3/5 metrics-p-1.5 metrics-relative"},Jo={class:"metrics-bg-white metrics-truncate hover:metrics-absolute metrics-top-1.5 metrics-pr-1"},Xo={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right"},Zo={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right"},el={key:1};Vo.render=function(e,t,r,s,i,a){const n=C("Tippy"),c=C("arrowUpIcon"),o=C("arrowDownIcon"),l=C("BoxNoData");return N(),k("div",null,[e.topProductsWithPerf.length>0?(N(),k("table",qo,[w("thead",null,[w("tr",null,[e.compareMode?(N(),k("th",Fo)):A("",!0),w("th",Ko,[w(n,{tag:"div",content:e.$t("business.top10.tippy.product")},{default:D((()=>[ne(ce(e.$t("business.top10.product")),1)])),_:1},8,["content"])]),w("th",jo,[w(n,{tag:"div",content:e.$t("business.top10.tippy.orders")},{default:D((()=>[ne(ce(e.$t("business.top10.orders")),1)])),_:1},8,["content"])]),w("th",zo,ce(e.$t("business.top10.amount")),1)])]),w("tbody",null,[(N(!0),k(se,null,ie(e.topProductsWithPerf,((t,r,s)=>(N(),k("tr",{key:s,class:"metrics-border-b last:metrics-b-0 dark:metrics-border-dark-5"},[e.compareMode?(N(),k("td",Ho,["up"===t.progress?(N(),k(c,{key:0,class:"metrics-w-4 metrics-text-theme-44 metrics-absolute metrics-top-1 metrics-left-0"})):"down"===t.progress?(N(),k(o,{key:1,class:"metrics-w-4 metrics-text-theme-45 metrics-absolute metrics-top-1 metrics-left-0"})):(N(),k("div",Qo," = "))])):A("",!0),w("td",Wo,[w("div",Jo,ce(t.name),1)]),w("td",Xo,ce(t.quantity),1),w("td",Zo,ce(e.$n(t.amount,"currency")),1)])))),128))])])):(N(),k("div",el,[w(l,{"large-icon":""})]))])};var tl=S({name:"FakerReportTable",setup:()=>({products:new Array(10).fill(null).map(((e,t)=>({id:t,name:be.commerce.productName(),quantity:be.datatype.number(2e3),amount:be.datatype.number(2e3)}))).sort(((e,t)=>e.amount-t.amount))})});const rl={key:0,class:"metrics-table metrics-table-fixed metrics-w-full"},sl={class:"metrics-w-3/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1"},il={class:"metrics-w-1/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1 metrics-text-right"},al={class:"metrics-w-1/5 metrics-border-b-2 dark:metrics-border-dark-5 whitespace-nowrap metrics-bg-white metrics-p-1 metrics-text-right"},nl={class:"metrics-w-3/5 metrics-p-1.5 metrics-relative"},cl={class:"metrics-bg-white metrics-truncate hover:metrics-absolute metrics-top-1.5 metrics-pr-1 metrics-blur-md"},ol={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right metrics-blur-md"},ll={class:"metrics-w-1/5 metrics-p-1.5 metrics-text-right metrics-blur-md"};tl.render=function(e,t,r,s,i,a){const n=C("Tippy");return N(),k("div",null,[e.products.length>0?(N(),k("table",rl,[w("thead",null,[w("tr",null,[w("th",sl,[w(n,{tag:"div",content:e.$t("business.top10.tippy.product")},{default:D((()=>[ne(ce(e.$t("business.top10.product")),1)])),_:1},8,["content"])]),w("th",il,[w(n,{tag:"div",content:e.$t("business.top10.tippy.orders")},{default:D((()=>[ne(ce(e.$t("business.top10.orders")),1)])),_:1},8,["content"])]),w("th",al,ce(e.$t("business.top10.amount")),1)])]),w("tbody",null,[(N(!0),k(se,null,ie(e.products,(t=>(N(),k("tr",{key:t.id,class:"metrics-border-b last:metrics-b-0 dark:metrics-border-dark-5"},[w("td",nl,[w("div",cl,ce(t.name),1)]),w("td",ol,ce(t.quantity),1),w("td",ll,ce(e.$n(t.amount,"currency")),1)])))),128))])])):A("",!0)])};var ml=S({name:"LoaderBoxTable"});const dl={class:"metrics-grid metrics-grid-cols-4 metrics-gap-2 metrics-h-full metrics-p-5"},ul=ve('<div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div><div class="metrics-h-6 metrics-rounded-sm metrics-bg-gray-400 metrics-animate-pulse"></div>',32);ml.render=function(e,t,r,s,i,a){return N(),k("div",dl,[ul])};var pl=S({name:"BoxReportTable",props:{title:{type:String,default:""},query:{type:Object,default:()=>({})},dimension:{type:String,default:"productTopSeller"},faker:{type:Boolean,default:!1},additionnalQueryParams:{type:Object,default:()=>({})},tippyContentKey:{type:String,default:""},disabledNetworkRequest:{type:Boolean,default:!1}},components:{FakerReportTable:tl,ReportTable:Vo,BoxError:bi,LoaderBoxTable:ml},setup(e){if(e.faker)return{faker:!0,resultTop10Product:!0};const t=We(),r=Z((()=>o(o({},t.getters["main/GET_VARIABLES_QUERY"]),e.additionnalQueryParams))),s=Z((()=>{const r=t.getters["main/GET_OPTIONS_QUERY"];return e.disabledNetworkRequest&&(r.fetchPolicy="no-cache"),r})),{result:i,loading:a,error:n,refetch:c}=ue(e.query,r,s.value);return{resultTop10Product:i,loading:a,error:n,products:fe(i,[],(t=>t[e.dimension].currentPeriod)),previousProducts:fe(i,[],(t=>t[e.dimension].previousPeriod)),refetch:c}}});const gl={class:"metrics-intro-y metrics-block sm:metrics-flex metrics-items-center metrics-h-10"},yl={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},vl={class:"metrics-intro-y metrics-box metrics-p-5 metrics-mt-2 metrics-border-theme-5 metrics-border"},hl={key:0,class:"metrics-absolute metrics-top-5 metrics-right-5 metrics-z-50"},bl={key:2,class:"metrics-mt-20 metrics-pb-20"};pl.render=function(e,t,r,s,i,a){const n=C("InfoIcon"),c=C("Tippy"),o=C("LoaderBoxTable"),l=C("BoxError"),m=C("FakerReportTable"),d=C("ReportTable");return N(),k("div",null,[w("div",gl,[w("h2",yl,ce(e.title),1)]),w("div",vl,[e.tippyContentKey?(N(),k("div",hl,[w(c,{tag:"div",content:e.$t(e.tippyContentKey)},{default:D((()=>[w(n,{class:"metrics-w-5 lg:metrics-w-3 metrics-h-auto"})])),_:1},8,["content"])])):A("",!0),e.loading?(N(),k(o,{key:1})):e.error?(N(),k("div",bl,[w(l,{retry:e.refetch},null,8,["retry"])])):e.resultTop10Product?(N(),k(se,{key:3},[e.faker?(N(),k(m,{key:0})):(N(),k(d,{key:1,products:e.products,previousProducts:e.previousProducts},null,8,["products","previousProducts"]))],64)):A("",!0)])])};var fl=S({name:"Business",components:{BoxUpgradePlanModal:Fi,BoxReportTable:pl,BoxEvolution:Ec,BoxHighlight:cc,BoxDistribution:vo,RightSection:Vn,BoxSyncStatusModal:Ni},setup(){const e=he(),t=Z((()=>e.state.main.isoCode)),r=Z((()=>e.getters["main/GET_IS_ADVANCED"])),s=Z((()=>e.getters["main/IS_FIRST_ACCESS"])),i=Z((()=>e.getters["main/IS_FIRST_SYNC"])),a=[qr,is],n=Z((()=>e.getters["main/GET_PLAN_MODAL_OPENED"]));return r.value||setTimeout((function(){e.dispatch("main/SET_PLAN_MODAL_OPENED",!0)}),5e3),{advancedPlan:r,upgradePlanModalOpened:n,getTopProduct:rs,getTopOneProduct:ss,arrayQueryOrder:a,revenueByCategory:as,revenueGrossGroupByDistribution:ns,revenueGrossGroupByPaymentsMethods:fs,ArrayDimensionOrderAverage:["orderSum","orderSumGroupByDate"],isFirstSync:i,isFirstAccess:s,isoCode:t,fakerLabels:["revenuenet","refund","shipping","tax"],fakerLabelsPaymentsMethods:["Credit card","E-Transaction","Paypal","Bank transfer"]}}});const xl={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},_l={class:"metrics-relative metrics-col-span-12 xxl:metrics-col-span-9 metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-content-start"},Tl={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-mt-5 metrics-z-0"},Sl={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},El={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},Cl={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},kl={class:"metrics-col-span-12 sm:metrics-col-span-12 metrics-intro-y metrics-mt-2"},wl={class:"metrics-col-span-12 sm:metrics-col-span-12 xl:metrics-col-span-12 metrics-intro-y"},Dl={class:"md:metrics-col-span-6 metrics-col-span-12 lg:metrics-mt-5  metrics-mt-2"},Al={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},Nl={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},Ml={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},Rl={class:"metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},Ol={class:"metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 metrics-mt-2"},Pl={class:"metrics-z-0 metrics-col-span-12 xxl:metrics-col-span-3 xxl:metrics-border-l metrics-border-theme-5 metrics--mb-10 metrics-pb-10"};fl.render=function(e,t,r,s,i,a){const n=C("BoxSyncStatusModal"),c=C("BoxUpgradePlanModal"),o=C("BoxHighlight"),l=C("BoxDistribution"),m=C("BoxEvolution"),d=C("BoxReportTable"),u=C("RightSection");return N(),k("div",xl,[w("div",_l,[e.isFirstAccess||e.isFirstSync?(N(),k(n,{key:0})):e.upgradePlanModalOpened?(N(),k(c,{key:1,canBeClosed:""})):A("",!0),w("div",Tl,[w("div",Sl,[w("h2",El,ce(e.$t("tabs.highlights")),1)]),w("div",Cl,[w("div",kl,[w(o,{"key-translate":"highlight.topCategory",query:e.revenueByCategory,typeValue:"currency",typeKpi:"top",dimension:"revenueGrossByCategories",additionnalQueryParams:{isoCode:e.isoCode},faker:!e.advancedPlan},null,8,["query","additionnalQueryParams","faker"])]),w("div",wl,[w(o,{"key-translate":"highlight.topProduct",query:e.getTopOneProduct,typeValue:"currency",typeKpi:"best",dimension:"productTopSeller",additionnalQueryParams:{limit:1,isoCode:e.isoCode},"disabled-network-request":"",faker:!e.advancedPlan},null,8,["query","additionnalQueryParams","faker"])])])]),w("div",Dl,[w("div",Al,[w("div",Nl,[w(l,{title:e.$t("graph.grossRevenueDistribution"),query:e.revenueGrossGroupByDistribution,dimension:"revenueDistribution",faker:!e.advancedPlan,fakerLabels:e.fakerLabels,tippyContentKey:e.$t("graph.grossRevenueDistributionTooltip")},null,8,["title","query","faker","fakerLabels","tippyContentKey"])]),w("div",Ml,[w(l,{title:e.$t("graph.revenueGrossByPaymentsMethods"),query:e.revenueGrossGroupByPaymentsMethods,dimension:"revenueGrossGroupByPaymentsMethods",faker:!e.advancedPlan,"faker-labels":e.fakerLabelsPaymentsMethods,"tippy-content-key":e.$t("graph.revenueGrossByPaymentsMethodsTooltip")},null,8,["title","query","faker","faker-labels","tippy-content-key"])])])]),w("div",Rl,[w(m,{title:e.$t("graph.ordersEvolution"),queries:e.arrayQueryOrder,dimensions:e.ArrayDimensionOrderAverage,faker:!e.advancedPlan,tippyContentKey:"graph.ordersEvolutionTooltip"},null,8,["title","queries","dimensions","faker"])]),w("div",Ol,[w(d,{title:e.$t("graph.top10Products"),query:e.getTopProduct,faker:!e.advancedPlan,dimension:"productTopSeller",additionnalQueryParams:{limit:10,isoCode:e.isoCode},"disabled-network-request":""},null,8,["title","query","faker","additionnalQueryParams"])])]),w("div",Pl,[w(u)])])};var Il=S({name:"CustomerKnowledge",components:{ReportBoxNumber:Ci,BoxHighlight:cc,BoxDistribution:vo,BoxEvolution:Ec,BoxUpgradePlanModal:Fi,RightSection:Vn,BoxSyncStatusModal:Ni},setup(){const e=E(""),t=E(),r=he(),s=Z((()=>r.getters["main/GET_IS_ADVANCED"])),i=Z((()=>r.getters["main/IS_FIRST_ACCESS"])),a=Z((()=>r.getters["main/IS_FIRST_SYNC"])),n=[Zr,es],c=Z((()=>r.getters["main/GET_PLAN_MODAL_OPENED"]));s.value||setTimeout((function(){r.dispatch("main/SET_PLAN_MODAL_OPENED",!0)}),5e3),M("bind[importantNotesRef]",(e=>{t.value=e}));return{orderSumGroupBySource:ts,orderAverage:Zr,isFirstAccess:i,orderCountPartNewCustomer:vs,orderCountPartByCustomerCategory:bs,orderCountPartReturningCustomer:hs,isFirstSync:a,ArrayQueryOrderAverage:n,ArrayDimensionOrderAverage:["orderAverage","orderAverageGroupByDate"],bounceRate:Hr,avgSessions:Qr,cartAbandonedAverage:Fr,avgCartValue:Kr,salesReportFilter:e,upgradePlanModalOpened:c,advancedPlan:s,prevImportantNotes:()=>{t.value.tns.goTo("prev")},nextImportantNotes:()=>{t.value.tns.goTo("next")},fakerLimit:2,fakerLabels:["new_customer","returning_customer"]}}});const Bl={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},Ll={class:"metrics-relative metrics-col-span-12 xxl:metrics-col-span-9 metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-content-start"},$l={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-mt-5 metrics-z-0"},Gl={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},Ul={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},Yl={class:"metrics-grid metrics-grid-cols-12"},Vl={class:"metrics-col-span-12 sm:metrics-col-span-12 xl:metrics-col-span-12 metrics-intro-y metrics-mt-2 metrics-mb-5"},ql={class:"metrics-col-span-12 sm:metrics-col-span-12 xl:metrics-col-span-12 metrics-intro-y"},Fl={class:"md:metrics-col-span-6 metrics-col-span-12 metrics-z-0 md:metrics-mt-5  metrics-mt-2"},Kl={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},jl={class:"metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5"},zl={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2 metrics-mb-5"},Hl={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},Ql={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},Wl={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2"},Jl={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},Xl={class:"metrics-col-span-12 sm:metrics-col-span-6 xl:metrics-col-span-6 metrics-intro-y"},Zl={class:"metrics-col-span-12 lg:metrics-col-span-6 lg:metrics-mt-8 sm:metrics-mt-0"},em={class:"metrics-col-span-12 sm:metrics-col-span-6 lg:metrics-col-span-3  lg:metrics-mt-8 sm:metrics-mt-0 "},tm={class:"metrics-z-0 metrics-col-span-12 xxl:metrics-col-span-3 xxl:metrics-border-l metrics-border-theme-5 metrics--mb-10 metrics-pb-10"};Il.render=function(e,t,r,s,i,a){const n=C("BoxSyncStatusModal"),c=C("BoxUpgradePlanModal"),o=C("BoxHighlight"),l=C("ReportBoxNumber"),m=C("BoxEvolution"),d=C("BoxDistribution"),u=C("RightSection");return N(),k("div",Bl,[w("div",Ll,[e.isFirstAccess||e.isFirstSync?(N(),k(n,{key:0})):e.upgradePlanModalOpened?(N(),k(c,{key:1,canBeClosed:""})):A("",!0),w("div",$l,[w("div",Gl,[w("h2",Ul,ce(e.$t("tabs.highlights")),1)]),w("div",Yl,[w("div",Vl,[w(o,{"key-translate":"highlight.averageCart",query:e.orderAverage,typeValue:"percent",typeKpi:"evolution",dimension:"orderAverage",faker:!e.advancedPlan},null,8,["query","faker"])]),w("div",ql,[w(o,{"key-translate":"highlight.repeatCustomer",query:e.orderCountPartReturningCustomer,typeValue:"percent",typeKpi:"evolution",dimension:"orderCountPartReturningCustomer",faker:!e.advancedPlan,tippyContentKey:"highlight.repeatCustomerTooltip"},null,8,["query","faker"])])])]),w("div",Fl,[w("div",Kl,[w("h2",jl,ce(e.$t("tabs.report")),1)]),w("div",zl,[w("div",Hl,[w(l,{title:e.$t("boxNumber.averageCartValue"),query:e.avgCartValue,dimension:"orderAverage","is-currency":!0,faker:!e.advancedPlan,"tippy-content-key":e.$t("boxNumber.averageCartValueTooltip")},null,8,["title","query","faker","tippy-content-key"])]),w("div",Ql,[w(l,{title:e.$t("boxNumber.cartAbandonedRate"),query:e.cartAbandonedAverage,dimension:"cartAbandonedAverage","is-percent":!0,faker:!e.advancedPlan,"tippy-content-key":e.$t("boxNumber.cartAbandonedRateTooltip"),"positive-is-lower":!0},null,8,["title","query","faker","tippy-content-key"])])]),w("div",Wl,[w("div",Jl,[w(l,{title:e.$t("boxNumber.bounceRate"),query:e.bounceRate,dimension:"bounceRate","is-percent":!0,faker:!e.advancedPlan,icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.bounceRateTooltip"),"must-be-google-linked":!0,"positive-is-lower":!0},null,8,["title","query","faker","tippy-content-key"])]),w("div",Xl,[w(l,{title:e.$t("boxNumber.averageSessionDuration"),query:e.avgSessions,dimension:"avgSessions","is-time":!0,faker:!e.advancedPlan,icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.averageSessionDurationTooltip"),"must-be-google-linked":!0},null,8,["title","query","faker","tippy-content-key"])])])]),w("div",Zl,[w(m,{title:e.$t("graph.averageCartEvolution"),queries:e.ArrayQueryOrderAverage,dimensions:e.ArrayDimensionOrderAverage,"is-currency":!0,faker:!e.advancedPlan,tippyContentKey:"graph.averageCartEvolutionTooltip"},null,8,["title","queries","dimensions","faker"])]),w("div",em,[w(d,{title:e.$t("graph.customerDistribution"),query:e.orderCountPartByCustomerCategory,dimension:"orderCountPartByCustomerCategory",faker:!e.advancedPlan,tippyContentKey:"graph.customerDistributionTooltip",fakerLabels:e.fakerLabels,fakerLimit:e.fakerLimit},null,8,["title","query","faker","fakerLabels","fakerLimit"])])]),w("div",tm,[w(u)])])};var rm=S({name:"BoxAnalyticsMustBeLinked",props:{horizontal:{type:Boolean,default:!1}},setup(){const e=he();return{linkToSettings:()=>{window.location=e.state.main.configurationLink}}}});const sm={class:"metrics-flex metrics-h-full metrics-w-full metrics-items-center metrics-justify-center metrics-box metrics-p-5 metrics-border-theme-5 metrics-border"},im={class:"metrics-w-full "},am=w("div",{class:"metrics-intro-x"},[w("div",{class:"metrics-justify-center metrics-flex metrics-mb-2"},[w("img",{alt:"Prestashop Metrics",class:"metrics-w-10",src:zs})])],-1),nm={class:"metrics-mt-3 metrics-intro-x"},cm={class:"metrics-text-center metrics-text-gray-777 metrics-text-xs"};rm.render=function(e,t,r,s,i,a){const n=C("i18n-t");return N(),k("div",null,[w("div",sm,[w("div",im,[am,w("div",nm,[w("div",cm,[w(n,{keypath:"error.analyticsSentence"},{linktext:D((()=>[w("span",{class:"metrics-text-theme-43 metrics-cursor-pointer metrics-underline",onClick:t[1]||(t[1]=(...t)=>e.linkToSettings&&e.linkToSettings(...t))},ce(e.$t("error.analyticsSentenceLink")),1)])),_:1})])])])])])};var om=S({name:"Dashboard",components:{BoxAnalyticsMustBeLinkedLarge:rm,ReportBoxNumber:Ci,BoxEvolution:Ec,RightSection:Vn,BoxReportTable:pl},setup(){const e=E(""),t=E(),r=Z((()=>i.state.main.isoCode)),s=[Vr,Wr],i=he();M("bind[importantNotesRef]",(e=>{t.value=e}));const a=Z((()=>i.getters["main/HAS_GOOGLE_ACCOUNT"]));return{conversionRate:us,sessions:jr,uniqueUsers:zr,bounceRate:Hr,avgSessions:Qr,revenueGross:Vr,orderSum:qr,cartAbandonedAverage:Fr,avgCartValue:Kr,salesReportFilter:e,revenueByDate:Wr,sessionsByDate:Jr,arrayQueryRevenue:s,arrayDimensionsRevenue:["revenueGross","revenueGrossGroupByDate"],showAnalyticsLinkBox:a,getTopProduct:rs,isoCode:r}}});const lm={class:"metrics-grid metrics-grid-cols-12 metrics-gap-6"},mm={class:"\n        metrics-relative metrics-col-span-12\n        xxl:metrics-col-span-9\n        metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-content-start\n      "},dm={class:"metrics-col-span-12 metrics-mt-5 metrics-z-0"},um={class:"metrics-intro-y metrics-flex metrics-items-center metrics-h-10"},pm={class:"\n              metrics-text-lg metrics-font-medium metrics-truncate metrics-mr-5\n            "},gm={class:"\n            metrics-grid\n            metrics-grid-cols-12\n            metrics-gap-6\n            metrics-mt-2\n            metrics-mb-5\n          "},ym={class:"\n              metrics-col-span-12\n              sm:metrics-col-span-6\n              lg:metrics-col-span-3\n              metrics-intro-y\n            "},vm={class:"\n              metrics-col-span-12\n              sm:metrics-col-span-6\n              lg:metrics-col-span-3\n              metrics-intro-y\n            "},hm={class:"\n              metrics-col-span-12\n              sm:metrics-col-span-6\n              lg:metrics-col-span-3\n              metrics-intro-y\n            "},bm={class:"\n              metrics-col-span-12\n              sm:metrics-col-span-6\n              lg:metrics-col-span-3\n              metrics-intro-y\n            "},fm={key:0,class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2"},xm={class:"\n              metrics-col-span-12\n              sm:metrics-col-span-6\n              lg:metrics-col-span-3\n              metrics-intro-y\n            "},_m={class:"\n              metrics-col-span-12\n              sm:metrics-col-span-6\n              lg:metrics-col-span-3\n              metrics-intro-y\n            "},Tm={class:"\n              metrics-col-span-12\n              sm:metrics-col-span-6\n              lg:metrics-col-span-3\n              metrics-intro-y\n            "},Sm={class:"\n              metrics-col-span-12\n              sm:metrics-col-span-6\n              lg:metrics-col-span-3\n              metrics-intro-y\n            "},Em={key:1,class:"metrics-grid metrics-grid-cols-12 metrics-gap-6 metrics-mt-2"},Cm={class:"metrics-col-span-12 metrics-intro-y"},km={class:"\n          metrics-col-span-12\n          lg:metrics-col-span-6 lg:metrics-mt-8\n          sm:metrics-mt-0\n        "},wm={class:"\n          metrics-col-span-12\n          lg:metrics-col-span-6 lg:metrics-mt-8\n          sm:metrics-mt-0\n        "},Dm={class:"\n        metrics-z-0 metrics-col-span-12\n        xxl:metrics-col-span-3 xxl:metrics-border-l\n        metrics-border-theme-5 metrics--mb-10 metrics-pb-10\n      "};om.render=function(e,t,r,s,i,a){const n=C("ReportBoxNumber"),c=C("BoxAnalyticsMustBeLinkedLarge"),o=C("BoxEvolution"),l=C("BoxReportTable"),m=C("RightSection");return N(),k("div",lm,[w("div",mm,[w("div",dm,[w("div",um,[w("h2",pm,ce(e.$t("tabs.overviewTitle")),1)]),w("div",gm,[w("div",ym,[w(n,{"is-currency":!0,title:e.$t("boxNumber.revenueGross"),query:e.revenueGross,dimension:"revenueGross","tippy-content-key":e.$t("boxNumber.revenueGrossTooltip")},null,8,["title","query","tippy-content-key"])]),w("div",vm,[w(n,{title:e.$t("boxNumber.orderSum"),query:e.orderSum,dimension:"orderSum","tippy-content-key":e.$t("boxNumber.orderSumTooltip")},null,8,["title","query","tippy-content-key"])]),w("div",hm,[w(n,{"is-currency":!0,title:e.$t("boxNumber.orderAverage"),query:e.avgCartValue,dimension:"orderAverage","tippy-content-key":e.$t("boxNumber.orderAverageTooltip")},null,8,["title","query","tippy-content-key"])]),w("div",bm,[w(n,{"is-percent":!0,title:e.$t("boxNumber.cartAbandonedRate"),query:e.cartAbandonedAverage,dimension:"cartAbandonedAverage","tippy-content-key":e.$t("boxNumber.cartAbandonedRateTooltip"),"positive-is-lower":!0},null,8,["title","query","tippy-content-key"])])]),e.showAnalyticsLinkBox?(N(),k("div",fm,[w("div",xm,[w(n,{"is-percent":!0,title:e.$t("boxNumber.conversionRate"),query:e.conversionRate,dimension:"conversionRate",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.conversionRateTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"])]),w("div",_m,[w(n,{title:e.$t("boxNumber.uniqueSession"),query:e.uniqueUsers,dimension:"uniqueUsers",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.uniqueSessionTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"])]),w("div",Tm,[w(n,{"is-percent":!0,title:e.$t("boxNumber.bounceRate"),query:e.bounceRate,dimension:"bounceRate",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.bounceRateTooltip"),"must-be-google-linked":!0,"positive-is-lower":!0},null,8,["title","query","tippy-content-key"])]),w("div",Sm,[w(n,{"is-time":!0,title:e.$t("boxNumber.averageSessionDuration"),query:e.avgSessions,dimension:"avgSessions",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.averageSessionDurationTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"])])])):(N(),k("div",Em,[w("div",Cm,[w(c)])]))]),w("div",km,[w(o,{"is-currency":!0,title:e.$t("graph.salesEvolution"),dimensions:e.arrayDimensionsRevenue,queries:e.arrayQueryRevenue,tippyContentKey:e.$t("graph.salesEvolutionTooltip")},null,8,["title","dimensions","queries","tippyContentKey"])]),w("div",wm,[w(l,{title:e.$t("graph.top10Products"),query:e.getTopProduct,faker:!1,dimension:"productTopSeller",additionnalQueryParams:{limit:10,isoCode:e.isoCode}},null,8,["title","query","additionnalQueryParams"])])]),w("div",Dm,[w(m)])])};var Am=S({setup:()=>({})});Am.render=function(e,t,r,s,i,a){const n=C("router-view");return N(),k(n)};const Nm=new class{constructor(){this.get=e=>{let t=localStorage.getItem(e);if(null===t)return null;t=JSON.parse(t);return new Date(t.expires)<new Date?(localStorage.removeItem(e),null):t.value},this.set=(e,t,r)=>{const s=(new Date).getTime(),i=new Date(s+6e4*r);localStorage.setItem(e,JSON.stringify({value:t,expires:i}))}}};var Mm=S({name:"LegacyModulesHandler",setup(){const e=he(),t=E(!0),r=Z((()=>e.getters["main/GET_MODULES_IS_ENABLED"])),s=Z((()=>e.getters["main/PSX_IS_CONNECTED"])),i=Z((()=>e.getters["main/IS_LEGACY_STATS_PAGE"]));return P((()=>{const e=Nm.get("psmetricsEnableDashboardModulesAlert");t.value=null===e})),{modulesIsEnabled:r,psxIsConnected:s,display:t,isLegacyStatsPage:i,close:()=>{Nm.set("psmetricsEnableDashboardModulesAlert",!0,43200),t.value=!1},toggleModules:()=>{e.dispatch("main/SET_MODULES_IS_ENABLED",!r.value).then((()=>{location.reload()}))}}}});const Rm={key:0,class:"\n        metrics-bg-indigo-100\n        metrics-border-l-4\n        metrics-border-theme-43\n        metrics-text-theme-43\n        metrics-p-4\n        metrics-relative\n      ",role:"alert"},Om={key:0,class:"metrics-pr-6"},Pm={class:"\n          metrics-absolute\n          metrics-top-0\n          metrics-bottom-0\n          metrics-right-0\n          metrics-px-4\n          metrics-py-3\n        "},Im=w("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"},null,-1);Mm.render=function(e,t,r,s,i,a){return N(),k("div",null,[!e.isLegacyStatsPage&&e.psxIsConnected&&e.display?(N(),k("div",Rm,[e.modulesIsEnabled?(N(),k("span",Om,[ne(ce(e.$t("alerts.disableDashboardModules.text"))+". ",1),w("a",{class:"\n              metrics-text-theme-43\n              hover:metrics-text-indigo-500\n              metrics-font-semibold\n            ",onClick:t[1]||(t[1]=ae((t=>e.toggleModules()),["prevent"])),href:"#"},ce(e.$t("alerts.disableDashboardModules.cta"))+". ",1)])):(N(),k(se,{key:1},[ne(ce(e.$t("alerts.enableDashboardModules.text"))+". ",1),w("a",{class:"\n            metrics-text-theme-43\n            hover:metrics-text-indigo-500\n            metrics-font-semibold\n          ",onClick:t[2]||(t[2]=ae((t=>e.toggleModules()),["prevent"])),href:"#"},ce(e.$t("alerts.enableDashboardModules.cta"))+". ",1)],64)),w("span",Pm,[(N(),k("svg",{class:"\n            metrics-fill-current metrics-h-6 metrics-w-6 metrics-text-theme-43\n            hover:metrics-text-indigo-500\n          ",role:"button",viewBox:"0 0 20 20",onClick:t[3]||(t[3]=(...t)=>e.close&&e.close(...t))},[Im]))])])):A("",!0)])};var Bm=S({components:{TopBarButtonDate:wr,ReportBoxNumber:Ci,BoxSynchronization:va,BoxNextFeatures:Da,BoxNewVersionAvailable:Tn,BoxUpgradePlan:ia,LegacyModulesHandler:Mm},setup(){const e=he(),t=e.state.main.canShowDashboard,r=Z((()=>e.state.main.user.email)),s=Z((()=>e.state.main.metricsLink)),i=Z((()=>e.state.main.configurationLink));let a=E(!0),n=!1,c="1f7f8a936d0bf02d1a36ae49bb4f010c";P((()=>{const t=m(),r=t.subtract(7,"day"),s=t.subtract(1,"day");e.dispatch("main/SET_SLUG_BUTTON_DATE","7d"),e.dispatch("main/SET_ERROR_ON_KPI",!1),e.dispatch("main/SET_DATE_RANGE",{startDate:r.locale(e.state.main.isoCode).format("YYYY-MM-DD"),endDate:s.locale(e.state.main.isoCode).format("YYYY-MM-DD")}),e.dispatch("main/SET_COMPARE_MODE",!0);const i=u();let c;if(e.state.main.shop.shopUuid&&!i){const t={shopId:e.state.main.shop.shopUuid},{result:r}=ue(ds,t);c=fe(r,void 0,(e=>e)),c.data&&(localStorage.clear(),p(c.data.account))}else c=JSON.parse(i);n="metrics-advanced"===c.plan,a.value=!1}));const{appContext:{config:{globalProperties:{$segment:d}}}}=re(),u=()=>{const e=c+"=",t=document.cookie.split(";");for(let r=0;r<t.length;r++){let s=t[r];for(;" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(e))return s.substring(e.length,s.length)}return""},p=e=>{const t=new Date;t.setTime(t.getTime()+864e5);const r="expires="+t.toUTCString();document.cookie=c+"="+JSON.stringify(e)+";"+r+";path=/"};return{metricsIsConfigured:t,account:{},loading:a,metricsAdvanced:n,redirectToSettings:()=>{d().track("[MTR] Dashboard Start Setup",l(o({},""!=r.value&&{email:r}),{module:"ps_metrics"})),window.location.href=i.value},getCookieAccount:u,setCookieAccount:p,redirectToMetrics:()=>{d().track("[MTR] Dashboard Open Metrics",o({module:"ps_metrics"},""!==e.state.main.user.email&&{email:e.state.main.user.email})),window.location.href=s.value},revenueGross:Vr,orderSum:qr,conversionRate:us,uniqueUsers:zr}}});const Lm={id:"psmetricsApp",class:"dashboard metrics-mb-5"},$m={key:0},Gm={id:"metrics-preview"},Um={class:"metrics-bg-white"},Ym={class:"metrics-preview-header metrics-flex"},Vm=w("img",{class:"metrics-h-6 metrics-w-6",src:Ts},null,-1),qm={class:"metrics-uppercase metrics-px-2.5"},Fm={class:"metrics-m-5"},Km={class:"metrics-flex metrics-justify-between"},jm={class:"metrics-mb-4 metrics-text-gray-600 metrics-italic"},zm={key:0,class:"metrics-grid metrics-grid-cols-12 metrics-gap-3"},Hm={class:"\n                  metrics-flex\n                  metrics-col-span-12\n                  metrics-justify-center\n                  metrics-items-center\n                  metrics-mt-2\n                "},Qm={class:"metrics-mr-3"},Wm={key:1},Jm={id:"metrics-preview"},Xm={class:"metrics-preview-header metrics-flex"},Zm=w("img",{class:"metrics-h-6 metrics-w-6",src:Ts},null,-1),ed={class:"metrics-uppercase metrics-px-2.5"},td={class:"metrics-p-5 metrics-bg-white"},rd={class:"metrics-flex metrics-justify-evenly metrics-items-center"},sd=w("div",{class:"metrics-p-0 sm:metrics-col-span-3"},[w("img",{class:"metrics-w-48",src:_s})],-1),id={class:"sm:metrics-col-span-8"},ad={class:"metrics-float-right metrics-py-5"};Bm.render=function(e,t,r,s,i,a){const n=C("TopBarButtonDate"),c=C("ReportBoxNumber"),o=C("BoxNewVersionAvailable"),l=C("BoxSynchronization"),m=C("BoxUpgradePlan"),d=C("BoxNextFeatures"),u=C("LegacyModulesHandler");return N(),k("div",Lm,[e.metricsIsConfigured?(N(),k("div",$m,[w("div",Gm,[w("div",Um,[w("div",Ym,[Vm,w("span",qm,ce(e.$t("general.title")),1)]),w("div",Fm,[w("div",Km,[w(n,{class:"metrics-mb-4"}),w("span",jm,ce(e.$t("dates.comparedWithPreviousPeriod")),1)]),e.loading?A("",!0):(N(),k("div",zm,[w(c,{class:"\n                  metrics-col-span-12\n                  sm:metrics-col-span-6\n                  xl:metrics-col-span-3\n                  metrics-intro-y\n                ","is-currency":!0,title:e.$t("boxNumber.revenueGross"),query:e.revenueGross,dimension:"revenueGross","tippy-content-key":e.$t("boxNumber.revenueGrossTooltip")},null,8,["title","query","tippy-content-key"]),w(c,{class:"\n                  metrics-col-span-12\n                  sm:metrics-col-span-6\n                  xl:metrics-col-span-3\n                  metrics-intro-y\n                ",title:e.$t("boxNumber.orderSum"),query:e.orderSum,dimension:"orderSum","tippy-content-key":e.$t("boxNumber.orderSumTooltip")},null,8,["title","query","tippy-content-key"]),w(c,{class:"\n                  metrics-col-span-12\n                  sm:metrics-col-span-6\n                  xl:metrics-col-span-3\n                  metrics-intro-y\n                ","is-percent":!0,title:e.$t("boxNumber.conversionRate"),query:e.conversionRate,dimension:"conversionRate",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.conversionRateTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"]),w(c,{class:"\n                  metrics-col-span-12\n                  sm:metrics-col-span-6\n                  xl:metrics-col-span-3\n                  metrics-intro-y\n                ",title:e.$t("boxNumber.uniqueSession"),query:e.uniqueUsers,dimension:"uniqueUsers",icon:"AnalyticsIcon","tippy-content-key":e.$t("boxNumber.uniqueSessionTooltip"),"must-be-google-linked":!0},null,8,["title","query","tippy-content-key"]),w("div",Hm,[w("span",Qm,ce(e.$t("general.textBeforeOpenMetrics")),1),w("button",{type:"button",class:"\n                    metrics-button metrics-button--md\n                    metrics-zoom-in\n                    metrics-border\n                    metrics-bg-theme-43\n                    metrics-border-theme-43\n                    dark:metrics-border-dark-5\n                    metrics-text-white\n                  ",onClick:t[1]||(t[1]=t=>e.redirectToMetrics())},ce(e.$t("general.openMetrics")),1)]),w(o,{"show-title":!1}),e.metricsAdvanced?(N(),k(l,{key:0,"show-title":!1,account:e.account},null,8,["account"])):(N(),k(m,{key:1,"show-title":!1})),w(d,{"show-title":!1})]))])])])])):(N(),k("div",Wm,[w("div",Jm,[w("div",Xm,[Zm,w("span",ed,ce(e.$t("general.title")),1)]),w("div",td,[w("div",rd,[sd,w("div",id,[w("h1",null,ce(e.$t("incentivePanel.title")),1),w("div",null,[w("ul",null,[w("li",null,ce(e.$t("incentivePanel.gather")),1),w("li",null,ce(e.$t("incentivePanel.monitor")),1),w("li",null,ce(e.$t("incentivePanel.decisions")),1)]),w("div",ad,[w("button",{type:"button",class:"\n                      metrics-button metrics-button--md\n                      metrics-border metrics-bg-theme-43 metrics-border-theme-43\n                      dark:metrics-border-dark-5\n                      metrics-text-white metrics-m-auto\n                    ",onClick:t[2]||(t[2]=t=>e.redirectToSettings())},ce(e.$t("incentivePanel.link")),1)])])])])])])])),w(u,{class:"metrics-mt-4"})])};const nd=We(),cd=[{path:"/",component:Am,children:[{path:"",component:xs,children:[{path:"",name:"tab_overview",component:om,meta:{todayIsAccessible:!0}},{path:"business",name:"tab_business",component:fl,meta:{todayIsAccessible:!1}},{path:"customer-knowledge",name:"tab_customer_knowledge",component:Il,meta:{todayIsAccessible:!1}},{path:"acquisition",name:"tab_acquisition",component:Co,meta:{todayIsAccessible:!1}}]}]},{path:"/preview",name:"metrics_preview",component:Bm,meta:{exclude:!0}},{path:"/:pathMatch(.*)*",component:$s,meta:{exclude:!0}}],od=we({history:De(),routes:cd,scrollBehavior:(e,t,r)=>r||{left:0,top:0}});od.beforeEach(((e,t,r)=>{nd.dispatch("main/SET_TODAY_ACCESSIBLE",!!e.meta.todayIsAccessible&&e.meta.todayIsAccessible),nd.dispatch("main/SET_ERROR_ON_KPI",!1),nd.getters["main/GET_PLAN_MODAL_OPENED"]&&nd.dispatch("main/SET_PLAN_MODAL_OPENED",!1),"metrics_preview"!==e.name&&"dashboard"===nd.state.main.app?r({name:"metrics_preview"}):r(),r()}));const ld=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722"];const md=e=>{e.config.globalProperties.$c=e=>function(e){if(e>ld.length)throw new Error("getRamdomColor: too much elements taken than available colors");return ld.slice(0,e)}(e)};function dd(e,t,r){const s=[];let i=m(e);const a=m(t);for(;i<=a;)s.push(m(i).format("YYYY-MM-DD")),i=m(i).add(1,"days");return"week"===r?s.map((e=>`${m(e).year()}-${m(e).format("ww")}`)).filter(ud):"month"===r?function(e){return e.map((e=>`${m(e).year()}-${m(e).format("MM")}`)).filter(ud)}(s):"hour"===r?function(e){const t=[];for(let r=0;r<24;r++){let s="";s=r<=9?e[0]+" 0"+r+":00:00":e[0]+" "+r+":00:00",t.push(s)}return t}(s):s}function ud(e,t,r){return r.indexOf(e)===t}m.extend(Te),m.extend(Se);const pd=e=>{e.config.globalProperties.$dr=(e,t,r)=>dd(e,t,r)};const gd=Ae(ut).use(Qe).use(od).use(kr);var yd;gd.use(Ne,{router:od,debug:!1,id:"iqrIKrNdu66IoCgzyHPeaaUweBKZmJmC",pageCategory:"[MTR]"}),(e=>{e.component("Tippy",xr),e.component("Chart",vt),e.component("TippyContent",br),e.component("LoadingIcon",bt),e.component("TinySlider",vr);for(const[t,r]of Object.entries(H))r.props.size.default="24",e.component(t,r)})(gd),(yd=gd).use(yt),yd.use(md),yd.use(pd),gd.mount("#app");
